<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>7.0</version>
    <template_groups>
        <template_group>
            <uuid>5e1c070575b24b21950836034176313a</uuid>
            <name>Templates/Hardware</name>
        </template_group>
    </template_groups>
    <templates>
        <template>
            <uuid>03099905207746549457346766465365</uuid>
            <template>Template IBM TS4300 Advanced v7.0</template>
            <name>Template IBM TS4300 Advanced v7.0</name>
            <description>Template com OIDs confirmados via snmpwalk.</description>
            <groups>
                <group>
                    <name>Templates/Hardware</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>18296315772444289844332766336332</uuid>
                    <name>Saúde Global da Biblioteca (Status Geral)</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.14851.3.1.4.10.1.10.1</snmp_oid>
                    <key>ibm.ts4300.global.health</key>
                    <delay>1m</delay>
                    <description>Status geral do hardware. Valores: 2=OK, 3=Degradado, 4=Falha.</description>
                    <valuemap>
                        <name>Operational Status SNIA</name>
                    </valuemap>
                    <triggers>
                        <trigger>
                            <uuid>12121212121242128212121212121212</uuid>
                            <expression>last(/Template IBM TS4300 Advanced v7.0/ibm.ts4300.global.health)&lt;&gt;2</expression>
                            <name>TS4300: Saúde Global não está OK</name>
                            <priority>HIGH</priority>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>26237722124644448844245366436666</uuid>
                    <name>Total de Mídias (Fitas) Detectadas</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.14851.3.1.13.2.0</snmp_oid>
                    <key>ibm.ts4300.media.total</key>
                    <delay>1h</delay>
                    <description>Quantidade total de fitas físicas na library.</description>
                </item>
                <item>
                    <uuid>76246624552444229922446622552466</uuid>
                    <name>Quantidade de Alertas e Exceções</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.14851.3.1.10.10.0</snmp_oid>
                    <key>ibm.ts4300.alerts.count</key>
                    <delay>5m</delay>
                    <description>Contador de exceções ou alertas ativos na library.</description>
                    <triggers>
                        <trigger>
                            <uuid>34343434343444349434343434343434</uuid>
                            <expression>last(/Template IBM TS4300 Advanced v7.0/ibm.ts4300.alerts.count)&gt;0</expression>
                            <name>TS4300: Existem alertas ativos no painel</name>
                            <priority>WARNING</priority>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <uuid>5656565656564656a656565656565656</uuid>
                    <name>Descoberta de Drives LTO</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#DRIVEINDEX},.1.3.6.1.4.1.14851.3.1.6.2.1.1]</snmp_oid>
                    <key>ibm.ts4300.drives.discovery</key>
                    <delay>1h</delay>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>9999999999994999a999999999999999</uuid>
                            <name>Drive {#DRIVEINDEX}: Status Operacional</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.14851.3.1.6.2.1.11.{#DRIVEINDEX}</snmp_oid>
                            <key>ibm.ts4300.drive.status[{#DRIVEINDEX}]</key>
                            <delay>1m</delay>
                            <valuemap>
                                <name>Operational Status SNIA</name>
                            </valuemap>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>8888888888884888b888888888888888</uuid>
                                    <expression>last(/Template IBM TS4300 Advanced v7.0/ibm.ts4300.drive.status[{#DRIVEINDEX}])&lt;&gt;2</expression>
                                    <name>TS4300 Drive {#DRIVEINDEX}: Falha ou Erro</name>
                                    <priority>AVERAGE</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>77777777777747779777777777777777</uuid>
                            <name>Drive {#DRIVEINDEX}: Requer Limpeza</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.14851.3.1.6.2.1.6.{#DRIVEINDEX}</snmp_oid>
                            <key>ibm.ts4300.drive.cleaning[{#DRIVEINDEX}]</key>
                            <delay>1h</delay>
                            <valuemap>
                                <name>Boolean Status</name>
                            </valuemap>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
            <valuemaps>
                <valuemap>
                    <uuid>11111111111141118111111111111111</uuid>
                    <name>Operational Status SNIA</name>
                    <mappings>
                        <mapping><value>2</value><newvalue>OK</newvalue></mapping>
                        <mapping><value>3</value><newvalue>Degraded</newvalue></mapping>
                        <mapping><value>4</value><newvalue>Stressed (Heat/Overload)</newvalue></mapping>
                        <mapping><value>5</value><newvalue>Predictive Failure</newvalue></mapping>
                        <mapping><value>6</value><newvalue>Error</newvalue></mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>2222222222224222a222222222222222</uuid>
                    <name>Boolean Status</name>
                    <mappings>
                        <mapping><value>1</value><newvalue>Sim / Alerta</newvalue></mapping>
                        <mapping><value>2</value><newvalue>Não / Normal</newvalue></mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
    </templates>
</zabbix_export>