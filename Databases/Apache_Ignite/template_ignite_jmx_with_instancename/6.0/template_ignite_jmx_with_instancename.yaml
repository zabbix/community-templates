zabbix_export:
  version: '6.0'
  date: '2021-11-21T21:59:40Z'
  groups:
    -
      uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
      name: Templates/Applications
  templates:
    -
      uuid: c7c785e5c1b248eeb5aa0eb13e1603df
      template: 'App Ignite JMX'
      name: 'App Ignite JMX'
      description: |
        ## Overview
        
         JMX metrics template for Apache Ignite and Gridgain computing platform.
        
        
        All metrics are discoverable. Template supports jmx with certificates and credentionals
        
        
        To apply them to your cluster you have to:
        
        
        * add the following jvm option to -DIGNITE\_MBEAN\_APPEND\_CLASS\_LOADER\_ID=false
        * set the following xml option
        
        
        Template tested with ignite 2.8.0 and GridGain 2.7.16
        
        
        
        
      groups:
        -
          name: Templates/Applications
      discovery_rules:
        -
          uuid: ced2c11ae30148dcb3f21a95f40bb852
          name: 'Cache Metrics'
          type: JMX
          key: 'jmx.discovery[beans,"org.apache:igniteInstanceName=*,group=*,name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\""]'
          delay: 30m
          username: '{$IGNITE_JMX_USER}'
          password: '{$IGNITE_JMX_PASS}'
          lifetime: 1d
          item_prototypes:
            -
              uuid: 0181af6082a24a6ca83fa1a1ba5f4ab4
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXGROUP} - CacheGets'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",CacheGets]'
              delay: 5m
              trends: 90d
              units: ops
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Cache
            -
              uuid: 3d971eba62a842d6a857fefb419fed4d
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXGROUP} - CachePuts'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",CachePuts]'
              delay: 5m
              trends: 90d
              units: ops
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Cache
            -
              uuid: a6228eed95ed4b93acece7fe38ac43dc
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXGROUP} - CacheRemovals'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",CacheRemovals]'
              delay: 5m
              trends: 90d
              units: ops
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Cache
            -
              uuid: ebc6057c910f4cbd89016681b6d1bd92
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXGROUP} - CacheSize'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",CacheSize]'
              delay: 5m
              trends: 90d
              units: keys
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Cache
            -
              uuid: e8b27febe2ee455faa09fdfbfbf4aa6b
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXGROUP} - CacheTxCommits'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",CacheTxCommits]'
              delay: 5m
              trends: 90d
              units: tps
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Cache
            -
              uuid: fd490eed24c944368f6675f7abb28cf0
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXGROUP} - CacheTxRollbacks'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",CacheTxRollbacks]'
              delay: 5m
              trends: 90d
              units: tps
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Cache
            -
              uuid: 3264bcc042b64d14914ecb5d5ce2723b
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXGROUP} - HeapEntriesCount'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",HeapEntriesCount]'
              delay: 5m
              trends: 90d
              units: keys
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Cache
            -
              uuid: fb23db3da1c1495c9fba648866be400a
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXGROUP} - NodeKeyCount'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",Size]'
              delay: 5m
              trends: 90d
              units: keys
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Cache
          trigger_prototypes:
            -
              uuid: 487b9e34a86349ba9a4ec5cb564b4dbb
              expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",HeapEntriesCount])=last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",CacheSize])'
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXGROUP} - All entries are in heap'
              priority: INFO
              description: 'All entries are in heap. Possibly you use eager queries it may cause out of memory exceptions for big caches.'
            -
              uuid: b027f3ded2f542fa83f1ed7f006991d2
              expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",CacheTxCommits])<last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",CacheTxRollbacks])'
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXGROUP} - There are more then 50% rollbacks'
              priority: WARNING
              dependencies:
                -
                  name: '{#JMXIGNITEINSTANCENAME} - {#JMXGROUP} - There is no success transactions for cache'
                  expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",CacheTxCommits])=0 and last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",CacheTxRollbacks])>0'
            -
              uuid: 98822131c9714923886706700cc47bec
              expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",CacheTxCommits])=0 and last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group={#JMXGROUP},name=\"org.apache.ignite.internal.processors.cache.CacheLocalMetricsMXBeanImpl\"",CacheTxRollbacks])>0'
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXGROUP} - There is no success transactions for cache'
              priority: AVERAGE
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          uuid: b02d53f2240c4a2c9f13e5beeacbf822
          name: 'Data Region Metrics'
          type: JMX
          key: 'jmx.discovery[beans,"org.apache:igniteInstanceName=*,group=DataRegionMetrics,name=*"]'
          delay: 30m
          lifetime: 1d
          item_prototypes:
            -
              uuid: 5b699910f4824668b37eb8ddc6aec18e
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - Checkpoint buffer utilization'
              type: CALCULATED
              key: 'checkpointBufferUtilization[{#JMXIGNITEINSTANCENAME}_{#JMXNAME}]'
              units: '%'
              params: 'max(//jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",CheckpointBufferSize],5m)/100*max(//jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",UsedCheckpointBufferSize],5m)'
              tags:
                -
                  tag: Application
                  value: 'Data Region Metrics'
              trigger_prototypes:
                -
                  uuid: d37b57d7db3c4e7c9563ac6fd334993e
                  expression: 'min(/App Ignite JMX/checkpointBufferUtilization[{#JMXIGNITEINSTANCENAME}_{#JMXNAME}],5s)>66'
                  name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - Checkpoint buffer utilization > 66%'
                  priority: WARNING
                  description: 'Checkpoint buffer utilization is high. Threads will be throttled to avoid buffer overflow. It can be coused by high disk utilization.'
                  dependencies:
                    -
                      name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - Checkpoint buffer utilization > 80%'
                      expression: 'min(/App Ignite JMX/checkpointBufferUtilization[{#JMXIGNITEINSTANCENAME}_{#JMXNAME}],5s)>80'
                  tags:
                    -
                      tag: ignite
                      value: utilization
                -
                  uuid: 604da08f5cf14ed4a512412d0bf5e098
                  expression: 'min(/App Ignite JMX/checkpointBufferUtilization[{#JMXIGNITEINSTANCENAME}_{#JMXNAME}],5s)>80'
                  name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - Checkpoint buffer utilization > 80%'
                  priority: HIGH
                  description: 'Checkpoint buffer utilization is high. Threads will be throttled to avoid buffer overflow. It can be caused by high disk utilization.'
                  tags:
                    -
                      tag: ignite
                      value: utilization
            -
              uuid: 64789377bec44f0fb280da07a1391780
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - DataRegion utilisation'
              type: CALCULATED
              key: 'dataRegion.util[{#JMXIGNITEINSTANCENAME}_{#JMXNAME}]'
              history: 2w
              trends: 30d
              value_type: FLOAT
              units: '%'
              params: 'max(//jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",OffheapSize],5m)/100*max(//jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",OffheapUsedSize],5m)'
              tags:
                -
                  tag: Application
                  value: 'Data Region Metrics'
              trigger_prototypes:
                -
                  uuid: d60be741643848bb987ebed1c17681c5
                  expression: 'last(/App Ignite JMX/dataRegion.util[{#JMXIGNITEINSTANCENAME}_{#JMXNAME}])>80'
                  name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - Data region utilization > 80%'
                  priority: WARNING
                  description: 'Data region utilization is high. Increase data region size or delete any data.'
                  dependencies:
                    -
                      name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - Data region utilization > 90%'
                      expression: 'last(/App Ignite JMX/dataRegion.util[{#JMXIGNITEINSTANCENAME}_{#JMXNAME}])>90'
                  tags:
                    -
                      tag: ignite
                      value: storage_utilization
                -
                  uuid: 66ae97d18e9a4596a7809aa619cc80d1
                  expression: 'last(/App Ignite JMX/dataRegion.util[{#JMXIGNITEINSTANCENAME}_{#JMXNAME}])>90'
                  name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - Data region utilization > 90%'
                  priority: AVERAGE
                  description: 'Data region utilization is high. Increase data region size or delete any data.'
                  dependencies:
                    -
                      name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - Data region utilization > 95%'
                      expression: 'last(/App Ignite JMX/dataRegion.util[{#JMXIGNITEINSTANCENAME}_{#JMXNAME}])>95'
                  tags:
                    -
                      tag: ignite
                      value: storage_utilization
                -
                  uuid: 62d573fa28d7400585d85d8edde69f84
                  expression: 'last(/App Ignite JMX/dataRegion.util[{#JMXIGNITEINSTANCENAME}_{#JMXNAME}])>95'
                  name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - Data region utilization > 95%'
                  priority: HIGH
                  description: 'Data region utilization is high. Increase data region size or delete any data.'
                  tags:
                    -
                      tag: ignite
                      value: storage_utilization
            -
              uuid: d8c4cec20fa147a2828275b04bb19fea
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - AllocationRate'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",AllocationRate]'
              history: 2w
              trends: 30d
              value_type: FLOAT
              units: pps
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              request_method: POST
              tags:
                -
                  tag: Application
                  value: 'Data Region Metrics'
            -
              uuid: 6027d180418546b79c85785059c2bc97
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - CheckpointBufferSize'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",CheckpointBufferSize]'
              history: 2w
              trends: 30d
              value_type: FLOAT
              units: B
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Data Region Metrics'
            -
              uuid: 30898194ccab45c39ef45f653d3344ef
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - DirtyPages'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",DirtyPages]'
              history: 2w
              trends: 30d
              units: p
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              request_method: POST
              tags:
                -
                  tag: Application
                  value: 'Data Region Metrics'
            -
              uuid: 9753e54bbb6042bb80f786cfbb2b4c5f
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - EvictionRate'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",EvictionRate]'
              history: 2w
              trends: 30d
              value_type: FLOAT
              units: pps
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              request_method: POST
              tags:
                -
                  tag: Application
                  value: 'Data Region Metrics'
              trigger_prototypes:
                -
                  uuid: b6722046d915439d9da9517ffea34a0c
                  expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",EvictionRate])>0'
                  name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - Node started to evict pages'
                  priority: INFO
                  description: 'You store more data then region can accommodate. Data started to move to disk it can make requests work slower.'
                  tags:
                    -
                      tag: ignite
                      value: storage_utilization
            -
              uuid: 76d02c2d6e414971baaa2c90d6511af2
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - MaxSize'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",MaxSize]'
              history: 2w
              trends: 30d
              units: GB
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '1048576'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Data Region Metrics'
            -
              uuid: 3f39c4fd48de46bfa94fa4a08dc4246b
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - OffHeapSize'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",OffHeapSize]'
              history: 2w
              trends: 30d
              units: B
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              request_method: POST
              tags:
                -
                  tag: Application
                  value: 'Data Region Metrics'
            -
              uuid: a4e39713daf6443cbec1d3586057946c
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - OffheapUsedSize'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",OffheapUsedSize]'
              history: 2w
              trends: 30d
              units: B
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              request_method: POST
              tags:
                -
                  tag: Application
                  value: 'Data Region Metrics'
            -
              uuid: 9ff4c88a2dec4ae883b6163b651b260a
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - PagesFillFactor'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",PagesFillFactor]'
              history: 2w
              trends: 30d
              value_type: FLOAT
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Data Region Metrics'
            -
              uuid: 3c292064186a4c9788579bd833491221
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - PagesReplaceRate'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",PagesReplaceRate]'
              history: 2w
              trends: 30d
              value_type: FLOAT
              units: pps
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              request_method: POST
              tags:
                -
                  tag: Application
                  value: 'Data Region Metrics'
            -
              uuid: 5da3d94209124130a19f0912f8a81fc9
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - UsedCheckpointBufferSize'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",UsedCheckpointBufferSize]'
              history: 2w
              trends: 30d
              value_type: FLOAT
              units: B
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              request_method: POST
              tags:
                -
                  tag: Application
                  value: 'Data Region Metrics'
            -
              uuid: 29d9537a9af547ab952fd21e94dcdf43
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - OffHeapFree'
              type: CALCULATED
              key: 'offHeapFree[{#JMXIGNITEINSTANCENAME}_{#JMXNAME}]'
              history: 2w
              trends: 30d
              units: B
              params: 'last(//jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",OffHeapSize])-last(//jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=DataRegionMetrics,name={#JMXNAME}",OffheapUsedSize])'
              tags:
                -
                  tag: Application
                  value: 'Data Region Metrics'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          request_method: POST
        -
          uuid: 1b2ce3cf1e0d4655b27912b089b8aadf
          name: 'Ingite Kernal Metrics'
          type: JMX
          key: 'jmx.discovery[beans,"org.apache:igniteInstanceName=*,group=Kernal,name=IgniteKernal"]'
          delay: 30m
          username: '{$IGNITE_JMX_USER}'
          password: '{$IGNITE_JMX_PASS}'
          lifetime: 1d
          item_prototypes:
            -
              uuid: cfd104bba09442229b0fce97242f6651
              name: '{#JMXIGNITEINSTANCENAME} - CurrentCancelledJobs'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",CurrentCancelledJobs]'
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
            -
              uuid: 1991b829acab4c5db9f8da22736765da
              name: '{#JMXIGNITEINSTANCENAME} - CurrentPmeDuration'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",CurrentPmeDuration]'
              delay: 10s
              units: ms
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
              trigger_prototypes:
                -
                  uuid: 214c3c1b951243f08b5b1d4edcd7cebd
                  expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",CurrentPmeDuration])>60000'
                  name: '{#JMXIGNITEINSTANCENAME} - Looks like PME is hung'
                  priority: HIGH
                -
                  uuid: fffe148613ec44049d7e64124f001e4d
                  expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",CurrentPmeDuration])>0'
                  name: '{#JMXIGNITEINSTANCENAME} - PME on cluster'
                  priority: INFO
                  dependencies:
                    -
                      name: '{#JMXIGNITEINSTANCENAME} - Too long pme'
                      expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",CurrentPmeDuration])>10000'
                -
                  uuid: 21a1a32ceb864cadb58ca29989e7f488
                  expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",CurrentPmeDuration])>10000'
                  name: '{#JMXIGNITEINSTANCENAME} - Too long pme'
                  priority: WARNING
                  dependencies:
                    -
                      name: '{#JMXIGNITEINSTANCENAME} - Looks like PME is hung'
                      expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",CurrentPmeDuration])>60000'
            -
              uuid: fed0e4c0c5a54a6e9830946e45dc2454
              name: '{#JMXIGNITEINSTANCENAME} - CurrentRejectedJobs'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",CurrentRejectedJobs]'
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
            -
              uuid: d12c14b44b2648dab779635ad22ef498
              name: '{#JMXIGNITEINSTANCENAME} - CurrentThreadCount'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",CurrentThreadCount]'
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
              trigger_prototypes:
                -
                  uuid: 74c0d02483384b67a453584d68132bc2
                  expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",CurrentThreadCount])>1000'
                  name: '{#JMXIGNITEINSTANCENAME} - Too many running threads'
                  priority: WARNING
                  dependencies:
                    -
                      name: '{#JMXIGNITEINSTANCENAME} - Looks like PME is hung'
                      expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",CurrentPmeDuration])>60000'
            -
              uuid: 2223dff8744e4381a2178ac9491cdcd7
              name: '{#JMXIGNITEINSTANCENAME} - CurrentWaitingJobs'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",CurrentWaitingJobs]'
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
              trigger_prototypes:
                -
                  uuid: cb32125df0ef456892b197a2e86af3ba
                  expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",CurrentWaitingJobs])>10'
                  name: '{#JMXIGNITEINSTANCENAME} - More then 10 jobs in queue'
                  priority: WARNING
            -
              uuid: e44d902713134454a2cf0f3da977412a
              name: '{#JMXIGNITEINSTANCENAME} - HeapMemoryUsed'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterLocalNodeMetricsMXBeanImpl",HeapMemoryUsed]'
              units: B
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
            -
              uuid: dc8f04978d0444acb458644b9b966771
              name: '{#JMXIGNITEINSTANCENAME} - TotalBaselineNodes'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterMetricsMXBeanImpl",TotalBaselineNodes]'
              delay: 5m
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
            -
              uuid: 754df70e27f24bc6b7caf35aced85ab8
              name: '{#JMXIGNITEINSTANCENAME} - TotalClientNodes'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterMetricsMXBeanImpl",TotalClientNodes]'
              delay: 5m
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
            -
              uuid: 225acd5b467e47adade2a289a30b18b3
              name: '{#JMXIGNITEINSTANCENAME} - TotalNodes'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterMetricsMXBeanImpl",TotalNodes]'
              delay: 5m
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
            -
              uuid: ad3f31b5126a448596b3205882618b9f
              name: '{#JMXIGNITEINSTANCENAME} - TotalServerNodes'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterMetricsMXBeanImpl",TotalServerNodes]'
              delay: 5m
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
              trigger_prototypes:
                -
                  uuid: 61d952fceea04a14a1a2e0eb2d86b8a4
                  expression: 'change(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterMetricsMXBeanImpl",TotalServerNodes])>0'
                  name: '{#JMXIGNITEINSTANCENAME} - Node added to topology'
                  priority: INFO
                  tags:
                    -
                      tag: ignite
                      value: node_join
                -
                  uuid: 005ea796e70645be9bd4c0b086318536
                  expression: 'change(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterMetricsMXBeanImpl",TotalServerNodes])<0'
                  name: '{#JMXIGNITEINSTANCENAME} - Server node left the topology'
                  priority: WARNING
                  tags:
                    -
                      tag: ignite
                      value: node_left
            -
              uuid: 62b6b35efbf74b36bcb83db451c08e54
              name: '{#JMXIGNITEINSTANCENAME} - IgniteVersion'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=IgniteKernal",FullVersion]'
              delay: 10m
              trends: '0'
              value_type: CHAR
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: REGEX
                  parameters:
                    - '(.*)-\d+'
                    - \1
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              request_method: POST
              tags:
                -
                  tag: Application
                  value: Topology
            -
              uuid: aac2f1d9298e429184ab444af540c704
              name: '{#JMXIGNITEINSTANCENAME} - LocalNodeId'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=IgniteKernal",LocalNodeId]'
              trends: '0'
              value_type: CHAR
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: REGEX
                  parameters:
                    - '(.*)-\d+'
                    - \1
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
            -
              uuid: f884338d62a94f409a583b00fd69ff98
              name: '{#JMXIGNITEINSTANCENAME} - UpTimeFormatted'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=IgniteKernal",UpTimeFormatted]'
              delay: 2m
              trends: '0'
              value_type: CHAR
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              request_method: POST
              tags:
                -
                  tag: Application
                  value: 'Local Node Metrics'
            -
              uuid: c17cf5492ce846488bb51e03ccebb1a2
              name: '{#JMXIGNITEINSTANCENAME} - CommunicationOutMessagesQueueSize'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=SPIs,name=TcpCommunicationSpi",OutboundMessagesQueueSize]'
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Communication
                -
                  tag: Application
                  value: Topology
            -
              uuid: c1ca050a1bfb46a0b83dea2beabde2cd
              name: '{#JMXIGNITEINSTANCENAME} - CommunicationReceivedMessagesPerSecond'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=SPIs,name=TcpCommunicationSpi",ReceivedMessagesCount]'
              units: msg/s
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Communication
                -
                  tag: Application
                  value: Topology
            -
              uuid: d5db6ef3cdc74340b5e9807f8d22dd29
              name: '{#JMXIGNITEINSTANCENAME} - CommunicationReconnectCount'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=SPIs,name=TcpCommunicationSpi",ReconnectCount]'
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: SIMPLE_CHANGE
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Communication
                -
                  tag: Application
                  value: Topology
            -
              uuid: cf8e606e27394d30be364f962fe14e6f
              name: '{#JMXIGNITEINSTANCENAME} - CommunicationSentMessagesPerSecond'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=SPIs,name=TcpCommunicationSpi",SentMessagesCount]'
              units: msg/s
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Communication
                -
                  tag: Application
                  value: Topology
            -
              uuid: 1ace5750fd3a4883a73b1819e80f65b5
              name: '{#JMXIGNITEINSTANCENAME} - CoordinatorSinceTimestamp'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=SPIs,name=TcpDiscoverySpi",CoordinatorSinceTimestamp]'
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
              trigger_prototypes:
                -
                  uuid: 2f387aa0185f4889890e38b830ba3c84
                  expression: 'change(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=SPIs,name=TcpDiscoverySpi",CoordinatorSinceTimestamp])>0'
                  recovery_mode: NONE
                  name: '{#JMXIGNITEINSTANCENAME} - Coordinator has changed'
                  priority: WARNING
                  description: 'Your coordinator just changed'
                  manual_close: 'YES'
                  tags:
                    -
                      tag: ignite
                      value: coordinator_changed
            -
              uuid: 9b2c9abc044c4639bd3d5c4d86b0fced
              name: '{#JMXIGNITEINSTANCENAME} - CurrentCoordinator'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=SPIs,name=TcpDiscoverySpi",Coordinator]'
              delay: 2m
              trends: '0'
              value_type: TEXT
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              request_method: POST
              tags:
                -
                  tag: Application
                  value: Topology
            -
              uuid: 69b95bdc669242e1b9045cdeb46e6d41
              name: '{#JMXIGNITEINSTANCENAME} - NodeOrder'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=SPIs,name=TcpDiscoverySpi",LocalNodeFormatted]'
              delay: 5m
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: REGEX
                  parameters:
                    - intOrder=(\d+)
                    - \1
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
            -
              uuid: 2d8bf14851f84d639b90a9fbbd15fd52
              name: '{#JMXIGNITEINSTANCENAME} - DiscoveryMessageWorkerQueueSize'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=SPIs,name=TcpDiscoverySpi",MessageWorkerQueueSize]'
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
            -
              uuid: b8a82f754f794e0fa6f14e9cb32287c2
              name: '{#JMXIGNITEINSTANCENAME} - NodesLeft'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=SPIs,name=TcpDiscoverySpi",NodesLeft]'
              delay: 5m
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: SIMPLE_CHANGE
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
            -
              uuid: 103831f10cf640c6965b76dc2409ec12
              name: '{#JMXIGNITEINSTANCENAME} - ReconnectCount'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=SPIs,name=TcpDiscoverySpi",ReconnectCount]'
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: SIMPLE_CHANGE
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Topology
            -
              uuid: 34580747ae8a4ba6aa6029a1101bacf1
              name: '{#JMXIGNITEINSTANCENAME} - TotalProcessedMessages'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=SPIs,name=TcpDiscoverySpi",TotalProcessedMessages]'
              units: msg/s
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Discovery
                -
                  tag: Application
                  value: Topology
            -
              uuid: 357cb74523f7464cba7ec542fc32516a
              name: '{#JMXIGNITEINSTANCENAME} - DiscoveryTotalReceivedMessages'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=SPIs,name=TcpDiscoverySpi",TotalReceivedMessages]'
              units: msg/s
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Discovery
                -
                  tag: Application
                  value: Topology
            -
              uuid: d99e855c84ea4e3db31935bb10d6a3dd
              name: '{#JMXIGNITEINSTANCENAME} - LockedKeysNumber'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=TransactionMetrics,name=TransactionMetricsMxBeanImpl",LockedKeysNumber]'
              units: keys
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Transactions
            -
              uuid: 28b75e20f1da4abd8d2958a75a780379
              name: '{#JMXIGNITEINSTANCENAME} - OwnerTransactionsNumber'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=TransactionMetrics,name=TransactionMetricsMxBeanImpl",OwnerTransactionsNumber]'
              units: trx
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Transactions
            -
              uuid: be57a155ffa345c590f2cd69009458a2
              name: '{#JMXIGNITEINSTANCENAME} - TransactionsCommittedNumber'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=TransactionMetrics,name=TransactionMetricsMxBeanImpl",TransactionsCommittedNumber]'
              units: trx/s
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Transactions
            -
              uuid: 8dfd8649a5d741a3895ff621c989b249
              name: '{#JMXIGNITEINSTANCENAME} - TransactionsHoldingLockNumber'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=TransactionMetrics,name=TransactionMetricsMxBeanImpl",TransactionsHoldingLockNumber]'
              units: trx/s
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Transactions
            -
              uuid: 1d3cc796e8fc4c7db41eaba478adc3d9
              name: '{#JMXIGNITEINSTANCENAME} - TransactionsRolledBackNumber'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=TransactionMetrics,name=TransactionMetricsMxBeanImpl",TransactionsRolledBackNumber]'
              units: trx/s
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Transactions
            -
              uuid: 01dbc88350ff4d3d90f6609e1a639186
              name: '{#JMXIGNITEINSTANCENAME} - StripedExecutor - QueueSize'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Thread Pools\",name=StripedExecutor",TotalQueueSize]'
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Queue
              trigger_prototypes:
                -
                  uuid: 03df1762cb184a1c91d0a25769c6f9c4
                  expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Thread Pools\",name=StripedExecutor",TotalQueueSize])>1000'
                  name: '{#JMXIGNITEINSTANCENAME} - StripedExecutor - Too many messages in queue'
                  priority: AVERAGE
          trigger_prototypes:
            -
              uuid: c8ec961bfb80420aa4fed0ff048f9360
              expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterMetricsMXBeanImpl",TotalBaselineNodes])<last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=Kernal,name=ClusterMetricsMXBeanImpl",TotalServerNodes])'
              name: '{#JMXIGNITEINSTANCENAME} - There are nodes is not in topology'
              priority: INFO
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          request_method: POST
        -
          uuid: 03528da13d69481782d2afcfa9489d34
          name: 'Cache Groups'
          type: JMX
          key: 'jmx.discovery[beans,"org.apache:igniteInstanceName=*,group=\"Cache groups\",name=*"]'
          delay: 30m
          lifetime: 2h
          item_prototypes:
            -
              uuid: 9570a5f90f5d4e6993580af60edce1d6
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - Backups'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Cache groups\",name={#JMXNAME}",Backups]'
              delay: 30m
              trends: 30d
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Partitions
                -
                  tag: Application
                  value: Rebalance
            -
              uuid: 66822d2e64034284957eecc84219808a
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - CacheList'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Cache groups\",name={#JMXNAME}",Caches]'
              delay: 30m
              trends: '0'
              value_type: TEXT
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: ChacheGroup
                -
                  tag: Application
                  value: Rebalance
            -
              uuid: 5d82594d01ec4278b5ea552c27d0eaf4
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - LocalNodeMovingPartitionsCount'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Cache groups\",name={#JMXNAME}",LocalNodeMovingPartitionsCount]'
              trends: 30d
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              request_method: POST
              tags:
                -
                  tag: Application
                  value: Rebalance
              trigger_prototypes:
                -
                  uuid: 2d87e222fcb04db6b8f88b78c8dc1b51
                  expression: 'avg(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Cache groups\",name={#JMXNAME}",LocalNodeMovingPartitionsCount],35m)>0'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'avg(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Cache groups\",name={#JMXNAME}",LocalNodeMovingPartitionsCount],35m)=0'
                  name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - Rebalance in progress'
                  priority: INFO
            -
              uuid: b393d495b49147a5be7700b1b1d995a7
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - LocalNodeRentingEntriesCount'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Cache groups\",name={#JMXNAME}",LocalNodeRentingEntriesCount]'
              trends: 30d
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Rebalance
            -
              uuid: 9dbcfd53cdb64ddba5f3a7e6762d9ce4
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - LocalNodeRentingPartitionsCount'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Cache groups\",name={#JMXNAME}",LocalNodeRentingPartitionsCount]'
              trends: 30d
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Rebalance
            -
              uuid: 3363ccf8d1e44972a4cfec122a954eff
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - NumberOfPartitionCopies'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Cache groups\",name={#JMXNAME}",MinimumNumberOfPartitionCopies]'
              delay: 10m
              trends: 30d
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              request_method: POST
              tags:
                -
                  tag: Application
                  value: Partitions
                -
                  tag: Application
                  value: Rebalance
              trigger_prototypes:
                -
                  uuid: 32a29648ace14baa8d3c6a880a1f2d86
                  expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Cache groups\",name={#JMXNAME}",MinimumNumberOfPartitionCopies])=0'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Cache groups\",name={#JMXNAME}",MinimumNumberOfPartitionCopies])>=1'
                  name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - There is no copy for partitions'
                  priority: AVERAGE
          trigger_prototypes:
            -
              uuid: 49ef36282d9f40a78a1febf9af1488d2
              expression: 'last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Cache groups\",name={#JMXNAME}",Backups])>=last(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Cache groups\",name={#JMXNAME}",MinimumNumberOfPartitionCopies])'
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - One or more backups are unavailiable'
              priority: WARNING
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          request_method: POST
        -
          uuid: c05d898e2cdb45b5a5d350c7aadee0f3
          name: 'Thread Pool Metrics'
          type: JMX
          key: 'jmx.discovery[beans,"org.apache:igniteInstanceName=*,group=\"Thread Pools\",name=*"]'
          delay: 30m
          username: '{$IGNITE_JMX_USER}'
          password: '{$IGNITE_JMX_PASS}'
          lifetime: 1d
          item_prototypes:
            -
              uuid: ff892f9aa15e4520ab1334fa59821131
              name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - QueueSize'
              type: JMX
              key: 'jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Thread Pools\",name={#JMXNAME}",QueueSize]'
              history: 2w
              trends: 30d
              units: msg
              username: '{$IGNITE_JMX_USER}'
              password: '{$IGNITE_JMX_PASS}'
              preprocessing:
                -
                  type: IN_RANGE
                  parameters:
                    - '0'
                    - ''
                  error_handler: DISCARD_VALUE
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              request_method: POST
              tags:
                -
                  tag: Application
                  value: Queue
              trigger_prototypes:
                -
                  uuid: a1aca6512de6429bbb133fcc2249c574
                  expression: 'min(/App Ignite JMX/jmx["{#JMXDOMAIN}:igniteInstanceName={#JMXIGNITEINSTANCENAME},group=\"Thread Pools\",name={#JMXNAME}",QueueSize],5m)>1000'
                  name: '{#JMXIGNITEINSTANCENAME} - {#JMXNAME} - Too many messages in  queue'
                  priority: HIGH
                  description: 'There are more then 1000 messages in {#JMXNAME}  queue'
                  tags:
                    -
                      tag: ignite
                      value: queue
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          request_method: POST
      macros:
        -
          macro: '{$IGNITE_JMX_PASS}'
        -
          macro: '{$IGNITE_JMX_USER}'
