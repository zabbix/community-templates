<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:37:16Z</date><groups><group><name>Halley MySQL Template</name></group><group><name>Halley passive agent</name></group><group><name>Halley template</name></group></groups><templates><template><template>Halley MySQL Python server mi passive</template><name>Halley MySQL Python server mi passive</name><description>## Description

An mysql template create for halley.it

## Overview

Here is my template for monitoring **MySQL on a Windows server with multiple instances**. The logic for this monitoring is: 


Script will take 2 parameters: variable ($1) and port ($2). Variable 1 will be the word for what script will looking for in script results file. The first zabbix request will generate a file : mysql\_results\_$PORT.txt. All next requests in 55 sec will take the values from this file, not from mysql. If the file is over 55 sec, file is rewriten. This assure to have 3 db request for all 117 items


**Steps to install:**


1. Create C:\script


2. Copy in this folder the script mysql\_stats.py


3. in zabbix agent add at UserParameters


UserParameter=mysql-stats[*],c:\script\mysql\_stats.py &quot;$1&quot; &quot;$2&quot; # user parameter for show extended status - no grants needed


UserParameter=mysql.ping[*],mysqladmin -u -p --host=127.0.0.1 -P&quot;$2&quot; ping # -P&quot;$2&quot; will tahe the port number, who is the second variable from request


4. Create a different host for every MySQL instance and specify in host Macros the MySQL port {$PORT}


5. Add template Halley MySQL Server mi passive. I use passive items beacause not need to specify host name as hostname of the client. Don't forget to enable on host agent the passive monitoring


6. Check the data:


a0) from client command line run c:\script\mysql\_stats.py Uptime Port


a) from zabbix server with command zabbix\_get -s host\_ip -k &quot;mysql-stats[Uptime,$port]&quot;


a1) from zabbix server with command zabbix\_get -s host\_ip -k &quot;mysql-stats[log\_bin,$port]&quot;


b) Look in Latest data


Don't forget:


1. Specify port in host macros


2. Install Python on server and when will install select custom install and check for all users


All files are on https://1drv.ms/f/s!Ag6IN4i1M9MuhXQZZpQ5dn2t4MCy


**P.S.**


This template include description with advices for items and triggers. I spend over a month to get best practices from MySQL Enterprise Monitor, another mysql templates or just mysql documentation. A feedback from you will be nice



## Author

Tudor Ticau

</description><groups><group><name>Halley MySQL Template</name></group><group><name>Halley passive agent</name></group><group><name>Halley template</name></group></groups><applications><application><name>MySQL</name></application></applications><items><item><name>Aborted_clients</name><key>mysql-stats[Aborted_clients,{$PORT}]</key><delay>60</delay><history>7d</history><units>con/s</units><description>The number of connections that were aborted because the client died without closing the connection properly. &#13;
If this value increments, it usually means there’s been an application error, such as the programmer forgetting to close MySQL connections properly before terminating the program. This is not usually indicative of a big problem.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Aborted connections</name><key>mysql-stats[Aborted_connects,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>con/s</units><description>The number of failed attempts to connect to the MySQL server. &#13;
If this counter is increasing, your clients are trying and failing to connect to the database. Investigate the source of the problem with fine-grained connection metrics such as Connection_errors_max_connections and Connection_errors_internal.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing><triggers><trigger><expression>{last(0)}&gt;1</expression><name>MySQL: Many attempts to connect</name><priority>INFO</priority><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>Binlog_cache_disk_use</name><key>mysql-stats[Binlog_cache_disk_use,{$PORT}]</key><delay>60</delay><history>7d</history><units>tran/sec</units><description>The number of transactions that used the temporary binary log cache but that exceeded the value of binlog_cache_size and used a temporary file to store statements from the transaction.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Binlog_cache_use</name><key>mysql-stats[Binlog_cache_use,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of transactions that used the binary log cache</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Binlog_stmt_cache_disk_use</name><key>mysql-stats[Binlog_stmt_cache_disk_use,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of nontransaction statements that used the binary log statement cache but that exceeded the value of binlog_stmt_cache_size and used a temporary file to store those statements.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Binlog_stmt_cache_use</name><key>mysql-stats[Binlog_stmt_cache_use,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of nontransactional statements that used the binary log statement cache.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Incoming traffic</name><key>mysql-stats[Bytes_received,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>b/s</units><description>Incoming bytes per second</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Outcoming traffic</name><key>mysql-stats[Bytes_sent,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>b/s</units><description>Outcoming bytes per second</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Commands Begin</name><key>mysql-stats[Com_begin,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The Com_begin statement counter variables indicate the number of times each begin statement has been executed.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Commands Commit</name><key>mysql-stats[Com_commit,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The Com_commi statement counter variables indicate the number of times each commit statement has been executed.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Commands Create Table</name><key>mysql-stats[Com_create_table,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The Com_create_table statement counter variables indicate the number of times each create_table statement has been executed.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Commands Delete</name><key>mysql-stats[Com_delete,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>com/s</units><description>Count delete commands per second.  Used to see the writes on database</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>MySQL: Com_execute_sql</name><key>mysql-stats[Com_execute_sql,{$PORT}]</key><delay>5m</delay><history>7d</history><description>&quot;Prepared statements may increase performance in applications that execute similar statements more than once, primarily because the query is parsed only once. Prepared statements can also reduce network traffic because it is only necessary to send the data for the parameters for each execution rather than the whole statement.&#13;
&#13;
However, prepared statements take time to prepare and consume memory in the MySQL server until they are closed, so it is important to use them properly. If you are only executing a statement a few times, the overhead of creating a prepared statement may not be worthwhile.&quot;</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>MySQL: Com_grant</name><key>mysql-stats[Com_grant,{$PORT}]</key><delay>5m</delay><history>7d</history><description>Indicate a grant statement&#13;
&quot;MySQL Knowledge Base: What are some tips on administering users?&#13;
MySQL Manual: Privileges Provided by MySQL&quot;</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{last(0)}&gt;1</expression><name>MySQL: Privilege Alterations Detected: Privileges Granted</name><status>DISABLED</status><priority>AVERAGE</priority><description>For development environments, changes to database security privileges may be a normal occurrence, but for production environments it is wise to know when any security changes occur with respect to database privileges, and to ensure that those changes are authorized and required.</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>Commands Insert</name><key>mysql-stats[Com_insert,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>com/s</units><description>Count insert commands per second. Used to see the writes on database</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>MySQL: Com_prepare_sql</name><key>mysql-stats[Com_prepare_sql,{$PORT}]</key><delay>5m</delay><history>7d</history><description>&quot;Prepared statements may increase performance in applications that execute similar statements more than once, primarily because the query is parsed only once. Prepared statements can also reduce network traffic because it is only necessary to send the data for the parameters for each execution rather than the whole statement.&#13;
&#13;
However, prepared statements take time to prepare and consume memory in the MySQL server until they are closed, so it is important to use them properly. If you are only executing a statement a few times, the overhead of creating a prepared statement may not be worthwhile.&quot;</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Commands Replace</name><key>mysql-stats[Com_replace,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The Com_replace statement counter variables indicate the number of times each replace statement has been executed.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>MySQL: Com_revoke</name><key>mysql-stats[Com_revoke,{$PORT}]</key><delay>5m</delay><history>7d</history><description>Indicate a revoke statement&#13;
&quot;MySQL Knowledge Base: What are some tips on administering users?&#13;
MySQL Manual: Privileges Provided by MySQL&quot;</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{last(0)}&gt;0</expression><name>MySQL: Privilege Alterations Detected: Privileges Revoked</name><status>DISABLED</status><priority>AVERAGE</priority><description>For development environments, changes to database security privileges may be a normal occurrence, but for production environments it is wise to know when any security changes occur with respect to database privileges, and to ensure that those changes are authorized and required.</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>Commands Select</name><key>mysql-stats[Com_select,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>com/s</units><description>Count select commands per second.&#13;
Used to see the read throughput on database</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>MySQL: Com_stmt_close</name><key>mysql-stats[Com_stmt_close,{$PORT}]</key><delay>5m</delay><history>7d</history><description>&quot;Prepared statements may increase performance in applications that execute similar statements more than once, primarily because the query is parsed only once. Prepared statements can also reduce network traffic because it is only necessary to send the data for the parameters for each execution rather than the whole statement.&#13;
&#13;
However, prepared statements take time to prepare and consume memory in the MySQL server until they are closed, so it is important to use them properly. If you are not closing prepared statements when you are done with them, you are needlessly tying up memory that could be put to use in other ways.&quot;</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>MySQL: Com_stmt_prepare</name><key>mysql-stats[Com_stmt_prepare,{$PORT}]</key><delay>5m</delay><history>7d</history><description>Com_stmt_reprepare indicates the number of times statements were automatically reprepared by the server after metadata changes to tables or views referred to by the statement. A reprepare operation increments Com_stmt_reprepare, and also Com_stmt_prepare.&#13;
Prepared statements may increase performance in applications that execute similar statements more than once, primarily because the query is parsed only once. Prepared statements can also reduce network traffic because it is only necessary to send the data for the parameters for each execution rather than the whole statement.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Commands Update</name><key>mysql-stats[Com_update,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>com/s</units><description>Count update commands per second.&#13;
Used to see the writes on database</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>MySQL: concurrent_insert</name><key>mysql-stats[concurrent_insert,{$PORT}]</key><delay>6h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Default: AUTO&#13;
If AUTO (the default), MySQL permits INSERT and SELECT statements to run concurrently for MyISAM tables that have no free blocks in the middle of the data file. If you start mysqld with --skip-new, this variable is set to NEVER.&#13;
&#13;
This variable can take the values shown in the following table. The variable can be assigned using either the name values or corresponding integer values.&#13;
&#13;
Value	Description&#13;
NEVER (or 0)	Disables concurrent inserts&#13;
AUTO (or 1)	(Default) Enables concurrent insert for MyISAM tables that do not have holes&#13;
ALWAYS (or 2)	Enables concurrent inserts for all MyISAM tables, even those that have holes. For a table with a hole, new rows are inserted at the end of the table if it is in use by another thread. Otherwise, MySQL acquires a normal write lock and inserts the row into the hole.</description><applications><application><name>MySQL</name></application></applications></item><item><name>Connections</name><key>mysql-stats[Connections,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>con/s</units><description>The number of connection attempts (successful or not) to the MySQL server per second.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Connection_errors_accept</name><key>mysql-stats[Connection_errors_accept,{$PORT}]</key><delay>60</delay><history>7d</history><units>err</units><description>The number of errors that occurred during calls to accept() on the listening port.&#13;
These variables provide information about errors that occur during the client connection process. They are global only and represent error counts aggregated across connections from all hosts. These variables track errors not accounted for by the host cache, such as errors that are not associated with TCP connections, occur very early in the connection process (even before an IP address is known), or are not specific to any particular IP address (such as out-of-memory conditions).</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Connection_errors_internal</name><key>mysql-stats[Connection_errors_internal,{$PORT}]</key><delay>60</delay><history>7d</history><units>con/s</units><description>The number of connections refused due to internal errors in the server, such as failure to start a new thread or an out-of-memory condition.&#13;
&#13;
Connection_errors_internal is a good one to watch, because it is incremented only when the error comes from the server itself. Internal errors can reflect an out-of-memory condition or the server’s inability to start a new thread.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Connection_errors_max_connections</name><key>mysql-stats[Connection_errors_max_connections,{$PORT}]</key><delay>60</delay><history>7d</history><units>con</units><description>The number of connections refused because the server max_connections limit was reached.&#13;
Note These variables provide information about errors that occur during the client connection process. They are global only and represent error counts aggregated across connections from all hosts. These variables track errors not accounted for by the host cache, such as errors that are not associated with TCP connections, occur very early in the connection process (even before an IP address is known), or are not specific to any particular IP address (such as out-of-memory conditions).</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Connection_errors_peer_address</name><key>mysql-stats[Connection_errors_peer_address,{$PORT}]</key><delay>60</delay><history>7d</history><units>err</units><description>The number of errors that occurred while searching for connecting client IP addresses.&#13;
&#13;
Note These variables provide information about errors that occur during the client connection process. They are global only and represent error counts aggregated across connections from all hosts. These variables track errors not accounted for by the host cache, such as errors that are not associated with TCP connections, occur very early in the connection process (even before an IP address is known), or are not specific to any particular IP address (such as out-of-memory conditions).</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Connection_errors_select</name><key>mysql-stats[Connection_errors_select,{$PORT}]</key><delay>60</delay><history>7d</history><units>err</units><description>The number of errors that occurred during calls to select() or poll() on the listening port. (Failure of this operation does not necessarily means a client connection was rejected.)&#13;
&#13;
Note These variables provide information about errors that occur during the client connection process. They are global only and represent error counts aggregated across connections from all hosts. These variables track errors not accounted for by the host cache, such as errors that are not associated with TCP connections, occur very early in the connection process (even before an IP address is known), or are not specific to any particular IP address (such as out-of-memory conditions).</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Connection_errors_tcpwrap</name><key>mysql-stats[Connection_errors_tcpwrap,{$PORT}]</key><delay>60</delay><history>7d</history><units>con</units><description>The number of connections refused by the libwrap library.&#13;
&#13;
&#13;
Note These variables provide information about errors that occur during the client connection process. They are global only and represent error counts aggregated across connections from all hosts. These variables track errors not accounted for by the host cache, such as errors that are not associated with TCP connections, occur very early in the connection process (even before an IP address is known), or are not specific to any particular IP address (such as out-of-memory conditions).</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Created tmp tables on disk</name><key>mysql-stats[Created_tmp_disk_tables,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of internal on-disk temporary tables created by the server while executing statements. Accessing tables on disk is typically slower than accessing the same tables in memory. So queries that use the CREATE TEMPORARY TABLE syntax are likely to be slow when this value is high. Must be ass low ass possible. Best 0&#13;
&#13;
If an internal temporary table is created initially as an in-memory table but becomes too large, MySQL automatically converts it to an on-disk table. The maximum size for in-memory temporary tables is the minimum of the tmp_table_size and max_heap_table_size values. If Created_tmp_disk_tables is large, you may want to increase the tmp_table_size or max_heap_table_size value to lessen the likelihood that internal temporary tables in memory will be converted to on-disk tables.&#13;
&#13;
You can compare the number of internal on-disk temporary tables created to the total number of internal temporary tables created by comparing the values of the Created_tmp_disk_tables and Created_tmp_tables variables.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>SIMPLE_CHANGE</type><params/></step></preprocessing><triggers><trigger><expression>{last()}&gt;700</expression><name>MySQL: Over 700 temporary tables on disk</name><priority>WARNING</priority><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>Created_tmp_files in memory</name><key>mysql-stats[Created_tmp_files,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>How many temporary files mysqld has created.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>SIMPLE_CHANGE</type><params/></step></preprocessing></item><item><name>Created_tmp_tables on memory</name><key>mysql-stats[Created_tmp_tables,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of internal temporary tables created by the server while executing statements. You can compare the number of internal on-disk temporary tables created to the total number of internal temporary tables created by comparing the values of the Created_tmp_disk_tables and Created_tmp_tables variables.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>SIMPLE_CHANGE</type><params/></step></preprocessing></item><item><name>MySQL: default_storage_engine</name><key>mysql-stats[default_storage_engine,{$PORT}]</key><delay>6h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>The default storage engine. This variable sets the storage engine for permanent tables only. To set the storage engine for TEMPORARY tables, set the default_tmp_storage_engine system variable.&#13;
To see which storage engines are available and enabled, use the SHOW ENGINES statement or query the INFORMATION_SCHEMA ENGINES table.&#13;
&quot;MySQL Manual: MyISAM Startup Options&#13;
MySQL Manual: mysqld Command Options&quot;</description><applications><application><name>MySQL</name></application></applications></item><item><name>MySQL: event_scheduler</name><key>mysql-stats[event_scheduler,{$PORT}]</key><delay>5m</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>&quot;The Event Scheduler is a very useful feature when enabled. It is a framework for executing SQL commands at specific times or at regular intervals. Conceptually, it is similar to the idea of the Unix crontab (also known as a &quot;&quot;cron job&quot;&quot;) or the Windows Task Scheduler.&#13;
&#13;
The basics of its architecture are simple. An event is a stored routine with a starting date and time, and a recurring tag. Once defined and activated, it will run when requested. Unlike triggers, events are not linked to specific table operations, but to dates and times. Using the event scheduler, the database administrator can perform recurring events with minimal hassle. Common uses are the cleanup of obsolete data, the creation of summary tables for statistics, and monitoring of server performance and usage.&quot;&#13;
Default Value	OFF&#13;
Valid Values	ON OFF DISABLED&#13;
Links:&#13;
&quot;MySQL Manual: Using the Event Scheduler&#13;
MySQL Manual: Event Scheduler Overview&quot;</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{regexp(ON)}&lt;&gt;1</expression><name>MySQL: Event Scheduler Disabled</name><status>DISABLED</status><priority>WARNING</priority><description>&quot;The Event Scheduler is a very useful feature when enabled. It is a framework for executing SQL commands at specific times or at regular intervals. Conceptually, it is similar to the idea of the Unix crontab (also known as a &quot;&quot;cron job&quot;&quot;) or the Windows Task Scheduler.&#13;
&#13;
The basics of its architecture are simple. An event is a stored routine with a starting date and time, and a recurring tag. Once defined and activated, it will run when requested. Unlike triggers, events are not linked to specific table operations, but to dates and times. Using the event scheduler, the database administrator can perform recurring events with minimal hassle. Common uses are the cleanup of obsolete data, the creation of summary tables for statistics, and monitoring of server performance and usage.&quot;&#13;
Advice:&#13;
&quot;Enable the Event Scheduler and use it to automate recurring events. Add the line event_scheduler=1 to the [mysqld] section of your my.cnf/my.ini file so the variable is set properly when the server is restarted.&#13;
&#13;
Recommended Action&#13;
SET GLOBAL event_scheduler = ON;&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>MySQL: expire_logs_days</name><key>mysql-stats[expire_logs_days,{$PORT}]</key><delay>6h</delay><history>7d</history><description>Display system status of variable expire_logs_days&#13;
The binary log captures DML, DDL, and security changes that occur and stores these changes in a binary format. The binary log enables point-in-time recovery, preventing data loss during a disaster recovery situation. It is used on master replication servers as a record of the statements to be sent to slave servers. It also enables you to review all alterations made to your database.&#13;
However, the number of log files and the space they use can grow rapidly, especially on a busy server, so it is important to remove these files on a regular basis when they are no longer needed, as long as appropriate backups have been made. The expire_logs_days parameter enables automatic binary log removal.&#13;
Links:&#13;
&quot;MySQL Manual: The Binary Log&#13;
MySQL Manual: Server System Variables&#13;
Bug #28238: expire_logs_days and PURGE MASTER LOGS fail when index not up to date&#13;
MySQL Knowledge Base: What do I have to set up for point-in-time recovery?&#13;
MySQL Knowledge Base: How can I recover all of my data up to now?&quot;</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{last()}&gt;0 and {last()}&lt;7</expression><name>MySQL:  Binary Logs Automatically Removed Too Quickly</name><priority>INFO</priority><description>&quot;The binary log captures DML, DDL, and security changes that occur and stores these changes in a binary format. The binary log enables point-in-time recovery, preventing data loss during a disaster recovery situation. It is used on master replication servers as a record of the statements to be sent to slave servers. It also enables you to review all alterations made to your database.&#13;
However, the number of log files and the space they use can grow rapidly, especially on a busy server, so it is important to remove these files on a regular basis when they are no longer needed, as long as appropriate backups have been made. The expire_logs_days parameter enables automatic binary log removal.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;7</value></tag></tags></trigger></triggers></item><item><name>MySQL: flush_time</name><key>mysql-stats[flush_time,{$PORT}]</key><delay>6h</delay><history>7d</history><units>s</units><description>If this is set to a nonzero value, all tables are closed every flush_time seconds to free up resources and synchronize unflushed data to disk. This option is best used only on systems with minimal resources.&#13;
If flush_time is set to a non-zero value, all tables are closed every flush_time seconds to free up resources and synchronize unflushed data to disk. If your system is unreliable and tends to lock up or restart often, forcing out table changes this way degrades performance but can reduce the chance of table corruption or data loss. We recommend that this option be used only on Windows, or on systems with minimal resources.</description><applications><application><name>MySQL</name></application></applications></item><item><name>Handler_commit</name><key>mysql-stats[Handler_commit,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of internal COMMIT statements.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Handler_delete</name><key>mysql-stats[Handler_delete,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of times that rows have been deleted from tables per second.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Handler_read_first</name><key>mysql-stats[Handler_read_first,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of times the first entry in an index was read. If this value is high, it suggests that the server is doing a lot of full index scans;&#13;
If MySQL is frequently accessing the first row of a table index, it suggests that it is performing a sequential scan of the entire index. This indicates that the corresponding table is not properly indexed.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing><triggers><trigger><expression>{last()}&gt;100</expression><name>MySQL: Over 100 first row read requests</name><priority>WARNING</priority><description>If MySQL is frequently accessing the first row of a table index, it suggests that it is performing a sequential scan of the entire index. This indicates that the corresponding table is not properly indexed.</description><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>Handler_read_key</name><key>mysql-stats[Handler_read_key,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of requests to read a row based on a key. If this value is high, it is a good indication that your tables are properly indexed for your queries.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Handler_read_last</name><key>mysql-stats[Handler_read_last,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of requests to read the last key in an index. </description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Handler_read_next</name><key>mysql-stats[Handler_read_next,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of requests to read the next row in key order. </description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Handler_read_prev</name><key>mysql-stats[Handler_read_prev,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of requests to read the previous row in key order.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Handler_read_rnd</name><key>mysql-stats[Handler_read_rnd,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of requests to read a row based on a fixed position. This value is high if you are doing a lot of queries that require sorting of the result. You probably have a lot of queries that require MySQL to scan entire tables or you have joins that do not use keys properly.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Handler_read_rnd_next</name><key>mysql-stats[Handler_read_rnd_next,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of requests to read the next row in the data file. This value is incremented if you are querying an index column with a range constraint or if you are doing an index scan. This value is high if you are doing a lot of table scans. Generally this suggests that your tables are not properly indexed or that your queries are not written to take advantage of the indexes you have.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Handler_rollback</name><key>mysql-stats[Handler_rollback,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of requests for a storage engine to perform a rollback operation.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Handler_savepoint</name><key>mysql-stats[Handler_savepoint,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of requests for a storage engine to place a savepoint.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Handler_savepoint_rollback</name><key>mysql-stats[Handler_savepoint_rollback,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of requests for a storage engine to roll back to a savepoint.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Handler_update</name><key>mysql-stats[Handler_update,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of times that rows have been updated from tables per second.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Handler_write</name><key>mysql-stats[Handler_write,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of requests to insert a row in a table per second.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>MySQL: have_symlink</name><key>mysql-stats[have_symlink,{$PORT}]</key><delay>6h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>YES if symbolic link support is enabled, NO if not. This is required on Unix for support of the DATA DIRECTORY and INDEX DIRECTORY table options. If the server is started with the --skip-symbolic-links option, the value is DISABLED.&#13;
This variable has no meaning on Windows.&#13;
&#13;
Links:&#13;
&quot;MySQL Manual: Making MySQL Secure Against Attackers&#13;
MySQL Manual: Using Symbolic Links&#13;
MySQL Manual: Disk Issues&#13;
MySQL Manual: CREATE TABLE Syntax&quot;</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{regexp(YES)}=1</expression><name>MySQL: Symlinks Are Enabled</name><status>DISABLED</status><priority>WARNING</priority><description>&quot;You can move tables and databases from the database directory to other locations and replace them with symbolic links to the new locations. You might want to do this, for example, to move a database to a file system with more free space or to increase the speed of your system by spreading your tables to different disks.&#13;
&#13;
However, symlinks can compromise security. This is especially important if you run mysqld as root, because anyone who has write access to the server's data directory could then delete any file in the system!&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>Key_blocks_not_flushed</name><key>mysql-stats[Key_blocks_not_flushed,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of key blocks in the MyISAM key cache that have changed but have not yet been flushed to disk.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Key_blocks_unused</name><key>mysql-stats[Key_blocks_unused,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of unused blocks in the MyISAM key cache. You can use this value to determine how much of the key cache is in use; see the discussion of key_buffer_size in Section 5.1.5, “Server System Variables”.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Key_blocks_used</name><key>mysql-stats[Key_blocks_used,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of used blocks in the MyISAM key cache. This value is a high-water mark that indicates the maximum number of blocks that have ever been in use at one time.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Key reads</name><key>mysql-stats[Key_reads,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of physical reads of a key block from disk into the MyISAM key cache. &#13;
This variable indicates the number of filesystem accesses MySQL performed to fetch database indexes. &#13;
Performing filesystem reads for database indexes slows query performance. If this variable is high, it indicates that MySQL's key cache is overloaded and should be reconfigured.&#13;
If Key_reads is large, then your key_buffer_size value is probably too small. The cache miss rate can be calculated as Key_reads/Key_read_requests.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Key reads requests</name><key>mysql-stats[Key_read_requests,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of requests to read a key block from the MyISAM key cache.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Key writes to disk</name><key>mysql-stats[Key_writes,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of physical writes of a key block from the MyISAM key cache to disk.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Key writes requests</name><key>mysql-stats[Key_write_requests,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of requests to write a key block to the MyISAM key cache.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>MySQL: local_infile</name><key>mysql-stats[local_infile,{$PORT}]</key><delay>6h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>This variable controls server-side LOCAL capability for LOAD DATA statements. Depending on the local_infile setting, the server refuses or permits local data loading by clients that have LOCAL enabled on the client side.&#13;
&#13;
To explicitly cause the server to refuse or permit LOAD DATA LOCAL statements (regardless of how client programs and libraries are configured at build time or runtime), start mysqld with local_infile disabled or enabled, respectively. local_infile can also be set at runtime. For more information, see Section 6.1.6, “Security Issues with LOAD DATA LOCAL”.&#13;
&#13;
Default Value	ON&#13;
&#13;
&quot;MySQL Manual: Security Issues with LOAD DATA LOCAL&#13;
MySQL Manual: Security-Related mysqld Options&quot;</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{regexp(ON)}=1</expression><name>MySQL: LOCAL Option Of LOAD DATA Statement Is Enabled</name><status>DISABLED</status><priority>AVERAGE</priority><description>&quot;The LOAD DATA statement can load a file that is located on the server host, or it can load a file that is located on the client host when the LOCAL keyword is specified.&#13;
&#13;
There are two potential security issues with supporting the LOCAL version of LOAD DATA statements:&#13;
The transfer of the file from the client host to the server host is initiated by the MySQL server. In theory, a patched server could be built that would tell the client program to transfer a file of the server's choosing rather than the file named by the client in the LOAD DATA statement. Such a server could access any file on the client host to which the client user has read access.&#13;
In a Web environment where the clients are connecting from a separate web server, a user could use LOAD DATA LOCAL to read any files that the web server process has read access to (assuming that a user could run any statement against the SQL server). In this environment, the client with respect to the MySQL server actually is the web server, not the remote program being run by the user who connects to the web server.&quot;&#13;
Advice:&#13;
&quot;Start the MySQL Server with the --local-infile option disabled (--local-infile=0), or add &quot;&quot;local-infile = 0&quot;&quot; to your my.cnf/my.ini file.&#13;
&#13;
Recommended Action&#13;
SET GLOBAL local_infile = 0;&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>MySQL: log_bin</name><key>mysql-stats[log_bin,{$PORT}]</key><delay>6h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Display system status of variable log_bin&#13;
The binary log captures DML, DDL, and security changes that occur and stores these changes in a binary format. The binary log enables point-in-time recovery, preventing data loss during a disaster recovery situation. It also enables you to review all alterations made to your database.&#13;
Links:&#13;
MySQL Manual: The Binary Log&#13;
MySQL Knowledge Base: What do I have to set up for point-in-time recovery?&#13;
MySQL Knowledge Base: How can I recover all of my data up to now?</description><applications><application><name>MySQL</name></application></applications></item><item><name>MySQL: log_warnings</name><key>mysql-stats[log_warnings,{$PORT}]</key><delay>6h</delay><history>7d</history><description>&quot;Error conditions encountered by a MySQL server are always logged in the error log, but warning conditions are only logged if log_warnings is set to a value greater than 0. If warnings are not logged you will not get valuable information about aborted connections and various other communication errors. This is especially important if you use replication so you get more information about what is happening, such as messages about network failures and re-connections.&#13;
&#13;
Note that as of MySQL 5.7.2, the log_error_verbosity system variable is preferred over, and should be used instead of, log_warnings.&#13;
&#13;
WARNING: One of the system variables used in this advisor (log_warnings) is deprecated and has been removed in MySQL Server 8.0. Please plan ahead accordingly.&quot;&#13;
&#13;
Default Value (64-bit platforms)	2&#13;
Links:&#13;
&quot;MySQL Manual: The Error Log&#13;
MySQL Manual: Server Command Options - log_warnings&#13;
MySQL Manual: Server Command Options - log_error_verbosity&#13;
MySQL Manual: Binary Logging Options and Variables - log_statements_unsafe_for_binlog&#13;
MySQL Manual: Communication Errors and Aborted Connections&#13;
Bug #24761: dropped TCP connections not logged as errors but result in blocked host&#13;
MySQL Manual: Usage of Row-based Logging and Row-Based Replication&quot;</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{last()}=0</expression><name>MySQL: Warnings Not Being Logged</name><priority>WARNING</priority><description>&quot;Error conditions encountered by a MySQL server are always logged in the error log, but warning conditions are only logged if log_warnings is set to a value greater than 0. If warnings are not logged you will not get valuable information about aborted connections and various other communication errors. This is especially important if you use replication so you get more information about what is happening, such as messages about network failures and re-connections.&#13;
&#13;
Note that as of MySQL 5.7.2, the log_error_verbosity system variable is preferred over, and should be used instead of, log_warnings.&#13;
&#13;
WARNING: One of the system variables used in this advisor (log_warnings) is deprecated and has been removed in MySQL Server 8.0. Please plan ahead accordingly.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>MySQL: lower_case_table_names</name><key>mysql-stats[lower_case_table_names,{$PORT}]</key><delay>6h</delay><history>7d</history><description>If set to 0, table names are stored as specified and comparisons are case-sensitive. If set to 1, table names are stored in lowercase on disk and comparisons are not case sensitive. If set to 2, table names are stored as given but compared in lowercase. This option also applies to database names and table aliases. For additional details, see Section 9.2.2, “Identifier Case Sensitivity”.&#13;
&#13;
On Windows the default value is 1. On macOS, the default value is 2.&#13;
&#13;
You should not set lower_case_table_names to 0 if you are running MySQL on a system where the data directory resides on a case-insensitive file system (such as on Windows or macOS). It is an unsupported combination that could result in a hang condition when running an INSERT INTO ... SELECT ... FROM tbl_name operation with the wrong tbl_name letter case. With MyISAM, accessing table names using different letter cases could cause index corruption.&#13;
&#13;
An error message is printed and the server exits if you attempt to start the server with --lower_case_table_names=0 on a case-insensitive file system.&#13;
&#13;
If you are using InnoDB tables, you should set this variable to 1 on all platforms to force names to be converted to lowercase.&#13;
&#13;
The setting of this variable in MySQL 8.0 affects the behavior of replication filtering options with regard to case sensitivity. (Bug #51639) See Section 17.2.5, “How Servers Evaluate Replication Filtering Rules”, for more information.&#13;
&#13;
It is prohibited to start the server with a lower_case_table_names setting that is different from the setting used when the server was initialized. The restriction is necessary because collations used by various data dictionary table fields are based on the setting defined when the server is initialized, and restarting the server with a different setting would introduce inconsistencies with respect to how identifiers are ordered and compared.&#13;
&#13;
Default Value	0&#13;
Links:&#13;
MySQL Manual: Identifier Case Sensitivity&#13;
https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_lower_case_table_names</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{last(0)}&lt;&gt;1</expression><name>MySQL: Database May Not Be Portable Due To Identifier Case Sensitivity</name><priority>INFO</priority><description>The case sensitivity of the underlying operating system determines the case sensitivity of database and table names. If you are using MySQL on only one platform, you don't normally have to worry about this. However, depending on how you have configured your server you may encounter difficulties if you want to transfer tables between platforms that differ in filesystem case sensitivity.&#13;
Advice:&#13;
Set lower_case_table_names=1 in your my.cnf/my.ini file and restart your MySQL server. Note that if you plan to set the lower_case_table_names system variable to 1 on Unix, you must first convert your old database and table names to lowercase before restarting mysqld with the new variable setting.</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>MySQL: max_heap_table_size</name><key>mysql-stats[max_heap_table_size,{$PORT}]</key><delay>6h</delay><history>7d</history><units>B</units><description>This variable sets the maximum size to which user-created MEMORY tables are permitted to grow. The value of the variable is used to calculate MEMORY table MAX_ROWS values. Setting this variable has no effect on any existing MEMORY table, unless the table is re-created with a statement such as CREATE TABLE or altered with ALTER TABLE or TRUNCATE TABLE. A server restart also sets the maximum size of existing MEMORY tables to the global max_heap_table_size value.&#13;
Default: 16Mb&#13;
This variable is also used in conjunction with tmp_table_size to limit the size of internal in-memory tables.&#13;
Links:&#13;
MySQL Manual: How MySQL Uses Internal Temporary Tables&#13;
MySQL Manual: System Variables&#13;
MySQL Performance Blog: TMP_TABLE_SIZE and MAX_HEAP_TABLE_SIZE</description><applications><application><name>MySQL</name></application></applications></item><item><name>Max used connections</name><key>mysql-stats[Max_used_connections,{$PORT}]</key><delay>60</delay><history>7d</history><description>The maximum number of connections that have been in use simultaneously since the server started.&#13;
This value provides a benchmark to help you decide the maximum number of connections your server should support. It can also help in traffic analysis.&#13;
(max_used_connections / max_connections) indicates if you could run out soon of connection slots.&#13;
Alarm if connections usage is &gt; 85%.</description><applications><application><name>MySQL</name></application></applications></item><item><name>MySQL: myisam_recover_options</name><key>mysql-stats[myisam_recover_options,{$PORT}]</key><delay>6h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>The myisam-recover-options option (named myisam-recover before MySQL 5.5.3) enables automatic MyISAM crash recovery should a MyISAM table become corrupt for some reason. If this option is not set, then a table will be &quot;Marked as crashed&quot; if it becomes corrupt, and no sessions will be able to SELECT from it, or perform any sort of DML against it.&#13;
MySQL Manual: MyISAM Startup Options&#13;
MySQL Manual: mysqld Command Options</description><applications><application><name>MySQL</name></application></applications></item><item><name>MySQL: myisam_repair_threads</name><key>mysql-stats[myisam_repair_threads,{$PORT}]</key><delay>6h</delay><history>7d</history><description>If this value is greater than 1, MyISAM table indexes are created in parallel (each index in its own thread) during the Repair by sorting process. &#13;
The default value is 1.&#13;
Using multiple threads when repairing MyISAM tables can improve performance, but it can also lead to table and index corruption as reported by several bugs (#11527, #11684, #18874). Even though these bugs have been fixed, this feature is still considered beta-quality, as noted in the manual.&#13;
&quot;MySQL Manual: System Variables&#13;
MySQL Bug DB: Bug #11527&#13;
MySQL Bug DB: Bug #11684&#13;
MySQL Bug DB: Bug #18874&quot;</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{last()}&lt;&gt;1</expression><name>MySQL: Multiple Threads Used When Repairing MyISAM Tables</name><priority>WARNING</priority><description>Using multiple threads when repairing MyISAM tables can improve performance, but it can also lead to table and index corruption as reported by several bugs (#11527, #11684, #18874). Even though these bugs have been fixed, this feature is still considered beta-quality, as noted in the manual.</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>MySQL: old_passwords</name><key>mysql-stats[old_passwords,{$PORT}]</key><delay>6h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>This variable controls the password hashing method used by the PASSWORD() function. It also influences password hashing performed by CREATE USER and GRANT statements that specify a password using an IDENTIFIED BY clause.&#13;
&#13;
The following table shows, for each password hashing method, the permitted value of old_passwords and which authentication plugins use the hashing method.&#13;
&#13;
Password Hashing Method	old_passwords Value	Associated Authentication Plugin&#13;
MySQL 4.1 native hashing	0	mysql_native_password&#13;
SHA-256 hashing	2	sha256_password&#13;
If you set old_passwords=2, follow the instructions for using the sha256_password plugin at Section 6.5.1.4, “SHA-256 Pluggable Authentication”.&#13;
&#13;
The server sets the global old_passwords value during startup to be consistent with the password hashing method required by the authentication plugin indicated by the default_authentication_plugin system variable.&#13;
&#13;
When a client successfully connects to the server, the server sets the session old_passwords value appropriately for the account authentication method. For example, if the account uses the sha256_password authentication plugin, the server sets old_passwords=2.&#13;
&#13;
Default Value	0</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{last(0)}=1 or {regexp(ON)}=1</expression><name>MySQL: Insecure Password Generation Option Is Enabled</name><status>DISABLED</status><priority>AVERAGE</priority><description>Prior to MySQL 4.1, password hashes computed by the PASSWORD() function were 16 bytes long. As of MySQL 4.1 (and later), PASSWORD() was modified to produce a longer 41-byte hash value to provide enhanced security. In order to allow backward-compatibility with older client programs, you can configure MySQL to generate short (pre-4.1) password hashes for new passwords, however, this is not recommended.</description></trigger></triggers></item><item><name>Opened_files</name><key>mysql-stats[Opened_files,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of files that have been opened with my_open() (a mysys library function). Parts of the server that open files without using this function do not increment the count.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Opened_tables</name><key>mysql-stats[Opened_tables,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of tables that have been opened. If Opened_tables is big, your table_open_cache value is probably too small.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Opened_table_definitions</name><key>mysql-stats[Opened_table_definitions,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of .frm files that have been cached.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Open_files</name><key>mysql-stats[Open_files,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of files that are open. This count includes regular files opened by the server.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Open_tables</name><key>mysql-stats[Open_tables,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of tables that are open.&#13;
This value is best analyzed in combination with the size of the table cache. If this value is low and the table_cache value is high, it's probably safe to reduce the cache size without affecting performance. On the other hand, if this value is high and close to the table_cache value, there is benefit in increasing the size of the table cache.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing><triggers><trigger><expression>{last()}&gt;2000</expression><name>MySQL: Over 2000 Concurrent open tables</name><priority>AVERAGE</priority><description>This value is best analyzed in combination with the size of the table cache. If this value is low and the table_cache value is high, it's probably safe to reduce the cache size without affecting performance. On the other hand, if this value is high and close to the table_cache value, there is benefit in increasing the size of the table cache.</description><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>Open_table_definitions</name><key>mysql-stats[Open_table_definitions,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of cached .frm files.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Qcache_free_blocks</name><key>mysql-stats[Qcache_free_blocks,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>b</units><description>The number of free memory blocks in the query cache.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Qcache free memory</name><key>mysql-stats[Qcache_free_memory,{$PORT}]</key><delay>60</delay><history>7d</history><units>b</units><description>The amount of free memory for the query cache.</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{last(0)}&lt;8M</expression><name>MySQL: Lack of available qcache memory</name><priority>INFO</priority><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>Qcache hits</name><key>mysql-stats[Qcache_hits,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of query cache hits.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Qcache inserts</name><key>mysql-stats[Qcache_inserts,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of queries added to the query cache.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Qcache lowmem prunes</name><key>mysql-stats[Qcache_lowmem_prunes,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of queries that were deleted from the query cache because of low memory. Could indicate a misconfigured query_cache</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Qcache not cached</name><key>mysql-stats[Qcache_not_cached,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of noncached queries (not cacheable, or not cached due to the query_cache_type setting).</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Qcache queries in cache</name><key>mysql-stats[Qcache_queries_in_cache,{$PORT}]</key><delay>60</delay><history>7d</history><units>q</units><description>The number of queries who are in the query cache.</description><applications><application><name>MySQL</name></application></applications></item><item><name>Qcache_total_blocks</name><key>mysql-stats[Qcache_total_blocks,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>b</units><description>The total number of blocks in the query cache.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Queries</name><key>mysql-stats[Queries,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of statements executed by the server. This variable includes statements executed within stored programs, unlike the Questions variable. It does not count COM_PING or COM_STATISTICS commands.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>MySQL: query_cache_size</name><key>mysql-stats[query_cache_size,{$PORT}]</key><delay>5m</delay><history>7d</history><units>B</units><description>The amount of memory allocated for caching query results. By default, the query cache is disabled. This is achieved using a default value of 1M, with a default for query_cache_type of 0. (To reduce overhead significantly if you set the size to 0, you should also start the server with query_cache_type=0.&#13;
The permissible values are multiples of 1024; other values are rounded down to the nearest multiple. For nonzero values of query_cache_size, that many bytes of memory are allocated even if query_cache_type=0. See Section 8.10.3.3, “Query Cache Configuration”, for more information.&#13;
The query cache needs a minimum size of about 40KB to allocate its structures. (The exact size depends on system architecture.) If you set the value of query_cache_size too small, a warning will occur&#13;
Default value: 1 Mb&#13;
Links:&#13;
&quot;MySQL Manual: The Query Cache&#13;
MySQL Manual: Query Cache Configuration&#13;
MySQL Manual: Query Cache Status and Maintenance&quot;</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>MySQL: query_cache_type</name><key>mysql-stats[query_cache_type,{$PORT}]</key><delay>5m</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>Set the query cache type. Setting the GLOBAL value sets the type for all clients that connect thereafter. Individual clients can set the SESSION value to affect their own use of the query cache. Possible values are shown in the following table.&#13;
Option	Description&#13;
0 or OFF	Do not cache results in or retrieve results from the query cache. Note that this does not deallocate the query cache buffer. To do that, you should set query_cache_size to 0.&#13;
1 or ON	Cache all cacheable query results except for those that begin with SELECT SQL_NO_CACHE.&#13;
2 or DEMAND	Cache results only for cacheable queries that begin with SELECT SQL_CACHE.&#13;
This variable defaults to OFF.&#13;
If the server is started with query_cache_type set to 0, it does not acquire the query cache mutex at all, which means that the query cache cannot be enabled at runtime and there is reduced overhead in query execution.&#13;
Links:&#13;
&quot;MySQL Manual: The Query Cache&#13;
MySQL Manual: Query Cache Configuration&#13;
MySQL Manual: Query Cache Status and Maintenance&quot;</description><applications><application><name>MySQL</name></application></applications></item><item><name>Questions</name><key>mysql-stats[Questions,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of statements executed by the server. As of MySQL 5.0.72, this includes only statements sent to the server by clients and no longer includes statements executed within stored programs, unlike the Queries variable. This variable does not count COM_PING, COM_STATISTICS, COM_STMT_PREPARE, COM_STMT_CLOSE, or COM_STMT_RESET commands.&#13;
MySQL increments the questions and queries counters before executing the query</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>MySQL: secure_auth</name><key>mysql-stats[secure_auth,{$PORT}]</key><delay>6h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>If this variable is enabled, the server blocks connections by clients that attempt to use accounts that have passwords stored in the old (pre-4.1) format.&#13;
&#13;
Enable this variable to prevent all use of passwords employing the old format (and hence insecure communication over the network).&#13;
&#13;
This variable is deprecated and will be removed in a future MySQL release. It is always enabled and attempting to disable it produces an error.&#13;
&#13;
Server startup fails with an error if this variable is enabled and the privilege tables are in pre-4.1 format. See Section 6.5.1.3, “Migrating Away from Pre-4.1 Password Hashing and the mysql_old_password Plugin”.&#13;
&#13;
Default value: 	ON&#13;
Links:&#13;
&quot;MySQL Manual: Password Hashing as of MySQL 4.1&#13;
MySQL Manual: Security-Related mysqld Options&#13;
MySQL Manual: mysql Options&#13;
MySQL Manual: Migrating Away from Pre-4.1 Password Hashing and the mysql_old_password Plugin&quot;</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{regexp(ON)}&lt;&gt;1</expression><name>MySQL: Insecure Password Authentication Option Is Enabled</name><status>DISABLED</status><priority>AVERAGE</priority><description>&quot;Prior to MySQL 4.1, password hashes computed by the PASSWORD() function were 16 bytes long. As of MySQL 4.1 (and later), PASSWORD() was modified to produce a longer 41-byte hash value to provide enhanced security. However, in order to allow backward-compatibility with user tables that have been migrated from pre-4.1 systems, you can configure MySQL to accept logins for accounts that have password hashes created using the old, less-secure PASSWORD() function, but this is not recommended.&#13;
&#13;
WARNING: One of the system variables used in this advisor (secure_auth) is deprecated and has been removed in MySQL Server 8.0. Please plan ahead accordingly.&quot;&#13;
&#13;
Advice:&#13;
&quot;Disable authentication for accounts that have old (pre-4.1) password hashes by setting secure_auth=1. You may do this from the command line, but be sure to also set it in your my.cnf/my.ini file so it is set properly when the server is restarted. Note that you should be sure any valid old accounts have new passwords generated before you disable this option.&#13;
&#13;
Also note that server-side support for pre-4.1 password hashes was deprecated in MySQL Server 5.6 and was removed in MySQL Server 5.7.5 (and later). For more information, see Migrating Away from Pre-4.1 Password Hashing and the mysql_old_password Plugin in the MySQL Manual.&#13;
&#13;
Recommended Action&#13;
SET GLOBAL secure_auth = 1;&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>Select_full_join</name><key>mysql-stats[Select_full_join,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>This variable indicates the number of full joins MySQL has performed to satisfy client queries or the number of joins that perform table scans because they do not use indexes. &#13;
A high value indicates that MySQL is being forced to perform full table joins (which are performance-intensive) instead of using indexes. This suggests a need for greater indexing of the corresponding tables. If this value is not 0, you should carefully check the indexes of your tables.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing><triggers><trigger><expression>{last()}&gt;100</expression><name>MySQL: Over 100 full join queries</name><priority>AVERAGE</priority><description>A high value indicates that MySQL is being forced to perform full table joins (which are performance-intensive) instead of using indexes. You should carefully check the indexes of your tables.</description><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>Select_full_range_join</name><key>mysql-stats[Select_full_range_join,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of joins that used a range search on a reference table.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Select_range</name><key>mysql-stats[Select_range,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of joins that used ranges on the first table. This is normally not a critical issue even if the value is quite large.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Select_range_check</name><key>mysql-stats[Select_range_check,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of joins without keys that check for key usage after each row. If this is not 0, you should carefully check the indexes of your tables.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Select_scan</name><key>mysql-stats[Select_scan,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of joins that did a full scan of the first table.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Slow_launch_threads</name><key>mysql-stats[Slow_launch_threads,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of threads that have taken more than slow_launch_time seconds to create.</description><applications><application><name>MySQL</name></application></applications></item><item><name>Slow queries</name><key>mysql-stats[Slow_queries,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>q/s</units><description>The number of queries that have taken more than long_query_time seconds. This counter increments regardless of whether the slow query log is enabled.&#13;
A high value indicates that many queries are not being optimally executed. A necessary next step would be to examine the slow query log and identify these slow queries for optimization.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing><triggers><trigger><expression>{last()}&gt;10</expression><name>MySQL: You have over 10 slow queries</name><priority>AVERAGE</priority><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>Sort_merge_passes</name><key>mysql-stats[Sort_merge_passes,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of merge passes that the sort algorithm has had to do. If this value is large, you should consider increasing the value of the sort_buffer_size system variable.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Sort_range</name><key>mysql-stats[Sort_range,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of sorts that were done using ranges.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Sort_rows</name><key>mysql-stats[Sort_rows,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of sorted rows.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Sort_scan</name><key>mysql-stats[Sort_scan,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of sorts that were done by scanning the table.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>MySQL: sql_mode</name><key>mysql-stats[sql_mode,{$PORT}]</key><delay>6h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>SQL Modes define what SQL syntax MySQL should support and what kind of data validation checks it should perform. If no SQL modes are enabled this means there is no form of server-enforced data integrity, which means incoming data that is invalid will not be rejected by the server, but instead will be changed to conform to the target column's default datatype. Note that any client can change its own session SQL mode value at any time.&#13;
Default Value (&gt;= 5.7.8)	ONLY_FULL_GROUP_BY STRICT_TRANS_TABLES NO_ZERO_IN_DATE NO_ZERO_DATE ERROR_FOR_DIVISION_BY_ZERO NO_AUTO_CREATE_USER NO_ENGINE_SUBSTITUTION&#13;
Default Value (5.7.7)	ONLY_FULL_GROUP_BY STRICT_TRANS_TABLES NO_AUTO_CREATE_USER NO_ENGINE_SUBSTITUTION&#13;
Default Value (&gt;= 5.7.5, &lt;= 5.7.6)	ONLY_FULL_GROUP_BY STRICT_TRANS_TABLES NO_ENGINE_SUBSTITUTION&#13;
Default Value (&lt;= 5.7.4)	NO_ENGINE_SUBSTITUTION&#13;
Valid Values	&#13;
ALLOW_INVALID_DATES&#13;
&#13;
ANSI_QUOTES&#13;
&#13;
ERROR_FOR_DIVISION_BY_ZERO&#13;
&#13;
HIGH_NOT_PRECEDENCE&#13;
&#13;
IGNORE_SPACE&#13;
&#13;
NO_AUTO_CREATE_USER&#13;
&#13;
NO_AUTO_VALUE_ON_ZERO&#13;
&#13;
NO_BACKSLASH_ESCAPES&#13;
&#13;
NO_DIR_IN_CREATE&#13;
&#13;
NO_ENGINE_SUBSTITUTION&#13;
&#13;
NO_FIELD_OPTIONS&#13;
&#13;
NO_KEY_OPTIONS&#13;
&#13;
NO_TABLE_OPTIONS&#13;
&#13;
NO_UNSIGNED_SUBTRACTION&#13;
&#13;
NO_ZERO_DATE&#13;
&#13;
NO_ZERO_IN_DATE&#13;
&#13;
ONLY_FULL_GROUP_BY&#13;
&#13;
PAD_CHAR_TO_FULL_LENGTH&#13;
&#13;
PIPES_AS_CONCAT&#13;
&#13;
REAL_AS_FLOAT&#13;
&#13;
STRICT_ALL_TABLES&#13;
&#13;
STRICT_TRANS_TABLES&#13;
&#13;
&#13;
Links:&#13;
&quot;MySQL Manual: Server SQL Mode&#13;
MySQL Manual: MySQL 5.0 FAQ - Server SQL Mode&#13;
MySQL Manual: How MySQL Deals with Constraints&#13;
MySQL Manual: Running MySQL in ANSI Mode&quot;</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{regexp(&quot;&quot;)}=1</expression><name>MySQL: Server-Enforced Data Integrity Checking Disabled</name><status>DISABLED</status><priority>AVERAGE</priority><description>SQL Modes define what SQL syntax MySQL should support and what kind of data validation checks it should perform. If no SQL modes are enabled this means there is no form of server-enforced data integrity, which means incoming data that is invalid will not be rejected by the server, but instead will be changed to conform to the target column's default datatype. Note that any client can change its own session SQL mode value at any time.&#13;
Advice:&#13;
&quot;Ensure that the sql_mode variable contains one of the following in order to obtain the highest level of data integrity: TRADITIONAL, STRICT_TRANS_TABLES, or STRICT_ALL_TABLES. &#13;
&#13;
After setting sql_mode to the desired value in your my.cnf/my.ini file, restart your MySQL server.&quot;</description><manual_close>YES</manual_close></trigger></triggers></item><item><name>MySQL: sync_binlog</name><key>mysql-stats[sync_binlog,{$PORT}]</key><delay>6h</delay><history>7d</history><description>Controls the number of binary log commit groups to collect before synchronizing the binary log to disk. When sync_binlog=0, the binary log is never synchronized to disk, and the server relies on the operating system to flush the binary log's contents from time to time as for any other file. When sync_binlog is set to a value greater than 0, this number of binary log commit groups is periodically synchronized to disk.&#13;
&#13;
When sync_binlog=1, all transactions are synchronized to the binary log before they are committed. Therefore, even in the event of an unexpected restart, any transactions that are missing from the binary log are only in prepared state. This causes the server's automatic recovery routine to roll back those transactions. This guarantees that no transaction is lost from the binary log, and is the safest option. However this can have a negative impact on performance because of an increased number of disk writes. Using a higher value improves performance, but with the increased risk of data loss.&#13;
&#13;
When sync_binlog=0 or sync_binlog is greater than 1, transactions are committed without having been synchronized to disk. Therefore, in the event of a power failure or operating system crash, it is possible that the server has committed some transactions that have not been synchronized to the binary log. Therefore it is impossible for the recovery routine to recover these transactions and they will be lost from the binary log.&#13;
&#13;
The default value of sync_binlog is 1, which is the safest choice, but as noted above can impact performance.&#13;
&#13;
Default Value:	1&#13;
&#13;
Links:&#13;
&quot;MySQL Manual: The Binary Log&#13;
MySQL Manual: Server System Variables&quot;</description><applications><application><name>MySQL</name></application></applications></item><item><name>Table_locks_immediate</name><key>mysql-stats[Table_locks_immediate,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of times that a request for a table lock could be granted immediately.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Table_locks_waited</name><key>mysql-stats[Table_locks_waited,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of times that a request for a table lock could not be granted immediately and a wait was needed. If this is high and you have performance problems, you should first optimize your queries, and then either split your table or tables or use replication.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Table_open_cache_hits</name><key>mysql-stats[Table_open_cache_hits,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of hits for open tables cache lookups.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Table_open_cache_misses</name><key>mysql-stats[Table_open_cache_misses,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of misses for open tables cache lookups.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Table_open_cache_overflows</name><key>mysql-stats[Table_open_cache_overflows,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of overflows for the open tables cache. This is the number of times, after a table is opened or closed, a cache instance has an unused entry and the size of the instance is larger than table_open_cache / table_open_cache_instances.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Threads cached</name><key>mysql-stats[Threads_cached,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of threads in the thread cache.</description><applications><application><name>MySQL</name></application></applications></item><item><name>Threads connected</name><key>mysql-stats[Threads_connected,{$PORT}]</key><delay>60</delay><history>7d</history><description>This variable indicates the total number of clients that have currently open connections to the server. &#13;
It provides real-time information on how many clients are currently connected to the server. This can help in traffic analysis or in deciding the best time for a server re-start.</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{last()}&gt;1000</expression><name>MySQL: Client open connections are over 1000</name><priority>AVERAGE</priority><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>Threads created</name><key>mysql-stats[Threads_created,{$PORT}]</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><description>The number of threads created to handle connections. If Threads_created is big, you may want to increase the thread_cache_size value. The cache miss rate can be calculated as Threads_created/Connections.</description><applications><application><name>MySQL</name></application></applications><preprocessing><step><type>SIMPLE_CHANGE</type><params/></step></preprocessing></item><item><name>Threads running</name><key>mysql-stats[Threads_running,{$PORT}]</key><delay>60</delay><history>7d</history><description>The number of threads that are not sleeping.&#13;
Is the number of queries running concurrently and fight between to complete in time</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{last()}&gt;32</expression><name>MySQL: Too Many Concurrent Queries Running</name><priority>WARNING</priority><description>Too many active queries indicates there is a severe load on the server, and may be a sign of lock contention or unoptimized SQL queries.</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger><trigger><expression>{last(0)}&gt;1000</expression><name>MySQL active threads more than 1000 on {HOST.NAME}</name><priority>HIGH</priority><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>MySQL: thread_cache_size</name><key>mysql-stats[thread_cache_size,{$PORT}]</key><delay>5m</delay><history>7d</history><description>How many threads the server should cache for reuse. When a client disconnects, the client's threads are put in the cache if there are fewer than thread_cache_size threads there. Requests for threads are satisfied by reusing threads taken from the cache if possible, and only when the cache is empty is a new thread created. This variable can be increased to improve performance if you have a lot of new connections. Normally, this does not provide a notable performance improvement if you have a good thread implementation. However, if your server sees hundreds of connections per second you should normally set thread_cache_size high enough so that most new connections use cached threads. By examining the difference between the Connections and Threads_created status variables, you can see how efficient the thread cache is. For details, see Section 5.1.9, “Server Status Variables”.&#13;
&#13;
The default value is based on the following formula, capped to a limit of 100:&#13;
8 + (max_connections / 100)</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{last(0)}&lt;1</expression><name>MySQL: Thread Cache Not Enabled</name><priority>AVERAGE</priority><description>Each connection to the MySQL database server runs in its own thread. Thread creation takes time, so rather than killing the thread when a connection is closed, the server can keep the thread in its thread cache and use it for a new connection later.</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>MySQL: thread_handling</name><key>mysql-stats[thread_handling,{$PORT}]</key><delay>5m</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>The thread-handling model used by the server for connection threads. The permissible values are no-threads (the server uses a single thread to handle one connection) and one-thread-per-connection (the server uses one thread to handle each client connection). no-threads is useful for debugging under Linux; &#13;
Default Value:	one-thread-per-connection&#13;
Valid Values (&lt;= 5.7.8)	&#13;
no-threads&#13;
one-thread-per-connection&#13;
Links:&#13;
MySQL Manual: MySQL Enterprise Thread Pool&#13;
MySQL Manual: Thread Pool Installation</description><applications><application><name>MySQL</name></application></applications></item><item><name>MySQL: tmp_table_size</name><key>mysql-stats[tmp_table_size,{$PORT}]</key><delay>6h</delay><history>7d</history><units>B</units><description>The maximum size of internal in-memory temporary tables. This variable does not apply to user-created MEMORY tables.&#13;
Default: 16 Mb&#13;
The actual limit is determined from whichever of the values of tmp_table_size and max_heap_table_size is smaller. If an in-memory temporary table exceeds the limit, MySQL automatically converts it to an on-disk temporary table. As of MySQL 5.7.5, the internal_tmp_disk_storage_engine option defines the storage engine used for on-disk temporary tables. Prior to MySQL 5.7.5, the MyISAM storage engine is used.&#13;
Increase the value of tmp_table_size (and max_heap_table_size if necessary) if you do many advanced GROUP BY queries and you have lots of memory.&#13;
You can compare the number of internal on-disk temporary tables created to the total number of internal temporary tables created by comparing the values of the Created_tmp_disk_tables and Created_tmp_tables variables.&#13;
Links:&#13;
MySQL Manual: How MySQL Uses Internal Temporary Tables&#13;
MySQL Manual: System Variables&#13;
MySQL Performance Blog: TMP_TABLE_SIZE and MAX_HEAP_TABLE_SIZE</description><applications><application><name>MySQL</name></application></applications></item><item><name>Uptime</name><key>mysql-stats[Uptime,{$PORT}]</key><delay>60</delay><history>7d</history><units>uptime</units><description>This variable indicates the number of seconds since the server was last restarted.&#13;
This value is useful to analyze server uptime, as well as to generate reports on overall system performance. A consistent low value indicates that the server is being frequently restarted, thereby causing frequent interruptions to client service.</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{last(0)}&lt;300</expression><name>MySQL: Has just been restarted on {HOST.NAME}</name><priority>INFO</priority><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item><item><name>Version</name><key>mysql-stats[version,{$PORT}]</key><delay>3600</delay><history>365d</history><trends>0</trends><value_type>CHAR</value_type><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{diff(0)}&gt;0</expression><name>MySQL: Version of mysql was changed on {HOST.NAME}</name><priority>WARNING</priority></trigger></triggers></item><item><name>MySQL: version_compile_os</name><key>mysql-stats[version_compile_os,{$PORT}]</key><delay>6h</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>The type of operating system on which MySQL was built.</description><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{regexp(Win32)}&lt;&gt;1 and {regexp(Win64)}&lt;&gt;1 and {last()}&gt;0</expression><name>MySQL: Flush Time Set To Non-Zero Value</name><priority>WARNING</priority><description>If flush_time is set to a non-zero value, all tables are closed every flush_time seconds to free up resources and synchronize unflushed data to disk. If your system is unreliable and tends to lock up or restart often, forcing out table changes this way degrades performance but can reduce the chance of table corruption or data loss. We recommend that this option be used only on Windows, or on systems with minimal resources.</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&gt;0</value></tag></tags></trigger></triggers></item><item><name>Available status</name><key>mysql.ping[,{$PORT}]</key><delay>60</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><applications><application><name>MySQL</name></application></applications><triggers><trigger><expression>{iregexp(mysqld is alive)}&lt;&gt;1</expression><name>MySQL is not available</name><priority>HIGH</priority><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>{ITEM.VALUE}</value></tag></tags></trigger></triggers></item></items></template></templates><triggers><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[log_bin,{$PORT}].regexp(ON)}=1 and {Halley MySQL Python server mi passive:mysql-stats[sync_binlog,{$PORT}].last(0)}=1</expression><name>MySQL: Binary Logging Not Synchronized To Disk At Each Write</name><priority>WARNING</priority><description>By default, the binary log contents are not synchronized to disk. If the server host machine or operating system crash, there is a chance that the latest events in the binary log are not persisted on disk. You can alter this behavior using the sync_binlog server variable. If the value of this variable is greater than 0, the MySQL server synchronizes its binary log to disk (using fdatasync()) after sync_binlog commit groups are written to the binary log. The default value of sync_binlog is 0, which does no synchronizing to disk - in this case, the server relies on the operating system to flush the binary log's contents from time to time as for any other file. A value of 1 is the safest choice because in the event of a crash you lose at most one commit group from the binary log. However, it is also the slowest choice (unless the disk has a battery-backed cache, which makes synchronization very fast).&#13;
Advice:&#13;
&quot;Set sync_binlog = 1 within the [mysqld] section of your my.cnf/my.ini file to ensure the greatest safety for recovering from hardware, OS, and MySQL server crashes.&#13;
&#13;
Recommended Action&#13;
SET GLOBAL sync_binlog = 1;&quot;</description><manual_close>YES</manual_close></trigger><trigger><expression>(100-({Halley MySQL Python server mi passive:mysql-stats[Binlog_cache_disk_use,{$PORT}].last(0)}/({Halley MySQL Python server mi passive:mysql-stats[Binlog_cache_use,{$PORT}].last(0)}+1)*100))&lt;50</expression><name>MySQL: Binary Log Usage Exceeding Disk Cache Memory Limits - High</name><priority>HIGH</priority><description>When binary log usage exceeds the binary log cache memory limits, it is performing excessive disk operations. For optimal performance, transactions that move through the binary log should be contained within the binary log cache.</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;50</value></tag></tags></trigger><trigger><expression>(100-({Halley MySQL Python server mi passive:mysql-stats[Binlog_cache_disk_use,{$PORT}].last(0)}/({Halley MySQL Python server mi passive:mysql-stats[Binlog_cache_use,{$PORT}].last(0)}+1)*100))&lt;90</expression><name>MySQL: Binary Log Usage Exceeding Disk Cache Memory Limits - Info</name><priority>INFO</priority><description>When binary log usage exceeds the binary log cache memory limits, it is performing excessive disk operations. For optimal performance, transactions that move through the binary log should be contained within the binary log cache.</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;90</value></tag></tags></trigger><trigger><expression>(100-({Halley MySQL Python server mi passive:mysql-stats[Binlog_cache_disk_use,{$PORT}].last(0)}/({Halley MySQL Python server mi passive:mysql-stats[Binlog_cache_use,{$PORT}].last(0)}+1)*100))&lt;70</expression><name>MySQL: Binary Log Usage Exceeding Disk Cache Memory Limits - Warn</name><priority>INFO</priority><description>When binary log usage exceeds the binary log cache memory limits, it is performing excessive disk operations. For optimal performance, transactions that move through the binary log should be contained within the binary log cache.</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;70</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and (100-(({Halley MySQL Python server mi passive:mysql-stats[Created_tmp_disk_tables,{$PORT}].last()}/{Halley MySQL Python server mi passive:mysql-stats[Created_tmp_tables,{$PORT}].last()})*100)&lt;50)</expression><name>MySQL: Excessive Disk Temporary Table Usage Detected - High</name><priority>HIGH</priority><description>&quot;If the space required to build a temporary table exceeds either tmp_table_size or max_heap_table_size, MySQL creates a disk-based table in the server's tmpdir directory. Also, tables that have TEXT or BLOB columns are automatically placed on disk.&#13;
For performance reasons it is ideal to have most temporary tables created in memory, leaving exceedingly large temporary tables to be created on disk.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;50</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and (100-(({Halley MySQL Python server mi passive:mysql-stats[Created_tmp_disk_tables,{$PORT}].last()}/{Halley MySQL Python server mi passive:mysql-stats[Created_tmp_tables,{$PORT}].last()})*100)&lt;90)</expression><name>MySQL: Excessive Disk Temporary Table Usage Detected - Info</name><priority>INFO</priority><description>&quot;If the space required to build a temporary table exceeds either tmp_table_size or max_heap_table_size, MySQL creates a disk-based table in the server's tmpdir directory. Also, tables that have TEXT or BLOB columns are automatically placed on disk.&#13;
For performance reasons it is ideal to have most temporary tables created in memory, leaving exceedingly large temporary tables to be created on disk.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;90</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and (100-(({Halley MySQL Python server mi passive:mysql-stats[Created_tmp_disk_tables,{$PORT}].last()}/{Halley MySQL Python server mi passive:mysql-stats[Created_tmp_tables,{$PORT}].last()})*100)&lt;75)</expression><name>MySQL: Excessive Disk Temporary Table Usage Detected - Warn</name><priority>HIGH</priority><description>&quot;If the space required to build a temporary table exceeds either tmp_table_size or max_heap_table_size, MySQL creates a disk-based table in the server's tmpdir directory. Also, tables that have TEXT or BLOB columns are automatically placed on disk.&#13;
For performance reasons it is ideal to have most temporary tables created in memory, leaving exceedingly large temporary tables to be created on disk.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;70</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Connections,{$PORT}].last(0)}&gt;100 and (100*({Halley MySQL Python server mi passive:mysql-stats[Aborted_connects,{$PORT}].last(0)}/{Halley MySQL Python server mi passive:mysql-stats[Connections,{$PORT}].last(0)}))&gt;30</expression><name>MySQL: Excessive Percentage Of Attempted Connections To The Server Have Failed</name><priority>WARNING</priority><description>&quot;Excess aborted connection attempts to MySQL may indicate an issue with respect to the server or network, or could be indicative of DoS or password-cracking attempts against the MySQL Server. The aborted-connects count is incremented when:&#13;
A client does not have privileges to access a database&#13;
A client uses the wrong password&#13;
A malformed packet is received&#13;
The connect_timeout variable is exceeded&quot;&#13;
Advice:&#13;
&quot;Examine the maximum number of connections configured and ensure that the limit has not been reached.&#13;
&#13;
If the connection limit appears to not be an issue, investigate the possibility of network problems, and/or attempts to hack in to the database.&#13;
&#13;
Enabling the general query log and setting log_warnings=2 within your my.cnf/my.ini file will also force the MySQL server to log further information about these errors. Note that authentication failures are currently logged only to the general query log, but that log can get very large very fast on a heavily-loaded system so you may want to limit its use.&#13;
&#13;
Recommended Action&#13;
SET GLOBAL log_warnings = 2;&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&gt;30</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Connections,{$PORT}].last(0)}&gt;100 and (100*({Halley MySQL Python server mi passive:mysql-stats[Aborted_connects,{$PORT}].last(0)}/{Halley MySQL Python server mi passive:mysql-stats[Connections,{$PORT}].last(0)}))&gt;50</expression><name>MySQL: Excessive Percentage Of Attempted Connections To The Server Have Failed - High</name><priority>WARNING</priority><description>&quot;Excess aborted connection attempts to MySQL may indicate an issue with respect to the server or network, or could be indicative of DoS or password-cracking attempts against the MySQL Server. The aborted-connects count is incremented when:&#13;
A client does not have privileges to access a database&#13;
A client uses the wrong password&#13;
A malformed packet is received&#13;
The connect_timeout variable is exceeded&quot;&#13;
Advice:&#13;
&quot;Examine the maximum number of connections configured and ensure that the limit has not been reached.&#13;
&#13;
If the connection limit appears to not be an issue, investigate the possibility of network problems, and/or attempts to hack in to the database.&#13;
&#13;
Enabling the general query log and setting log_warnings=2 within your my.cnf/my.ini file will also force the MySQL server to log further information about these errors. Note that authentication failures are currently logged only to the general query log, but that log can get very large very fast on a heavily-loaded system so you may want to limit its use.&#13;
&#13;
Recommended Action&#13;
SET GLOBAL log_warnings = 2;&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&gt;50</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[max_heap_table_size,{$PORT}].last()}&lt;{Halley MySQL Python server mi passive:mysql-stats[tmp_table_size,{$PORT}].last()}</expression><name>MySQL: In-Memory Temporary Table Size Limited By Maximum Heap Table Size</name><priority>WARNING</priority><description>If the space required to build a temporary table exceeds either tmp_table_size or max_heap_table_size, MySQL creates a disk-based table in the server's tmpdir directory. For performance reasons it is ideal to have most temporary tables created in memory, leaving exceedingly large temporary tables to be created on disk. Many DBAs configure tmp_table_size appropriately, but forget that max_heap_table_size also plays a role.</description></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and {Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd_next,{$PORT}].last()}&gt;100000 and ((100-((({Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd_next,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd,{$PORT}].last()})/({Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd_next,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_first,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_next,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_key,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_prev,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_last,{$PORT}].last()}))*100))&lt;60)</expression><name>MySQL: Indexes Not Being Used Efficiently - High</name><priority>HIGH</priority><description>The target server does not appear to be using indexes efficiently. The values of Handler_read_rnd_next and Handler_read_rnd together - which reflect the number of rows read via full table scans - are high compared to the Handler variables which denote index accesses - such as Handler_read_key, Handler_read_next etc. You should examine your tables and queries for proper use of indexes.</description><tags><tag><tag>Value</tag><value>&lt;60</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and {Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd_next,{$PORT}].last()}&gt;100000 and ((100-((({Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd_next,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd,{$PORT}].last()})/({Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd_next,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_first,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_next,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_key,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_prev,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_last,{$PORT}].last()}))*100))&lt;90)</expression><name>MySQL: Indexes Not Being Used Efficiently - Info</name><priority>HIGH</priority><description>The target server does not appear to be using indexes efficiently. The values of Handler_read_rnd_next and Handler_read_rnd together - which reflect the number of rows read via full table scans - are high compared to the Handler variables which denote index accesses - such as Handler_read_key, Handler_read_next etc. You should examine your tables and queries for proper use of indexes.</description><tags><tag><tag>Value</tag><value>&lt;90</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and {Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd_next,{$PORT}].last()}&gt;100000 and ((100-((({Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd_next,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd,{$PORT}].last()})/({Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd_next,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_rnd,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_first,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_next,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_key,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_prev,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Handler_read_last,{$PORT}].last()}))*100))&lt;70)</expression><name>MySQL: Indexes Not Being Used Efficiently - Warn</name><priority>HIGH</priority><description>The target server does not appear to be using indexes efficiently. The values of Handler_read_rnd_next and Handler_read_rnd together - which reflect the number of rows read via full table scans - are high compared to the Handler variables which denote index accesses - such as Handler_read_key, Handler_read_next etc. You should examine your tables and queries for proper use of indexes.</description><tags><tag><tag>Value</tag><value>&lt;70</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and {Halley MySQL Python server mi passive:mysql-stats[Key_read_requests,{$PORT}].last()}&gt;10000 and (100-({Halley MySQL Python server mi passive:mysql-stats[Key_reads,{$PORT}].last()}/{Halley MySQL Python server mi passive:mysql-stats[Key_read_requests,{$PORT}].last()})*100)&lt;75</expression><name>MySQL: Key Buffer Size May Not Be Optimal For Key Cache - High</name><priority>HIGH</priority><description>The key cache hit ratio represents the proportion of keys that are being read from the key cache in memory instead of from disk. This should normally be greater than 99% for optimum efficiency.</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;75</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and {Halley MySQL Python server mi passive:mysql-stats[Key_read_requests,{$PORT}].last()}&gt;10000 and (100-({Halley MySQL Python server mi passive:mysql-stats[Key_reads,{$PORT}].last()}/{Halley MySQL Python server mi passive:mysql-stats[Key_read_requests,{$PORT}].last()})*100)&lt;95</expression><name>MySQL: Key Buffer Size May Not Be Optimal For Key Cache - Info</name><priority>HIGH</priority><description>The key cache hit ratio represents the proportion of keys that are being read from the key cache in memory instead of from disk. This should normally be greater than 99% for optimum efficiency.</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;95</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and {Halley MySQL Python server mi passive:mysql-stats[Key_read_requests,{$PORT}].last()}&gt;10000 and (100-({Halley MySQL Python server mi passive:mysql-stats[Key_reads,{$PORT}].last()}/{Halley MySQL Python server mi passive:mysql-stats[Key_read_requests,{$PORT}].last()})*100)&lt;85</expression><name>MySQL: Key Buffer Size May Not Be Optimal For Key Cache - Warn</name><priority>HIGH</priority><description>The key cache hit ratio represents the proportion of keys that are being read from the key cache in memory instead of from disk. This should normally be greater than 99% for optimum efficiency.</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;85</value></tag></tags></trigger><trigger><expression>(({Halley MySQL Python server mi passive:mysql-stats[Threads_connected,{$PORT}].last()}/{Halley MySQL Python server mi passive:mysql-stats[Max_used_connections,{$PORT}].last()})*100)&gt;95 and {Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800</expression><name>MySQL: Maximum Connection Limit reach 95%</name><priority>AVERAGE</priority><description>Once the maximum connection limit for the MySQL server has been reached, no other user connections can be established and errors occur on the client side of the application.&#13;
Docs in: http://dev.mysql.com/doc/mysql/en/too-many-connections.html</description><manual_close>YES</manual_close></trigger><trigger><expression>(({Halley MySQL Python server mi passive:mysql-stats[Threads_connected,{$PORT}].last()}/{Halley MySQL Python server mi passive:mysql-stats[Max_used_connections,{$PORT}].last()})*100)&gt;100 and {Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800</expression><name>MySQL: Maximum Connection Limit reach 100%</name><priority>HIGH</priority><description>Once the maximum connection limit for the MySQL server has been reached, no other user connections can be established and errors occur on the client side of the application.&#13;
Docs in: http://dev.mysql.com/doc/mysql/en/too-many-connections.html</description><manual_close>YES</manual_close></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[default_storage_engine,{$PORT}].regexp(MyISAM)}=1 and ({Halley MySQL Python server mi passive:mysql-stats[myisam_recover_options,{$PORT}].regexp(OFF)}=1 or {Halley MySQL Python server mi passive:mysql-stats[myisam_recover_options,{$PORT}].regexp(DEFAULT)}=1 or {Halley MySQL Python server mi passive:mysql-stats[myisam_recover_options,{$PORT}].regexp(&quot;&quot;)}=1)</expression><name>MySQL:  No Value Set For MyISAM Recover Options</name><status>DISABLED</status><priority>WARNING</priority><description>The binary log captures DML, DDL, and security changes that occur and stores these changes in a binary format. The binary log enables point-in-time recovery, preventing data loss during a disaster recovery situation. It also enables you to review all alterations made to your database.&#13;
Advice:&#13;
Enable binary logging for point-in-time recovery by setting the log-bin configuration variable in the [mysqld] section of your my.cnf/my.ini file.</description><manual_close>YES</manual_close></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Com_stmt_prepare,{$PORT}].last(0)}&gt;1 and ((100*({Halley MySQL Python server mi passive:mysql-stats[Com_stmt_close,{$PORT}].last(0)}/{Halley MySQL Python server mi passive:mysql-stats[Com_stmt_prepare,{$PORT}].last(0)}))&lt;40)</expression><name>MySQL: Prepared Statements Not Being Closed - High</name><priority>HIGH</priority><description>&quot;Prepared statements may increase performance in applications that execute similar statements more than once, primarily because the query is parsed only once. Prepared statements can also reduce network traffic because it is only necessary to send the data for the parameters for each execution rather than the whole statement.&#13;
&#13;
However, prepared statements take time to prepare and consume memory in the MySQL server until they are closed, so it is important to use them properly. If you are not closing prepared statements when you are done with them, you are needlessly tying up memory that could be put to use in other ways.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;40</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Com_stmt_prepare,{$PORT}].last(0)}&gt;1 and ((100*({Halley MySQL Python server mi passive:mysql-stats[Com_stmt_close,{$PORT}].last(0)}/{Halley MySQL Python server mi passive:mysql-stats[Com_stmt_prepare,{$PORT}].last(0)}))&lt;80)</expression><name>MySQL: Prepared Statements Not Being Closed - Info</name><priority>HIGH</priority><description>&quot;Prepared statements may increase performance in applications that execute similar statements more than once, primarily because the query is parsed only once. Prepared statements can also reduce network traffic because it is only necessary to send the data for the parameters for each execution rather than the whole statement.&#13;
&#13;
However, prepared statements take time to prepare and consume memory in the MySQL server until they are closed, so it is important to use them properly. If you are not closing prepared statements when you are done with them, you are needlessly tying up memory that could be put to use in other ways.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;80</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Com_stmt_prepare,{$PORT}].last(0)}&gt;1 and ((100*({Halley MySQL Python server mi passive:mysql-stats[Com_stmt_close,{$PORT}].last(0)}/{Halley MySQL Python server mi passive:mysql-stats[Com_stmt_prepare,{$PORT}].last(0)}))&lt;60)</expression><name>MySQL: Prepared Statements Not Being Closed - Warn</name><priority>HIGH</priority><description>&quot;Prepared statements may increase performance in applications that execute similar statements more than once, primarily because the query is parsed only once. Prepared statements can also reduce network traffic because it is only necessary to send the data for the parameters for each execution rather than the whole statement.&#13;
&#13;
However, prepared statements take time to prepare and consume memory in the MySQL server until they are closed, so it is important to use them properly. If you are not closing prepared statements when you are done with them, you are needlessly tying up memory that could be put to use in other ways.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;60</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Com_prepare_sql,{$PORT}].last(0)}&gt;1 and ({Halley MySQL Python server mi passive:mysql-stats[Com_execute_sql,{$PORT}].last(0)}&gt;{Halley MySQL Python server mi passive:mysql-stats[Com_prepare_sql,{$PORT}].last(0)}) and ((100-({Halley MySQL Python server mi passive:mysql-stats[Com_prepare_sql,{$PORT}].last(0)}/{Halley MySQL Python server mi passive:mysql-stats[Com_execute_sql,{$PORT}].last(0)})*100)&lt;50)</expression><name>MySQL: Prepared Statements Not Being Used Effectively - High</name><priority>HIGH</priority><description>&quot;Prepared statements may increase performance in applications that execute similar statements more than once, primarily because the query is parsed only once. Prepared statements can also reduce network traffic because it is only necessary to send the data for the parameters for each execution rather than the whole statement.&#13;
&#13;
However, prepared statements take time to prepare and consume memory in the MySQL server until they are closed, so it is important to use them properly. If you are only executing a statement a few times, the overhead of creating a prepared statement may not be worthwhile.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;50</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Com_prepare_sql,{$PORT}].last(0)}&gt;1 and ({Halley MySQL Python server mi passive:mysql-stats[Com_execute_sql,{$PORT}].last(0)}&gt;{Halley MySQL Python server mi passive:mysql-stats[Com_prepare_sql,{$PORT}].last(0)}) and ((100-({Halley MySQL Python server mi passive:mysql-stats[Com_prepare_sql,{$PORT}].last(0)}/{Halley MySQL Python server mi passive:mysql-stats[Com_execute_sql,{$PORT}].last(0)})*100)&lt;90)</expression><name>MySQL: Prepared Statements Not Being Used Effectively - Info</name><priority>HIGH</priority><description>&quot;Prepared statements may increase performance in applications that execute similar statements more than once, primarily because the query is parsed only once. Prepared statements can also reduce network traffic because it is only necessary to send the data for the parameters for each execution rather than the whole statement.&#13;
&#13;
However, prepared statements take time to prepare and consume memory in the MySQL server until they are closed, so it is important to use them properly. If you are only executing a statement a few times, the overhead of creating a prepared statement may not be worthwhile.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;90</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Com_prepare_sql,{$PORT}].last(0)}&gt;1 and ({Halley MySQL Python server mi passive:mysql-stats[Com_execute_sql,{$PORT}].last(0)}&gt;{Halley MySQL Python server mi passive:mysql-stats[Com_prepare_sql,{$PORT}].last(0)}) and ((100-({Halley MySQL Python server mi passive:mysql-stats[Com_prepare_sql,{$PORT}].last(0)}/{Halley MySQL Python server mi passive:mysql-stats[Com_execute_sql,{$PORT}].last(0)})*100)&lt;75)</expression><name>MySQL: Prepared Statements Not Being Used Effectively - Warn</name><priority>HIGH</priority><description>&quot;Prepared statements may increase performance in applications that execute similar statements more than once, primarily because the query is parsed only once. Prepared statements can also reduce network traffic because it is only necessary to send the data for the parameters for each execution rather than the whole statement.&#13;
&#13;
However, prepared statements take time to prepare and consume memory in the MySQL server until they are closed, so it is important to use them properly. If you are only executing a statement a few times, the overhead of creating a prepared statement may not be worthwhile.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;70</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Com_prepare_sql,{$PORT}].last(0)}&gt;1 and ({Halley MySQL Python server mi passive:mysql-stats[Com_execute_sql,{$PORT}].last(0)}&gt;{Halley MySQL Python server mi passive:mysql-stats[Com_prepare_sql,{$PORT}].last(0)}) and ((100-({Halley MySQL Python server mi passive:mysql-stats[Com_prepare_sql,{$PORT}].last(0)}/{Halley MySQL Python server mi passive:mysql-stats[Com_execute_sql,{$PORT}].last(0)})*100)&lt;75)</expression><name>MySQL: Prepared Statements Not Being Used Effectively &lt; 75</name><priority>WARNING</priority><description>&quot;Prepared statements may increase performance in applications that execute similar statements more than once, primarily because the query is parsed only once. Prepared statements can also reduce network traffic because it is only necessary to send the data for the parameters for each execution rather than the whole statement.&#13;
&#13;
However, prepared statements take time to prepare and consume memory in the MySQL server until they are closed, so it is important to use them properly. If you are only executing a statement a few times, the overhead of creating a prepared statement may not be worthwhile.&quot;</description></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Com_grant,{$PORT}].last(0)}&gt;0 or {Halley MySQL Python server mi passive:mysql-stats[Com_revoke,{$PORT}].last(0)}&gt;0</expression><name>MySQL: Privilege Alterations Have Been Detected</name><status>DISABLED</status><priority>HIGH</priority><description>For development environments, changes to database security privileges may be a normal occurrence, but for production environments it is wise to know when any security changes occur with respect to database privileges, and to ensure that those changes are authorized and required.</description><manual_close>YES</manual_close></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and ({Halley MySQL Python server mi passive:mysql-stats[query_cache_size,{$PORT}].last()}&gt;0 and {Halley MySQL Python server mi passive:mysql-stats[query_cache_type,{$PORT}].regexp(OFF)}=0) and (((1-({Halley MySQL Python server mi passive:mysql-stats[Qcache_free_memory,{$PORT}].last()}/{Halley MySQL Python server mi passive:mysql-stats[query_cache_size,{$PORT}].last()}))*100)&gt;25) and ((({Halley MySQL Python server mi passive:mysql-stats[Qcache_hits,{$PORT}].last()}/({Halley MySQL Python server mi passive:mysql-stats[Qcache_inserts,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Qcache_hits,{$PORT}].last()}))*100)&lt;40)</expression><name>MySQL: Query Cache Has Sub-Optimal Hit Rate - High</name><priority>HIGH</priority><description>&quot;When enabled, the query cache should experience a high degree of &quot;&quot;hits&quot;&quot;, meaning that queries in the cache are being reused by other user connections. A low hit rate may mean that not enough memory is allocated to the cache, identical queries are not being issued repeatedly to the server, or that the statements in the query cache are invalidated too frequently by INSERT, UPDATE or DELETE statements.&#13;
&#13;
This advisor triggers when more than 25% of the Query Cache is being used, and the ratio of Query Cache hits to Query Cache inserts is low.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;40</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and ({Halley MySQL Python server mi passive:mysql-stats[query_cache_size,{$PORT}].last()}&gt;0 and {Halley MySQL Python server mi passive:mysql-stats[query_cache_type,{$PORT}].regexp(OFF)}=0) and (((1-({Halley MySQL Python server mi passive:mysql-stats[Qcache_free_memory,{$PORT}].last()}/{Halley MySQL Python server mi passive:mysql-stats[query_cache_size,{$PORT}].last()}))*100)&gt;25) and ((({Halley MySQL Python server mi passive:mysql-stats[Qcache_hits,{$PORT}].last()}/({Halley MySQL Python server mi passive:mysql-stats[Qcache_inserts,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Qcache_hits,{$PORT}].last()}))*100)&lt;60)</expression><name>MySQL: Query Cache Has Sub-Optimal Hit Rate - Info</name><priority>INFO</priority><description>&quot;When enabled, the query cache should experience a high degree of &quot;&quot;hits&quot;&quot;, meaning that queries in the cache are being reused by other user connections. A low hit rate may mean that not enough memory is allocated to the cache, identical queries are not being issued repeatedly to the server, or that the statements in the query cache are invalidated too frequently by INSERT, UPDATE or DELETE statements.&#13;
&#13;
This advisor triggers when more than 25% of the Query Cache is being used, and the ratio of Query Cache hits to Query Cache inserts is low.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;60</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and ({Halley MySQL Python server mi passive:mysql-stats[query_cache_size,{$PORT}].last()}&gt;0 and {Halley MySQL Python server mi passive:mysql-stats[query_cache_type,{$PORT}].regexp(OFF)}=0) and (((1-({Halley MySQL Python server mi passive:mysql-stats[Qcache_free_memory,{$PORT}].last()}/{Halley MySQL Python server mi passive:mysql-stats[query_cache_size,{$PORT}].last()}))*100)&gt;25) and ((({Halley MySQL Python server mi passive:mysql-stats[Qcache_hits,{$PORT}].last()}/({Halley MySQL Python server mi passive:mysql-stats[Qcache_inserts,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Qcache_hits,{$PORT}].last()}))*100)&lt;50)</expression><name>MySQL: Query Cache Has Sub-Optimal Hit Rate - Warn</name><priority>WARNING</priority><description>&quot;When enabled, the query cache should experience a high degree of &quot;&quot;hits&quot;&quot;, meaning that queries in the cache are being reused by other user connections. A low hit rate may mean that not enough memory is allocated to the cache, identical queries are not being issued repeatedly to the server, or that the statements in the query cache are invalidated too frequently by INSERT, UPDATE or DELETE statements.&#13;
&#13;
This advisor triggers when more than 25% of the Query Cache is being used, and the ratio of Query Cache hits to Query Cache inserts is low.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&lt;50</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[query_cache_size,{$PORT}].last(0)}&gt;0 and {Halley MySQL Python server mi passive:mysql-stats[query_cache_type,{$PORT}].regexp(OFF)}&lt;&gt;1 and {Halley MySQL Python server mi passive:mysql-stats[Qcache_free_blocks,{$PORT}].last(0)}&gt;10000</expression><name>MySQL: Query Cache Is Excessively Fragmented - High</name><priority>HIGH</priority><description>&quot;Enabling the query cache can significantly increase performance for SELECT queries that are identically executed across many connections, returning the same result set. However, performance can be adversely affected if the memory used for the query cache is excessively fragmented, causing the server to pause while it is removing entries from the cache or searching the free block list for a good block to use to insert a new query into the cache.&#13;
&#13;
WARNING: The query cache is deprecated and has been removed in MySQL Server 8.0. Please plan ahead accordingly and consider disabling the query cache now.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&gt;10000</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[query_cache_size,{$PORT}].last(0)}&gt;0 and {Halley MySQL Python server mi passive:mysql-stats[query_cache_type,{$PORT}].regexp(OFF)}&lt;&gt;1 and {Halley MySQL Python server mi passive:mysql-stats[Qcache_free_blocks,{$PORT}].last(0)}&gt;1000</expression><name>MySQL: Query Cache Is Excessively Fragmented - Info</name><priority>INFO</priority><description>&quot;Enabling the query cache can significantly increase performance for SELECT queries that are identically executed across many connections, returning the same result set. However, performance can be adversely affected if the memory used for the query cache is excessively fragmented, causing the server to pause while it is removing entries from the cache or searching the free block list for a good block to use to insert a new query into the cache.&#13;
&#13;
WARNING: The query cache is deprecated and has been removed in MySQL Server 8.0. Please plan ahead accordingly and consider disabling the query cache now.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&gt;1000</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[query_cache_size,{$PORT}].last(0)}&gt;0 and {Halley MySQL Python server mi passive:mysql-stats[query_cache_type,{$PORT}].regexp(OFF)}&lt;&gt;1 and {Halley MySQL Python server mi passive:mysql-stats[Qcache_free_blocks,{$PORT}].last(0)}&gt;5000</expression><name>MySQL: Query Cache Is Excessively Fragmented - Warn</name><priority>INFO</priority><description>&quot;Enabling the query cache can significantly increase performance for SELECT queries that are identically executed across many connections, returning the same result set. However, performance can be adversely affected if the memory used for the query cache is excessively fragmented, causing the server to pause while it is removing entries from the cache or searching the free block list for a good block to use to insert a new query into the cache.&#13;
&#13;
WARNING: The query cache is deprecated and has been removed in MySQL Server 8.0. Please plan ahead accordingly and consider disabling the query cache now.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&gt;5000</value></tag></tags></trigger><trigger><expression>({Halley MySQL Python server mi passive:mysql-stats[query_cache_size,{$PORT}].last(0)}&gt;0 and {Halley MySQL Python server mi passive:mysql-stats[query_cache_type,{$PORT}].regexp(OFF)}&lt;&gt;1) and {Halley MySQL Python server mi passive:mysql-stats[Qcache_lowmem_prunes,{$PORT}].last(0)}&gt;0</expression><name>MySQL: Query Cache Potentially Undersized</name><priority>AVERAGE</priority><description>&quot;When the Query Cache is full, and needs to add more queries to the cache, it will make more room in the cache by freeing the least recently used queries from the cache, and then inserting the new queries. If this is happening often then you should increase the size of the cache to avoid this constant &quot;&quot;swapping&quot;&quot;.&#13;
&#13;
WARNING: The query cache is deprecated and has been removed in MySQL Server 8.0. Please plan ahead accordingly and consider disabling the query cache now.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&gt;0</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and ((({Halley MySQL Python server mi passive:mysql-stats[Table_locks_waited,{$PORT}].last()}/({Halley MySQL Python server mi passive:mysql-stats[Table_locks_immediate,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Table_locks_waited,{$PORT}].last()}))*100)&gt;95)</expression><name>MySQL: Table Lock Contention Excessive - High</name><priority>HIGH</priority><description>&quot;If the space required to build a temporary table exceeds either tmp_table_size or max_heap_table_size, MySQL creates a disk-based table in the server's tmpdir directory. Also, tables that have TEXT or BLOB columns are automatically placed on disk.&#13;
For performance reasons it is ideal to have most temporary tables created in memory, leaving exceedingly large temporary tables to be created on disk.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&gt;95</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and ((({Halley MySQL Python server mi passive:mysql-stats[Table_locks_waited,{$PORT}].last()}/({Halley MySQL Python server mi passive:mysql-stats[Table_locks_immediate,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Table_locks_waited,{$PORT}].last()}))*100)&gt;30)</expression><name>MySQL: Table Lock Contention Excessive - Info</name><priority>INFO</priority><description>&quot;If the space required to build a temporary table exceeds either tmp_table_size or max_heap_table_size, MySQL creates a disk-based table in the server's tmpdir directory. Also, tables that have TEXT or BLOB columns are automatically placed on disk.&#13;
For performance reasons it is ideal to have most temporary tables created in memory, leaving exceedingly large temporary tables to be created on disk.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&gt;30</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and ((({Halley MySQL Python server mi passive:mysql-stats[Table_locks_waited,{$PORT}].last()}/({Halley MySQL Python server mi passive:mysql-stats[Table_locks_immediate,{$PORT}].last()}+{Halley MySQL Python server mi passive:mysql-stats[Table_locks_waited,{$PORT}].last()}))*100)&gt;60)</expression><name>MySQL: Table Lock Contention Excessive - Warn</name><priority>HIGH</priority><description>&quot;If the space required to build a temporary table exceeds either tmp_table_size or max_heap_table_size, MySQL creates a disk-based table in the server's tmpdir directory. Also, tables that have TEXT or BLOB columns are automatically placed on disk.&#13;
For performance reasons it is ideal to have most temporary tables created in memory, leaving exceedingly large temporary tables to be created on disk.&quot;</description><manual_close>YES</manual_close><tags><tag><tag>Value</tag><value>&gt;60</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and (100-(({Halley MySQL Python server mi passive:mysql-stats[Threads_created,{$PORT}].last()}/{Halley MySQL Python server mi passive:mysql-stats[Connections,{$PORT}].last()})*100)&lt;85)</expression><name>MySQL: Thread Cache Size May Not Be Optimal - Info</name><priority>INFO</priority><description>Each connection to the MySQL database server runs in its own thread. Thread creation takes time, so rather than killing the thread when a connection is closed, the server can keep the thread in its thread cache and use it for a new connection later.&#13;
Advice:&#13;
&quot;Increase the thread_cache_size variable dynamically and monitor the thread cache hit ratio (SET GLOBAL thread_cache_size = ;). When it reaches an acceptable level, put the corresponding value of thread_cache_size in your my.cnf/my.ini file so the variable is set properly when the server is restarted.&#13;
&#13;
The ideal situation is to get Threads_created as close as possible to thread_cache_size - no new connections having to wait for new thread allocation - staying as close to around a 99% thread cache hit ratio as you can. The thread cache hit ratio is calculated as follows:&#13;
&#13;
100-((Threads_created / Connections)*100)&quot;</description><tags><tag><tag>Value</tag><value>&lt;85</value></tag></tags></trigger><trigger><expression>{Halley MySQL Python server mi passive:mysql-stats[Uptime,{$PORT}].last()}&gt;10800 and (100-(({Halley MySQL Python server mi passive:mysql-stats[Threads_created,{$PORT}].last()}/{Halley MySQL Python server mi passive:mysql-stats[Connections,{$PORT}].last()})*100)&lt;75)</expression><name>MySQL: Thread Cache Size May Not Be Optimal - Warn</name><priority>INFO</priority><description>Each connection to the MySQL database server runs in its own thread. Thread creation takes time, so rather than killing the thread when a connection is closed, the server can keep the thread in its thread cache and use it for a new connection later.&#13;
Advice:&#13;
&quot;Increase the thread_cache_size variable dynamically and monitor the thread cache hit ratio (SET GLOBAL thread_cache_size = ;). When it reaches an acceptable level, put the corresponding value of thread_cache_size in your my.cnf/my.ini file so the variable is set properly when the server is restarted.&#13;
&#13;
The ideal situation is to get Threads_created as close as possible to thread_cache_size - no new connections having to wait for new thread allocation - staying as close to around a 99% thread cache hit ratio as you can. The thread cache hit ratio is calculated as follows:&#13;
&#13;
100-((Threads_created / Connections)*100)&quot;</description><tags><tag><tag>Value</tag><value>&lt;87</value></tag></tags></trigger></triggers><graphs><graph><name>MySQL: Binlog Cache Writes Efficiency</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Binlog_cache_disk_use,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Binlog_cache_use,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Binlog Statement Cache Efficiency</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Binlog_stmt_cache_disk_use,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Binlog_stmt_cache_use,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Connections</name><graph_items><graph_item><color>2774A4</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Connections,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>A54F10</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Max_used_connections,{$PORT}]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>FC6EA3</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Threads_connected,{$PORT}]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>6C59DC</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Threads_running,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Connections - Aborted</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Aborted_connects,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Aborted_clients,{$PORT}]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>2774A4</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Connections,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Connections - Cache (Thread cache)</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Connections,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Threads_cached,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Connections/Threads</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Threads_cached,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Threads_connected,{$PORT}]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>2774A4</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Threads_running,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: MyISAM Indexes</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Key_reads,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Key_read_requests,{$PORT}]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>2774A4</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Key_write_requests,{$PORT}]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Key_writes,{$PORT}]</key></item></graph_item><graph_item><sortorder>4</sortorder><color>FC6EA3</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Key_blocks_not_flushed,{$PORT}]</key></item></graph_item><graph_item><sortorder>5</sortorder><color>6C59DC</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Key_blocks_unused,{$PORT}]</key></item></graph_item><graph_item><sortorder>6</sortorder><color>AC8C14</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Key_blocks_used,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Network traffic</name><width>600</width><show_work_period>NO</show_work_period><show_triggers>NO</show_triggers><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><color>FF6666</color><yaxisside>RIGHT</yaxisside><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Bytes_received,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>6666FF</color><yaxisside>RIGHT</yaxisside><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Bytes_sent,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Queries executed</name><width>600</width><show_work_period>NO</show_work_period><show_triggers>NO</show_triggers><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Com_begin,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Com_commit,{$PORT}]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>2774A4</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Com_create_table,{$PORT}]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Com_delete,{$PORT}]</key></item></graph_item><graph_item><sortorder>4</sortorder><color>FC6EA3</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Com_insert,{$PORT}]</key></item></graph_item><graph_item><sortorder>5</sortorder><color>6C59DC</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Com_replace,{$PORT}]</key></item></graph_item><graph_item><sortorder>6</sortorder><color>AC8C14</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Com_select,{$PORT}]</key></item></graph_item><graph_item><sortorder>7</sortorder><color>611F27</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Com_update,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Query cache blocks</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Qcache_free_blocks,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Qcache_total_blocks,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Query cache efficiency</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Qcache_hits,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Qcache_inserts,{$PORT}]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>2774A4</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Qcache_not_cached,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Query cache low memory prunes</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Qcache_lowmem_prunes,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Query Cache queries</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Qcache_queries_in_cache,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Row access (Handlers reads)</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Handler_read_first,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Handler_read_key,{$PORT}]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>2774A4</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Handler_read_last,{$PORT}]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>A54F10</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Handler_read_next,{$PORT}]</key></item></graph_item><graph_item><sortorder>4</sortorder><color>FC6EA3</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Handler_read_prev,{$PORT}]</key></item></graph_item><graph_item><sortorder>5</sortorder><color>6C59DC</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Handler_read_rnd,{$PORT}]</key></item></graph_item><graph_item><sortorder>6</sortorder><color>AC8C14</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Handler_read_rnd_next,{$PORT}]</key></item></graph_item><graph_item><sortorder>7</sortorder><color>611F27</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Sort_rows,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Row writes (Handler writes)</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Handler_write,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Handler_delete,{$PORT}]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>2774A4</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Handler_update,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Slow Queries</name><width>600</width><show_work_period>NO</show_work_period><show_triggers>NO</show_triggers><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><color>EE0000</color><yaxisside>RIGHT</yaxisside><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Slow_queries,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Sort activity</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Sort_merge_passes,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Sort_range,{$PORT}]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>2774A4</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Sort_scan,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Table definition</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Opened_table_definitions,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Open_table_definitions,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Table locks</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Table_locks_immediate,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Table_locks_waited,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Temporary files</name><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Created_tmp_files,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Opened_files,{$PORT}]</key></item></graph_item></graph_items></graph><graph><name>MySQL: Temporary tables</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><color>1A7C11</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Created_tmp_disk_tables,{$PORT}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Halley MySQL Python server mi passive</host><key>mysql-stats[Created_tmp_tables,{$PORT}]</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
