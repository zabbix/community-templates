<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:26:53Z</date><groups><group><name>Pyora</name></group><group><name>Templates</name></group></groups><templates><template><template>Pyora active send</template><name>Pyora active send</name><description>## Overview

This is the fixed template for Zabbix PyOra to work on 3.0. I remove the unsupported tags and downgraded version. Note you will most likely have to update the triggers manually.



</description><groups><group><name>Pyora</name></group><group><name>Templates</name></group></groups><applications><application><name>ASM Volumes</name></application><application><name>Database Users</name></application><application><name>Oracle</name></application><application><name>Tablespaces</name></application><application><name>Temp Tablespaces</name></application></applications><items><item><name>Oracle/Active user count on {$DATABASE}</name><type>TRAP</type><key>activeusercount</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Buffer busy waits on {$DATABASE}</name><type>TRAP</type><key>bufbusywaits</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Instance is active and open on {$DATABASE}</name><type>TRAP</type><key>check_active</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><applications><application><name>Oracle</name></application></applications><triggers><trigger><expression>{regexp(ORA)}=1</expression><name>Database {$DATABASE} is down or ORA error found</name><priority>DISASTER</priority><description>Contact DBA.</description></trigger><trigger><expression>{nodata(800)}=1</expression><name>Database {$DATABASE} is not responding</name><priority>HIGH</priority></trigger></triggers></item><item><name>Oracle/Archive {$ARCHIVE} on {$DATABASE}</name><type>TRAP</type><key>check_archive[{$ARCHIVE}]</key><delay>0</delay><history>7d</history><trends>90d</trends><status>DISABLED</status><units>%</units><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/User Commits on {$DATABASE}</name><type>TRAP</type><key>commits</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Oracle/Size of all datafiles on {$DATABASE}</name><type>TRAP</type><key>dbfilesize</key><delay>0</delay><history>7d</history><trends>90d</trends><units>B</units><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/dbprllwrite on {$DATABASE}</name><type>TRAP</type><key>dbprllwrite</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications><preprocessing><step><type>BOOL_TO_DECIMAL</type><params/></step></preprocessing></item><item><name>Oracle/dbscattread on {$DATABASE}</name><type>TRAP</type><key>dbscattread</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/dbseqread on {$DATABASE}</name><type>TRAP</type><key>dbseqread</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications><preprocessing><step><type>BOOL_TO_DECIMAL</type><params/></step></preprocessing></item><item><name>Oracle/Size of user data (without temp) on {$DATABASE}</name><type>TRAP</type><key>dbsize</key><delay>0</delay><history>7d</history><trends>90d</trends><units>B</units><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/dbsnglwrite {$DATABASE}</name><type>TRAP</type><key>dbsnglwrite</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Deadlocks on {$DATABASE}</name><type>TRAP</type><key>deadlocks</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Oracle/Directread on {$DATABASE}</name><type>TRAP</type><key>directread</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Disk sorts ratio on {$DATABASE}</name><type>TRAP</type><key>dsksortratio</key><delay>0</delay><history>7d</history><trends>90d</trends><value_type>FLOAT</value_type><units>%</units><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Enqueue on {$DATABASE}</name><type>TRAP</type><key>enqueue</key><delay>0</delay><history>7d</history><trends>90d</trends><status>DISABLED</status><applications><application><name>Oracle</name></application></applications></item><item><name>Zabbix failed checks on {$DATABASE}</name><type>TRAP</type><key>failedchecks</key><delay>0</delay><history>7d</history><trends>90d</trends><triggers><trigger><expression>{last()}&lt;&gt;0</expression><name>Zabbix sender failed checks count: {ITEM.LASTVALUE1}</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>Oracle/fra_use on {$DATABASE}</name><type>TRAP</type><key>fra_use</key><delay>0</delay><history>7d</history><trends>90d</trends><status>DISABLED</status><value_type>FLOAT</value_type><applications><application><name>Oracle</name></application></applications><triggers><trigger><expression>{last(0)}&gt;90</expression><name>fra_use used on {$DATABASE} &gt; 90%</name><priority>HIGH</priority><description>Fast Recovery Area usage &gt; 90%</description></trigger></triggers></item><item><name>Oracle/freebufwaits on {$DATABASE}</name><type>TRAP</type><key>freebufwaits</key><delay>0</delay><history>7d</history><trends>90d</trends><status>DISABLED</status><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Hard parse ratio on {$DATABASE}</name><type>TRAP</type><key>hparsratio</key><delay>0</delay><history>7d</history><trends>90d</trends><value_type>FLOAT</value_type><units>%</units><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Index fast full scans (full) on {$DATABASE}</name><type>TRAP</type><key>indexffs</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Oracle/Lastapplarclog on {$DATABASE}</name><type>TRAP</type><key>lastapplarclog</key><delay>0</delay><history>7d</history><trends>90d</trends><status>DISABLED</status><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Lastarclog on {$DATABASE}</name><type>TRAP</type><key>lastarclog</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications><preprocessing><step><type>BOOL_TO_DECIMAL</type><params/></step></preprocessing></item><item><name>Oracle/Latchfree on {$DATABASE}</name><type>TRAP</type><key>latchfree</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Logfilesync on {$DATABASE}</name><type>TRAP</type><key>logfilesync</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Logonscurrent on {$DATABASE}</name><type>TRAP</type><key>logonscurrent</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Logprllwrite on {$DATABASE}</name><type>TRAP</type><key>logprllwrite</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Logswcompletion on {$DATABASE}</name><type>TRAP</type><key>logswcompletion</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Netresv on {$DATABASE}</name><type>TRAP</type><key>netresv</key><delay>0</delay><history>7d</history><trends>90d</trends><units>b</units><applications><application><name>Oracle</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Oracle/Netroundtrips on {$DATABASE}</name><type>TRAP</type><key>netroundtrips</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Netsent on {$DATABASE}</name><type>TRAP</type><key>netsent</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Zabbix items list</name><key>pyora-items-list[{$ZABBIXURL},{$ZABBIXUSER},{$ZABBIXPASSWORD},{HOST.HOST},{$ADDRESS},{$DATABASE}]</key><delay>3600</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><triggers><trigger><expression>{regexp(OK)}=0</expression><name>Can't create items list</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>Oracle/Query Lock on {$DATABASE}</name><type>TRAP</type><key>query_lock</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications><triggers><trigger><expression>{last(0)}&gt;0</expression><name>Query Lock on {$DATABASE} &gt; 1</name><status>DISABLED</status><priority>AVERAGE</priority></trigger></triggers></item><item><name>Query Lock list on {$DATABASE}</name><type>TRAP</type><key>query_lock_list2</key><delay>0</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Oracle</name></application></applications><triggers><trigger><expression>{strlen()}&gt;3</expression><name>Query Lock list on {$DATABASE} not empty</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>Oracle/Query Redologs on {$DATABASE}</name><type>TRAP</type><key>query_redologs</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Query Rollbacks on {$DATABASE}</name><type>TRAP</type><key>query_rollbacks</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Query Sessions on {$DATABASE}</name><type>TRAP</type><key>query_sessions</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications><triggers><trigger><expression>{last(0)}&gt;250</expression><name>Query Sessions on {$DATABASE} &gt; 250</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>Oracle/Database CPU Time Ratio on {$DATABASE}</name><type>TRAP</type><key>query_sysmetrics[Database_CPU_Time_Ratio]</key><delay>0</delay><history>7d</history><trends>90d</trends><value_type>FLOAT</value_type><units>%</units><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Database Wait Time Ratio on {$DATABASE}</name><type>TRAP</type><key>query_sysmetrics[Database_Wait_Time_Ratio]</key><delay>0</delay><history>7d</history><trends>90d</trends><value_type>FLOAT</value_type><units>%</units><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/User Transaction Per Sec on {$DATABASE}</name><type>TRAP</type><key>query_sysmetrics[User_Transaction_Per_Sec]</key><delay>0</delay><history>7d</history><trends>90d</trends><value_type>FLOAT</value_type><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Read Cache hit ratio on {$DATABASE}</name><type>TRAP</type><key>rcachehit</key><delay>0</delay><history>7d</history><trends>90d</trends><value_type>FLOAT</value_type><units>%</units><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Redo Writes on {$DATABASE}</name><type>TRAP</type><key>redowrites</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Oracle/Table scan rows gotten on {$DATABASE}</name><type>TRAP</type><key>tblrowsscans</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Oracle/Table scans (long tables) on {$DATABASE}</name><type>TRAP</type><key>tblscans</key><delay>0</delay><history>7d</history><trends>90d</trends><applications><application><name>Oracle</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item><item><name>Oracle/Uptime on {$DATABASE}</name><type>TRAP</type><key>uptime</key><delay>0</delay><history>7d</history><trends>90d</trends><units>s</units><applications><application><name>Oracle</name></application></applications></item><item><name>Oracle/Version on {$DATABASE}</name><type>TRAP</type><key>version</key><delay>0</delay><trends>0</trends><value_type>CHAR</value_type><applications><application><name>Oracle</name></application></applications></item></items><discovery_rules><discovery_rule><name>Discovery Oracle ASM volumes</name><key>pyora-discovery[{$ADDRESS},{$DATABASE},show_asm_volumes]</key><delay>3600</delay><filter><conditions><condition><macro>{#ASMVOLUME}</macro><formulaid>A</formulaid></condition></conditions></filter><item_prototypes><item_prototype><name>ASM Volume Free on {#ASMVOLUME}</name><type>TRAP</type><key>asm_volume_free[{#ASMVOLUME}]</key><delay>0</delay><history>7d</history><trends>90d</trends><units>B</units><applications><application><name>ASM Volumes</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>1048576</params></step></preprocessing></item_prototype><item_prototype><name>ASM Volume Size on {#ASMVOLUME}</name><type>TRAP</type><key>asm_volume_size[{#ASMVOLUME}]</key><delay>0</delay><history>7d</history><trends>90d</trends><units>B</units><applications><application><name>ASM Volumes</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>1048576</params></step></preprocessing></item_prototype><item_prototype><name>ASM Volume Use on {#ASMVOLUME}</name><type>TRAP</type><key>asm_volume_use[{#ASMVOLUME}]</key><delay>0</delay><history>7d</history><trends>90d</trends><value_type>FLOAT</value_type><units>%</units><applications><application><name>ASM Volumes</name></application></applications></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><expression>({Pyora active send:asm_volume_size[{#ASMVOLUME}].last()} - {Pyora active send:asm_volume_free[{#ASMVOLUME}].last()}) / {Pyora active send:asm_volume_size[{#ASMVOLUME}].last()} *100 &gt; {$ASMHIGH}</expression><name>ASM Volume {#ASMVOLUME} used &gt; {$ASMHIGH}% ({ITEM.LASTVALUE2} / {ITEM.LASTVALUE1})</name><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></discovery_rule><discovery_rule><name>Discovery Oracle tablespaces</name><key>pyora-discovery[{$ADDRESS},{$DATABASE},show_tablespaces]</key><delay>3600</delay><status>DISABLED</status><filter><conditions><condition><macro>{#TABLESPACE}</macro><formulaid>A</formulaid></condition></conditions></filter><item_prototypes><item_prototype><name>Tablespace percentual use on {#TABLESPACE}</name><type>TRAP</type><key>tablespace[{#TABLESPACE}]</key><delay>0</delay><history>7d</history><trends>90d</trends><value_type>FLOAT</value_type><units>%</units><applications><application><name>Tablespaces</name></application></applications><trigger_prototypes><trigger_prototype><expression>{last()}&gt;{$HIGH}</expression><name>Tablespace {#TABLESPACE} used on {$DATABASE} &gt; {$HIGH} %</name><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Tablespace free on {#TABLESPACE}</name><type>TRAP</type><key>tablespace_abs[{#TABLESPACE}]</key><delay>0</delay><history>7d</history><trends>90d</trends><units>bytes</units><applications><application><name>Tablespaces</name></application></applications></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Discovery Oracle temp tablespaces</name><key>pyora-discovery[{$ADDRESS},{$DATABASE},show_tablespaces_temp]</key><delay>3600</delay><filter><conditions><condition><macro>{#TABLESPACE_TEMP}</macro><formulaid>A</formulaid></condition></conditions></filter><item_prototypes><item_prototype><name>Temp Tablespace Use on {#TABLESPACE_TEMP}</name><type>TRAP</type><key>tablespace_temp[{#TABLESPACE_TEMP}]</key><delay>0</delay><value_type>FLOAT</value_type><units>%</units><applications><application><name>Temp Tablespaces</name></application></applications></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Discovery Oracle users</name><key>pyora-discovery[{$ADDRESS},{$DATABASE},show_users]</key><delay>3600</delay><status>DISABLED</status><filter><conditions><condition><macro>{#DBUSER}</macro><formulaid>A</formulaid></condition></conditions></filter><item_prototypes><item_prototype><name>{#DBUSER} user status</name><type>TRAP</type><key>user_status[{#DBUSER}]</key><delay>0</delay><trends>0</trends><status>DISABLED</status><value_type>TEXT</value_type><applications><application><name>Database Users</name></application></applications></item_prototype></item_prototypes></discovery_rule></discovery_rules><macros><macro><macro>{$ASMHIGH}</macro><value>85</value></macro><macro><macro>{$DATABASE}</macro></macro><macro><macro>{$HIGH}</macro><value>80</value></macro><macro><macro>{$ZABBIXPASSWORD}</macro></macro><macro><macro>{$ZABBIXURL}</macro></macro><macro><macro>{$ZABBIXUSER}</macro></macro></macros></template></templates><triggers><trigger><expression>{Pyora active send:query_lock.last()}&gt;0 and {Pyora active send:query_lock_list2.strlen()}&gt;3</expression><name>Query Lock on {$DATABASE} &gt; 1</name><priority>AVERAGE</priority></trigger></triggers></zabbix_export>
