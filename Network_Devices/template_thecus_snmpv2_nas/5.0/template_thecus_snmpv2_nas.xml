<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:47:13Z</date><groups><group><name>Templates/Network devices</name></group></groups><templates><template><template>SNMP THECUS NAS</template><name>SNMP THECUS NAS</name><description>## Overview

Делал под Thecus N8900  



Чтобы нормально получать данные через SNMP ставьте последние прошивки на устройства.  



В принципе моя модель - это linux NAS. Через linux SNMPv2 практически все выдается, но в самой 


морде есть mib-файл, на его основе и сделал данный шаблон.


Вопросы на 2135850@211.ru



## Author

S.V.Sidenko

</description><groups><group><name>Templates/Network devices</name></group></groups><applications><application><name>Hard disks</name></application><application><name>RAIDs</name></application><application><name>Status</name></application><application><name>System</name></application></applications><items><item><name>System fan status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.1.6.0</snmp_oid><key>systemFanStatus</key><delay>60</delay><history>30d</history><applications><application><name>Status</name></application></applications><valuemap><name>th.systemFanStatus</name></valuemap></item><item><name>System firmware</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.1.3.0</snmp_oid><key>systemFirmware</key><delay>3h</delay><trends>0</trends><value_type>TEXT</value_type><inventory_link>SOFTWARE</inventory_link><applications><application><name>Status</name></application></applications><triggers><trigger><expression>{diff(0)}&gt;0</expression><name>Firmware on {HOST.NAME} is changed</name><priority>INFO</priority></trigger></triggers></item><item><name>System Mini-UPS Status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.1.7.0</snmp_oid><key>systemMiniUPSStatus</key><delay>60</delay><history>30d</history><applications><application><name>Status</name></application></applications><valuemap><name>th.systemMiniUPSStatus</name></valuemap></item><item><name>System model</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.1.2.0</snmp_oid><key>systemModel</key><delay>3h</delay><history>1d</history><trends>0</trends><value_type>CHAR</value_type><applications><application><name>Status</name></application></applications></item><item><name>System status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.1.4.0</snmp_oid><key>systemStatus</key><delay>60</delay><history>30d</history><applications><application><name>Status</name></application></applications><valuemap><name>th.systemStatus</name></valuemap></item><item><name>System temperature</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.1.5.0</snmp_oid><key>systemTemperature</key><delay>60</delay><units>C</units><description>System temperature in centigrade</description><applications><application><name>System</name></application></applications></item><item><name>System vendor</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.1.1.0</snmp_oid><key>systemVendor</key><delay>3h</delay><history>1d</history><trends>0</trends><value_type>TEXT</value_type><inventory_link>VENDOR</inventory_link><applications><application><name>Status</name></application></applications></item></items><discovery_rules><discovery_rule><name>Hard disks discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.38243.1.2.1.1.2]</snmp_oid><key>nasDisk.discovery</key><delay>1h</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>(1|2|3|4|5|6|7|8|9)</value><formulaid>A</formulaid></condition></conditions></filter><item_prototypes><item_prototype><name>Disk Capacity {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.2.1.1.5.{#SNMPINDEX}</snmp_oid><key>diskCapacity[{#SNMPINDEX}]</key><delay>1h</delay><value_type>FLOAT</value_type><units>B</units><applications><application><name>Hard disks</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing></item_prototype><item_prototype><name>Disk ID {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.2.1.1.3.{#SNMPINDEX}</snmp_oid><key>diskID[{#SNMPINDEX}]</key><delay>3h</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Hard disks</name></application></applications></item_prototype><item_prototype><name>Model of {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.2.1.1.4.{#SNMPINDEX}</snmp_oid><key>diskModel[{#SNMPINDEX}]</key><delay>3h</delay><trends>0</trends><status>DISABLED</status><value_type>TEXT</value_type><applications><application><name>Hard disks</name></application></applications></item_prototype><item_prototype><name>Reallocate_Sector_Ct {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.2.1.1.8.{#SNMPINDEX}</snmp_oid><key>diskSMARTAttr5[{#SNMPINDEX}]</key><delay>60</delay><applications><application><name>Hard disks</name></application></applications><trigger_prototypes><trigger_prototype><expression>{last(0)}&gt;0</expression><name>State of {#SNMPVALUE} on {HOST.NAME} is &quot;Reallocated_Sector_Ct&quot;</name><priority>AVERAGE</priority><description>State &quot;rwError&quot;</description></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Power_On_hours{#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.2.1.1.9.{#SNMPINDEX}</snmp_oid><key>diskSMARTAttr9[{#SNMPINDEX}]</key><delay>60</delay><units>h</units><applications><application><name>Hard disks</name></application></applications></item_prototype><item_prototype><name>End-to-End Error {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.2.1.1.10.{#SNMPINDEX}</snmp_oid><key>diskSMARTAttr184[{#SNMPINDEX}]</key><delay>60</delay><applications><application><name>Hard disks</name></application></applications><trigger_prototypes><trigger_prototype><expression>{last(0)}&gt;0</expression><name>State of {#SNMPVALUE} on {HOST.NAME} is &quot;End-to-End Error&quot;</name><priority>AVERAGE</priority><description>State &quot;noDisk&quot;</description></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Temperature of {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.2.1.1.11.{#SNMPINDEX}</snmp_oid><key>diskSMARTAttr194[{#SNMPINDEX}]</key><delay>60</delay><value_type>FLOAT</value_type><units>C</units><applications><application><name>Hard disks</name></application></applications><trigger_prototypes><trigger_prototype><expression>{min(2m)}&gt;{$HD_TEMPERATURE_ALARM}</expression><name>Temperature of {#SNMPVALUE} on {HOST.NAME} is over {$HD_TEMPERATURE_ALARM} for 2 min</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{min(2m)}&gt;{$HD_TEMPERATURE_WARNING}</expression><name>Temperature of {#SNMPVALUE} on {HOST.NAME} is over {$HD_TEMPERATURE_WARNING} for 2min</name><priority>INFO</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Current__Pending_Sector {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.2.1.1.12.{#SNMPINDEX}</snmp_oid><key>diskSMARTAttr197[{#SNMPINDEX}]</key><delay>60</delay><applications><application><name>Hard disks</name></application></applications><trigger_prototypes><trigger_prototype><expression>{last(0)}&gt;0</expression><name>State of {#SNMPVALUE} on {HOST.NAME} is &quot;Current Pending Sector&quot;</name><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>S.M.A.R.T. info of {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.2.1.1.7.{#SNMPINDEX}</snmp_oid><key>diskSMARTHealthCheck[{#SNMPINDEX}]</key><delay>60</delay><applications><application><name>Hard disks</name></application></applications><valuemap><name>th.diskSMARTHealthCheck</name></valuemap></item_prototype><item_prototype><name>Status of {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.2.1.1.6.{#SNMPINDEX}</snmp_oid><key>diskStatus[{#SNMPINDEX}]</key><delay>60</delay><applications><application><name>Hard disks</name></application></applications><valuemap><name>th.diskStatus</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last(0)}=3</expression><name>State of {#SNMPVALUE} on {HOST.NAME} is not &quot;Ready&quot; ({ITEM.VALUE1})</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Disk Tray Number {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.2.1.1.2.{#SNMPINDEX}</snmp_oid><key>diskTrayNum[{#SNMPINDEX}]</key><delay>3h</delay><applications><application><name>Hard disks</name></application></applications></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>Disks temperature</name><graph_items><graph_item><color>1A7C11</color><item><host>SNMP THECUS NAS</host><key>diskSMARTAttr194[{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><name>RAID discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.38243.1.3.1.1.2]</snmp_oid><key>nasRaid.discovery</key><delay>1h</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>(1|2|3|4|5|6|7|8|9)</value><formulaid>A</formulaid></condition></conditions></filter><item_prototypes><item_prototype><name>RAID ID of {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.3.1.1.3.{#SNMPINDEX}</snmp_oid><key>raidID[{#SNMPINDEX}]</key><delay>3h</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>RAIDs</name></application></applications></item_prototype><item_prototype><name>RAID level of {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.3.1.1.4.{#SNMPINDEX}</snmp_oid><key>raidLevel[{#SNMPINDEX}]</key><delay>3h</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>RAIDs</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing></item_prototype><item_prototype><name>RAID number of {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.3.1.1.2.{#SNMPINDEX}</snmp_oid><key>raidNum[{#SNMPINDEX}]</key><delay>3h</delay><applications><application><name>RAIDs</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing></item_prototype><item_prototype><name>RAID size of {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.3.1.1.7.{#SNMPINDEX}</snmp_oid><key>raidSize[{#SNMPINDEX}]</key><delay>1h</delay><value_type>FLOAT</value_type><units>B</units><applications><application><name>RAIDs</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing></item_prototype><item_prototype><name>RAID status of {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.3.1.1.5.{#SNMPINDEX}</snmp_oid><key>raidStatus[{#SNMPINDEX}]</key><delay>60</delay><applications><application><name>RAIDs</name></application></applications><valuemap><name>th.raidStatus</name></valuemap></item_prototype><item_prototype><name>RAID units of {#SNMPVALUE}</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.3.1.1.6.{#SNMPINDEX}</snmp_oid><key>raidUnits[{#SNMPINDEX}]</key><delay>3h</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>RAIDs</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing></item_prototype><item_prototype><name>RAID used percent of {#SNMPVALUE} (%)</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.38243.1.3.1.1.8.{#SNMPINDEX}</snmp_oid><key>raidUsedPercentage[{#SNMPINDEX}]</key><delay>1h</delay><units>%</units><applications><application><name>RAIDs</name></application></applications><trigger_prototypes><trigger_prototype><expression>{last(0)}&gt;95</expression><name>Free space is less than 5% on volume {#SNMPVALUE}</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last(0)}&gt;90</expression><name>Free space is less than 10% on volume {#SNMPVALUE}</name><priority>WARNING</priority></trigger_prototype><trigger_prototype><expression>{last(0)}&gt;80</expression><name>Free space is less than 20% on volume {#SNMPVALUE}</name><priority>INFO</priority></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>Volume {#SNMPINDEX} usage</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>8888FF</color><calc_fnc>MAX</calc_fnc><item><host>SNMP THECUS NAS</host><key>raidSize[{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule></discovery_rules><macros><macro><macro>{$HD_TEMPERATURE_ALARM}</macro><value>51</value></macro><macro><macro>{$HD_TEMPERATURE_WARNING}</macro><value>40</value></macro><macro><macro>{$SNMP_PORT}</macro><value>161</value></macro></macros></template></templates><graphs><graph><name>System temperature</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><color>0000BB</color><item><host>SNMP THECUS NAS</host><key>systemTemperature</key></item></graph_item></graph_items></graph></graphs><value_maps><value_map><name>th.diskSMARTHealthCheck</name><mappings><mapping><value>0</value><newvalue>Normal</newvalue></mapping><mapping><value>1</value><newvalue>Failed</newvalue></mapping></mappings></value_map><value_map><name>th.diskStatus</name><mappings><mapping><value>0</value><newvalue>Clean (The disk is NOT partitioned)</newvalue></mapping><mapping><value>1</value><newvalue>Initialized (The disk has the standard partitions)</newvalue></mapping><mapping><value>2</value><newvalue>Other (The disk has the other partitions)</newvalue></mapping><mapping><value>3</value><newvalue>Error (Unknown Error)</newvalue></mapping></mappings></value_map><value_map><name>th.raidStatus</name><mappings><mapping><value>0</value><newvalue>Health</newvalue></mapping><mapping><value>1</value><newvalue>Degraded</newvalue></mapping><mapping><value>2</value><newvalue>Damaged</newvalue></mapping><mapping><value>3</value><newvalue>Creating</newvalue></mapping><mapping><value>4</value><newvalue>Formatting</newvalue></mapping><mapping><value>5</value><newvalue>Building</newvalue></mapping><mapping><value>6</value><newvalue>Waiting</newvalue></mapping><mapping><value>7</value><newvalue>Recovering</newvalue></mapping><mapping><value>8</value><newvalue>Migrating</newvalue></mapping><mapping><value>9</value><newvalue>Unknown</newvalue></mapping><mapping><value>10</value><newvalue>Decrypt_Fail</newvalue></mapping><mapping><value>11</value><newvalue>Encrypt_Fail</newvalue></mapping></mappings></value_map><value_map><name>th.systemFanStatus</name><mappings><mapping><value>0</value><newvalue>Normal</newvalue></mapping><mapping><value>1</value><newvalue>Failed</newvalue></mapping></mappings></value_map><value_map><name>th.systemMiniUPSStatus</name><mappings><mapping><value>0</value><newvalue>Not Plugin</newvalue></mapping><mapping><value>1</value><newvalue>Powered</newvalue></mapping><mapping><value>2</value><newvalue>Full</newvalue></mapping><mapping><value>3</value><newvalue>Charging</newvalue></mapping><mapping><value>4</value><newvalue>Unknown</newvalue></mapping><mapping><value>5</value><newvalue>No Mini-UPS</newvalue></mapping></mappings></value_map><value_map><name>th.systemStatus</name><mappings><mapping><value>0</value><newvalue>Normal</newvalue></mapping><mapping><value>1</value><newvalue>Failed</newvalue></mapping></mappings></value_map></value_maps></zabbix_export>
