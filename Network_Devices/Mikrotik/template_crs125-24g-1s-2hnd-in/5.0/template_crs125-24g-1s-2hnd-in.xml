<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:28:02Z</date><groups><group><name>Templates</name></group></groups><templates><template><template>Mikrotik CRS125-24G-1S-2HnD-IN</template><name>Mikrotik CRS125-24G-1S-2HnD-IN</name><description>## Overview

This template has been customized for CRS125-24G-1S-2HnD-IN, but will probably work fine for other Mikrotik routers. It includes interfaces, processors, memory, disk, availability, temperature, voltage, DHCP leases and wireless clients.


Updated in 2019-May-15 to reflect the OID changes implemented by Mikrotik. For some reason, they changed several OIDs and my monitoring stopped working. After some troubleshooting I found out the router was showing the data on different OIDs so I updated the template to reflect them.


If you are experiencing broken graphics and Items showing as &quot;Not supported&quot; since a few weeks ago, please update the template to this one. Im not sure if you will need to clear the data.. I did it during the troubleshooting process because I thought my DB was somehow corrupted, but please try to update the template first.. if it does not work properly, then clean the historical data of your router in your Zabbix.


 


 


 



## Author

Antonio Forster

</description><groups><group><name>Templates</name></group></groups><applications><application><name>Availability</name></application><application><name>CPU</name></application><application><name>Flash</name></application><application><name>General</name></application><application><name>Memory</name></application><application><name>Network</name></application><application><name>Services</name></application><application><name>Traffic</name></application></applications><items><item><name>ICMP ping</name><type>SIMPLE</type><key>icmpping</key><delay>30s</delay><applications><application><name>Availability</name></application></applications><request_method>POST</request_method></item><item><name>ICMP loss</name><type>SIMPLE</type><key>icmppingloss</key><delay>30s</delay><value_type>FLOAT</value_type><units>%</units><applications><application><name>Availability</name></application></applications><request_method>POST</request_method></item><item><name>ICMP response time</name><type>SIMPLE</type><key>icmppingsec</key><delay>30s</delay><value_type>FLOAT</value_type><units>s</units><applications><application><name>Availability</name></application></applications><request_method>POST</request_method></item><item><name>DHCP Leases</name><type>SNMP_AGENT</type><snmp_oid>iso.3.6.1.4.1.14988.1.1.6.1.0</snmp_oid><key>mtxrDHCPLeaseCount</key><delay>30s</delay><units>leases</units><applications><application><name>Services</name></application></applications><request_method>POST</request_method></item><item><name>Wireless Clients</name><type>SNMP_AGENT</type><snmp_oid>SNMPv2-SMI::enterprises.14988.1.1.1.3.1.6.1.0</snmp_oid><key>mtxrWlApClientCount</key><delay>30s</delay><units>clients</units><applications><application><name>Services</name></application></applications><request_method>POST</request_method></item><item><name>Device contact details</name><type>SNMP_AGENT</type><snmp_oid>SNMPv2-MIB::sysContact.0</snmp_oid><key>sysContact</key><delay>5m</delay><trends>0</trends><value_type>CHAR</value_type><applications><application><name>General</name></application></applications><request_method>POST</request_method></item><item><name>Device description</name><type>SNMP_AGENT</type><snmp_oid>SNMPv2-MIB::sysDescr.0</snmp_oid><key>sysDescr</key><delay>5m</delay><trends>0</trends><value_type>CHAR</value_type><applications><application><name>General</name></application></applications><request_method>POST</request_method></item><item><name>Device location</name><type>SNMP_AGENT</type><snmp_oid>SNMPv2-MIB::sysLocation.0</snmp_oid><key>sysLocation</key><delay>5m</delay><trends>0</trends><value_type>CHAR</value_type><applications><application><name>General</name></application></applications><request_method>POST</request_method></item><item><name>Device name</name><type>SNMP_AGENT</type><snmp_oid>SNMPv2-MIB::sysName.0</snmp_oid><key>sysName</key><delay>5m</delay><trends>0</trends><value_type>CHAR</value_type><applications><application><name>General</name></application></applications><request_method>POST</request_method></item><item><name>Device uptime</name><type>SNMP_AGENT</type><snmp_oid>SNMPv2-MIB::sysUpTime.0</snmp_oid><key>sysUpTime</key><units>uptime</units><applications><application><name>General</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.01</params></step></preprocessing><request_method>POST</request_method></item><item><name>Temperature</name><type>SNMP_AGENT</type><snmp_oid>iso.3.6.1.4.1.14988.1.1.3.10.0</snmp_oid><key>temperature</key><delay>30s</delay><units>ºC</units><applications><application><name>General</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing><request_method>POST</request_method></item><item><name>Voltage</name><type>SNMP_AGENT</type><snmp_oid>iso.3.6.1.4.1.14988.1.1.3.8.0</snmp_oid><key>voltage</key><delay>30s</delay><units>Volts</units><applications><application><name>General</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing><request_method>POST</request_method></item></items><discovery_rules><discovery_rule><name>Processors</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},HOST-RESOURCES-MIB::hrProcessorLoad]</snmp_oid><key>hrProcessorLoad</key><delay>5m</delay><item_prototypes><item_prototype><name>Utilization of processor #$1</name><type>SNMP_AGENT</type><snmp_oid>HOST-RESOURCES-MIB::hrProcessorLoad.{#SNMPINDEX}</snmp_oid><key>hrProcessorLoad[{#SNMPINDEX}]</key><delay>30s</delay><units>%</units><applications><application><name>CPU</name></application></applications><request_method>POST</request_method><trigger_prototypes><trigger_prototype><expression>{min(#5)}&gt;80</expression><name>High CPU Utilization</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{min(#5)}=100</expression><name>High CPU Utilization - 100%</name><priority>DISASTER</priority></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>Processor #{#SNMPINDEX}</name><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>000088</color><item><host>Mikrotik CRS125-24G-1S-2HnD-IN</host><key>hrProcessorLoad[{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><request_method>POST</request_method></discovery_rule><discovery_rule><name>Disk partitions</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},HOST-RESOURCES-MIB::hrStorageDescr]</snmp_oid><key>hrStorageDescr</key><delay>5m</delay><item_prototypes><item_prototype><name>Allocation units for storage $1</name><type>SNMP_AGENT</type><snmp_oid>HOST-RESOURCES-MIB::hrStorageAllocationUnits.{#SNMPINDEX}</snmp_oid><key>hrStorageAllocationUnits[{#SNMPVALUE}]</key><delay>1h</delay><units>B</units><applications><application><name>Flash</name></application></applications><request_method>POST</request_method></item_prototype><item_prototype><name>Description of storage $1</name><type>SNMP_AGENT</type><snmp_oid>HOST-RESOURCES-MIB::hrStorageDescr.{#SNMPINDEX}</snmp_oid><key>hrStorageDescr[{#SNMPVALUE}]</key><delay>1h</delay><trends>0</trends><value_type>CHAR</value_type><applications><application><name>Flash</name></application></applications><request_method>POST</request_method></item_prototype><item_prototype><name>Total space on $1</name><type>CALCULATED</type><key>hrStorageSizeInBytes[{#SNMPVALUE}]</key><delay>1h</delay><units>B</units><params>last(&quot;hrStorageSize[{#SNMPVALUE}]&quot;) * last(&quot;hrStorageAllocationUnits[{#SNMPVALUE}]&quot;)</params><applications><application><name>Flash</name></application></applications><request_method>POST</request_method></item_prototype><item_prototype><name>Total space on $1 in units</name><type>SNMP_AGENT</type><snmp_oid>HOST-RESOURCES-MIB::hrStorageSize.{#SNMPINDEX}</snmp_oid><key>hrStorageSize[{#SNMPVALUE}]</key><delay>1h</delay><units>units</units><applications><application><name>Flash</name></application></applications><request_method>POST</request_method></item_prototype><item_prototype><name>Used space on $1</name><type>CALCULATED</type><key>hrStorageUsedInBytes[{#SNMPVALUE}]</key><units>B</units><params>last(&quot;hrStorageUsed[{#SNMPVALUE}]&quot;) * last(&quot;hrStorageAllocationUnits[{#SNMPVALUE}]&quot;)</params><applications><application><name>Flash</name></application></applications><request_method>POST</request_method></item_prototype><item_prototype><name>Used space on $1 in units</name><type>SNMP_AGENT</type><snmp_oid>HOST-RESOURCES-MIB::hrStorageUsed.{#SNMPINDEX}</snmp_oid><key>hrStorageUsed[{#SNMPVALUE}]</key><units>units</units><applications><application><name>Flash</name></application></applications><request_method>POST</request_method></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>Used Space on {#SNMPVALUE}</name><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>007700</color><item><host>Mikrotik CRS125-24G-1S-2HnD-IN</host><key>hrStorageSizeInBytes[{#SNMPVALUE}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>CC0000</color><item><host>Mikrotik CRS125-24G-1S-2HnD-IN</host><key>hrStorageUsedInBytes[{#SNMPVALUE}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><request_method>POST</request_method></discovery_rule><discovery_rule><name>Interfaces</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.2.1.2.2.1.2]</snmp_oid><key>MikInterfaces</key><delay>5m</delay><lifetime>10d</lifetime><item_prototypes><item_prototype><name>Interface {#SNMPVALUE} status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}</snmp_oid><key>.1.3.6.1.2.1.2.2.1.8.[{#SNMPINDEX}]</key><delay>5m</delay><history>2w</history><trends>30d</trends><description>1 — up&#13;
2 — down</description><applications><application><name>Network</name></application></applications><request_method>POST</request_method><trigger_prototypes><trigger_prototype><expression>{diff(0)}=1</expression><name>Operational status was changed on {HOST.NAME} interface {#SNMPVALUE}</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Interface {#SNMPVALUE} bps in</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.31.1.1.1.6.{#SNMPINDEX}</snmp_oid><key>.1.3.6.1.2.1.31.1.1.1.6.[{#SNMPINDEX}]</key><delay>30s</delay><history>2w</history><trends>30d</trends><units>bps</units><applications><application><name>Traffic</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>8</params></step><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing><request_method>POST</request_method><trigger_prototypes><trigger_prototype><expression>{avg(300)}&gt;{$MIKROTIK.MAX.TRAF}</expression><name>Incoming traffic ({ITEM.VALUE}) is too high at {#SNMPVALUE} for last 300 sec</name><priority>DISASTER</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Interface {#SNMPVALUE} packets in</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.31.1.1.1.7.{#SNMPINDEX}</snmp_oid><key>.1.3.6.1.2.1.31.1.1.1.7.[{#SNMPINDEX}]</key><delay>30s</delay><history>2w</history><trends>30d</trends><units>P</units><applications><application><name>Traffic</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing><request_method>POST</request_method></item_prototype><item_prototype><name>Interface {#SNMPVALUE} bps out</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.31.1.1.1.10.{#SNMPINDEX}</snmp_oid><key>.1.3.6.1.2.1.31.1.1.1.10.[{#SNMPINDEX}]</key><delay>30s</delay><history>2w</history><trends>30d</trends><units>bps</units><applications><application><name>Traffic</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>8</params></step><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing><request_method>POST</request_method><trigger_prototypes><trigger_prototype><expression>{avg(300)}&gt;{$MIKROTIK.MAX.TRAF}</expression><name>Outgoing traffic ({ITEM.VALUE}) is too high at {#SNMPVALUE} for last 300 sec</name><priority>DISASTER</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Interface {#SNMPVALUE} packets out</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.31.1.1.1.11.{#SNMPINDEX}</snmp_oid><key>.1.3.6.1.2.1.31.1.1.1.11.[{#SNMPINDEX}]</key><delay>30s</delay><history>2w</history><trends>30d</trends><units>P</units><applications><application><name>Traffic</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing><request_method>POST</request_method></item_prototype><item_prototype><name>Interface {#SNMPVALUE} admin status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.2.2.1.7.{#SNMPINDEX}</snmp_oid><key>MIkAdminStatus[{#SNMPINDEX}]</key><delay>5m</delay><history>2w</history><trends>30d</trends><description>1 — administratively enabled&#13;
2 — administratively disabled</description><applications><application><name>Network</name></application></applications><request_method>POST</request_method></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>Interface {#SNMPVALUE} traffic - bps</name><show_work_period>NO</show_work_period><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>00C800</color><item><host>Mikrotik CRS125-24G-1S-2HnD-IN</host><key>.1.3.6.1.2.1.31.1.1.1.10.[{#SNMPINDEX}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>C80000</color><item><host>Mikrotik CRS125-24G-1S-2HnD-IN</host><key>.1.3.6.1.2.1.31.1.1.1.6.[{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><name>Interface {#SNMPVALUE} traffic - pps</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>880000</color><item><host>Mikrotik CRS125-24G-1S-2HnD-IN</host><key>.1.3.6.1.2.1.31.1.1.1.7.[{#SNMPINDEX}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>33FF33</color><item><host>Mikrotik CRS125-24G-1S-2HnD-IN</host><key>.1.3.6.1.2.1.31.1.1.1.11.[{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><request_method>POST</request_method></discovery_rule></discovery_rules><macros><macro><macro>{$MIKROTIK.CPUCORE.LOAD.MAX}</macro><value>80</value></macro><macro><macro>{$MIKROTIK.MAX.TRAF}</macro><value>838860800</value></macro></macros></template></templates><graphs><graph><name>Clients</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>0000BB</color><item><host>Mikrotik CRS125-24G-1S-2HnD-IN</host><key>mtxrDHCPLeaseCount</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>00CC00</color><item><host>Mikrotik CRS125-24G-1S-2HnD-IN</host><key>mtxrWlApClientCount</key></item></graph_item></graph_items></graph><graph><name>ICMP Availability</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>EE0000</color><item><host>Mikrotik CRS125-24G-1S-2HnD-IN</host><key>icmppingloss</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>0000BB</color><item><host>Mikrotik CRS125-24G-1S-2HnD-IN</host><key>icmppingsec</key></item></graph_item></graph_items></graph><graph><name>Temperature &amp; Voltage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>007777</color><item><host>Mikrotik CRS125-24G-1S-2HnD-IN</host><key>temperature</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>BOLD_LINE</drawtype><color>F63100</color><yaxisside>RIGHT</yaxisside><item><host>Mikrotik CRS125-24G-1S-2HnD-IN</host><key>voltage</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
