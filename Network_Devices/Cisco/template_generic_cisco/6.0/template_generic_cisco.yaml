zabbix_export:
  version: '6.0'
  date: '2021-11-25T12:40:20Z'
  groups:
    -
      uuid: 2dcdbb7124064b94900008c9f516bc89
      name: C_templates
    -
      uuid: 57b7ae836ca64446ba2c296389c009b7
      name: Templates/Modules
  templates:
    -
      uuid: 80014dc6b4d740009a9c58ebfc8d3cf3
      template: 'Generic Cisco'
      name: 'Generic Cisco'
      templates:
        -
          name: 'Template Module ICMP Ping'
      groups:
        -
          name: C_templates
      items:
        -
          uuid: dc3b2b00efa64d8f9951e2c84a9e198a
          name: 'Used CPU for the last 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.9.9.109.1.1.1.1.8.1
          key: ciscoCpmCPUTotal5minRev
          delay: 5m
          history: 1w
          trends: 30d
          units: '%'
          tags:
            -
              tag: Application
              value: System
        -
          uuid: 2f6d2fdb2fcf474e80926ed9236e9ad9
          name: 'IOS Version'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.9.9.25.1.1.1.2.5
          key: ciscoImageString
          delay: 1008m
          history: 1w
          trends: '0'
          value_type: CHAR
          inventory_link: OS
          tags:
            -
              tag: Application
              value: Information
        -
          uuid: c7c9db368ae849f392886f84455066da
          name: 'Unused memory for the last 5 minutes'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.9.9.48.1.1.1.6.1
          key: ciscoMemoryPoolFree
          delay: 5m
          history: 1w
          trends: 30d
          units: bytes
          tags:
            -
              tag: Application
              value: System
        -
          uuid: 249388418d2c41f9bc1723722fc935be
          name: 'Used memory for the last 5 minutes'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.9.9.48.1.1.1.5.1
          key: ciscoMemoryPoolUsed
          delay: 5m
          history: 1w
          trends: 30d
          units: bytes
          tags:
            -
              tag: Application
              value: System
        -
          uuid: 2a7279cc2d6848bda80860033a17e542
          name: 'Device Model Name'
          type: SNMP_AGENT
          snmp_oid: '.1.3.6.1.2.1.47.1.1.1.1.13["index",".1.3.6.1.2.1.47.1.1.1.1.4","0"]'
          key: ciscoPhysicalModelName
          delay: 1d
          trends: '0'
          value_type: CHAR
          description: '.1.3.6.1.2.1.47.1.1.1.1.13["index",".1.3.6.1.2.1.47.1.1.1.1.4","0"]'
          inventory_link: TYPE
          tags:
            -
              tag: Application
              value: Information
        -
          uuid: d732a1453d054dd381cbd50647d420db
          name: 'Device Serial Number'
          type: SNMP_AGENT
          snmp_oid: '.1.3.6.1.2.1.47.1.1.1.1.11["index",".1.3.6.1.2.1.47.1.1.1.1.4","0"]'
          key: ciscoPhysicalSerialNum
          delay: 1d
          trends: '0'
          value_type: CHAR
          description: '.1.3.6.1.2.1.47.1.1.1.1.11["index",".1.3.6.1.2.1.47.1.1.1.1.4","0"] = original snmp oid'
          inventory_link: SERIALNO_A
          tags:
            -
              tag: Application
              value: Information
        -
          uuid: d0712b4be3294282a6c1bfe31db16f84
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.1.5.0
          key: Cisco_sysName
          delay: 30s
          trends: '0'
          value_type: TEXT
          tags:
            -
              tag: Application
              value: Information
        -
          uuid: 2a4c6c0a4bda43979108ec6f56c0c85b
          name: Uptime
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysUpTime.0'
          key: sysUpTime
          delay: 30m
          history: 30d
          trends: 30d
          units: uptime
          tags:
            -
              tag: Application
              value: Information
      discovery_rules:
        -
          uuid: 79e84433a46c4a569520d06a171da17c
          name: 'Cisco Fan'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#FANVAL}, 1.3.6.1.4.1.9.9.13.1.4.1.2]'
          key: ciscoEnvMonFanStatusDescr
          delay: 5m
          lifetime: 1w
          item_prototypes:
            -
              uuid: 64e88899985f411191edd0f0cc9b7253
              name: '$1 state'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.9.9.13.1.4.1.3.{#SNMPINDEX}'
              key: 'ciscoEnvMonFanState[{#FANVAL}]'
              delay: 1d
              history: 1w
              valuemap:
                name: ciscoEnvMonState
              tags:
                -
                  tag: Application
                  value: System
              trigger_prototypes:
                -
                  uuid: 62c7cda599ed425b8b6349d8a358bac4
                  expression: 'last(/Generic Cisco/ciscoEnvMonFanState[{#FANVAL}])=3'
                  name: 'Operational status for {#SNMPVALUE} is CRITICAL'
                  status: DISABLED
                  priority: HIGH
                -
                  uuid: 2e49fc34ea5641169e38f2cd50b09be5
                  expression: 'last(/Generic Cisco/ciscoEnvMonFanState[{#FANVAL}])=4'
                  name: 'Operational status for {#SNMPVALUE} is Failed'
                  status: DISABLED
                  priority: DISASTER
                -
                  uuid: 3f6f3549157c416f805139d0f7dd14a5
                  expression: 'last(/Generic Cisco/ciscoEnvMonFanState[{#FANVAL}])=2'
                  name: 'Operational status for {#SNMPVALUE} is WARNING'
                  status: DISABLED
                  priority: WARNING
                -
                  uuid: e5a451e7586b4b77a0aea691ffffe423
                  expression: '(last(/Generic Cisco/ciscoEnvMonFanState[{#FANVAL}],#1)<>last(/Generic Cisco/ciscoEnvMonFanState[{#FANVAL}],#2))>0'
                  name: 'Operational status for {#SNMPVALUE} was changed'
                  status: DISABLED
                  priority: INFO
        -
          uuid: 2a482fbfb935461ab492452cddb574bc
          name: 'Cisco Power Supply'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#POWERSUP}, 1.3.6.1.4.1.9.9.13.1.5.1.2]'
          key: ciscoEnvMonSupplyStatusDescr
          delay: 5m
          lifetime: 1w
          item_prototypes:
            -
              uuid: 138669f00ed146b5a9637905f001e90c
              name: '$1 state'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.9.9.13.1.5.1.3.{#SNMPINDEX}'
              key: 'ciscoEnvMonSupplyState[{#POWERSUP}]'
              delay: 1d
              history: 1w
              trends: 30d
              tags:
                -
                  tag: Application
                  value: System
              trigger_prototypes:
                -
                  uuid: 9b8c9db5804a488e90c62d926e5e6287
                  expression: 'last(/Generic Cisco/ciscoEnvMonSupplyState[{#POWERSUP}])=3'
                  name: 'Operational status for {#SNMPVALUE} is CRITICAL'
                  status: DISABLED
                  priority: HIGH
                -
                  uuid: 09a4a4704ce547c58ca53b9a264b5fc6
                  expression: 'last(/Generic Cisco/ciscoEnvMonSupplyState[{#POWERSUP}])=4'
                  name: 'Operational status for {#SNMPVALUE} is FAILED'
                  status: DISABLED
                  priority: DISASTER
                -
                  uuid: bfcba8962ce8438ca6247821821f7a8d
                  expression: 'last(/Generic Cisco/ciscoEnvMonSupplyState[{#POWERSUP}])=2'
                  name: 'Operational status for {#SNMPVALUE} is WARNING'
                  status: DISABLED
                  priority: WARNING
                -
                  uuid: 5f3a391d42434b0c8ece5958c9007187
                  expression: '(last(/Generic Cisco/ciscoEnvMonSupplyState[{#POWERSUP}],#1)<>last(/Generic Cisco/ciscoEnvMonSupplyState[{#POWERSUP}],#2))>0'
                  name: 'Operational status for {#SNMPVALUE} was changed'
                  status: DISABLED
                  priority: HIGH
        -
          uuid: 3578409c58a542d3bbe41900759b8149
          name: 'Cisco Temperature'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#CHASSISTEMP}, 1.3.6.1.4.1.9.9.13.1.3.1.2]'
          key: ciscoEnvMonTemperatureStatusDescr
          delay: 30m
          item_prototypes:
            -
              uuid: 5d8ad50d289b4cdc864cb9b7314ca341
              name: 'Temperature state of $1'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.9.9.13.1.3.1.6.{#SNMPINDEX}'
              key: 'ciscoEnvMonTemperatureState[{#CHASSISTEMP}]'
              delay: 30m
              history: 31d
              tags:
                -
                  tag: Application
                  value: System
              trigger_prototypes:
                -
                  uuid: 296d8172882b4ce286193e49a1eab41c
                  expression: 'last(/Generic Cisco/ciscoEnvMonTemperatureState[{#CHASSISTEMP}])=3'
                  name: 'Operational status for sensor {#SNMPVALUE} is CRITICAL'
                  status: DISABLED
                  priority: HIGH
                -
                  uuid: 7ed2431ec5c340da89095e6355ea3b22
                  expression: 'last(/Generic Cisco/ciscoEnvMonTemperatureState[{#CHASSISTEMP}])=4'
                  name: 'Operational status for sensor {#SNMPVALUE} is FAILED'
                  status: DISABLED
                  priority: DISASTER
                -
                  uuid: d5bc238da8314909b44531d56f464d34
                  expression: 'last(/Generic Cisco/ciscoEnvMonTemperatureState[{#CHASSISTEMP}])=2'
                  name: 'Operational status for sensor {#SNMPVALUE} is WARNING'
                  status: DISABLED
                  priority: WARNING
                -
                  uuid: 5dd2a1ac08614561b81764fea98e08c0
                  expression: '(last(/Generic Cisco/ciscoEnvMonTemperatureState[{#CHASSISTEMP}],#1)<>last(/Generic Cisco/ciscoEnvMonTemperatureState[{#CHASSISTEMP}],#2))>0'
                  name: 'Operational status for sensor {#SNMPVALUE} was changed'
                  status: DISABLED
                  priority: HIGH
            -
              uuid: 84b0844a6d8c40698c47955a15a43dc3
              name: 'Temperature value of $1'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.9.9.13.1.3.1.3.{#SNMPINDEX}'
              key: 'ciscoEnvMonTemperatureStatusValue[{#CHASSISTEMP}]'
              delay: 30m
              history: 31d
              units: Â°C
              tags:
                -
                  tag: Application
                  value: System
          graph_prototypes:
            -
              uuid: 0889b4bf935240f7b488d3b07e059006
              name: 'Temperature of {#SNMPVALUE}'
              graph_items:
                -
                  drawtype: GRADIENT_LINE
                  color: FFEE58
                  item:
                    host: 'Generic Cisco'
                    key: 'ciscoEnvMonTemperatureStatusValue[{#CHASSISTEMP}]'
        -
          uuid: 49e7259bad43483c87343d6636f6a94b
          name: 'Network Interfaces'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#IFDESCR},IF-MIB::ifDescr,{#IFALIAS},IF-MIB::ifAlias]'
          key: cis_fDescr
          delay: 30s
          lifetime: 0d
        -
          uuid: 37878828705e4db285f814a5532cb68b
          name: 'CPU Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.9.9.109.1.1.1.1.5]'
          key: cpu.discovery
          delay: 1h
          description: |
            If your IOS device has several CPUs, you must use CISCO-PROCESS-MIB and its object cpmCPUTotal5minRev from the table called cpmCPUTotalTable ,
            indexed with cpmCPUTotalIndex .
            This table allows CISCO-PROCESS-MIB to keep CPU statistics for different physical entities in the router,
            like different CPU chips, group of CPUs, or CPUs in different modules/cards.
            In case of a single CPU, cpmCPUTotalTable has only one entry.
          item_prototypes:
            -
              uuid: 815fc9197a1d449ea00a6e9e7735cf73
              name: '#{#SNMPINDEX}: CPU utilization'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.9.9.109.1.1.1.1.8.{#SNMPINDEX}'
              key: 'system.cpu.util[cpmCPUTotal5minRev.{#SNMPINDEX}]'
              delay: 3m
              value_type: FLOAT
              units: '%'
              description: |
                MIB: CISCO-PROCESS-MIB
                The cpmCPUTotal5minRev MIB object provides a more accurate view of the performance of the router over time than the MIB objects cpmCPUTotal1minRev and cpmCPUTotal5secRev . These MIB objects are not accurate because they look at CPU at one minute and five second intervals, respectively. These MIBs enable you to monitor the trends and plan the capacity of your network. The recommended baseline rising threshold for cpmCPUTotal5minRev is 90 percent. Depending on the platform, some routers that run at 90 percent, for example, 2500s, can exhibit performance degradation versus a high-end router, for example, the 7500 series, which can operate fine.
                Reference: http://www.cisco.com/c/en/us/support/docs/ip/simple-network-management-protocol-snmp/15215-collect-cpu-util-snmp.html
              tags:
                -
                  tag: Application
                  value: CPU
              trigger_prototypes:
                -
                  uuid: 6e70047763a44e7f9ed99ba83eb298eb
                  expression: 'avg(/Generic Cisco/system.cpu.util[cpmCPUTotal5minRev.{#SNMPINDEX}],5m)>{$CPU_UTIL_MAX}'
                  name: '#{#SNMPINDEX}: High CPU utilization'
                  status: DISABLED
                  priority: AVERAGE
                  description: 'Last value: {ITEM.LASTVALUE1}.'
          graph_prototypes:
            -
              uuid: 656569516dbe45beac74ef67afbba216
              name: '#{#SNMPINDEX}: CPU utilization'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'Generic Cisco'
                    key: 'system.cpu.util[cpmCPUTotal5minRev.{#SNMPINDEX}]'
        -
          uuid: 3bbb862e108b45969ee3e91982d4d5a3
          name: 'Entity Serial Numbers Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#ENT_CLASS},1.3.6.1.2.1.47.1.1.1.1.5,{#ENT_NAME},1.3.6.1.2.1.47.1.1.1.1.7,{#ENT_SN},1.3.6.1.2.1.47.1.1.1.1.11]'
          key: entity_sn.discovery
          delay: 1h
          item_prototypes:
            -
              uuid: 8711e7bd67a34ff8b50d806516027023
              name: '{#ENT_NAME}: Hardware serial number'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.11.{#SNMPINDEX}'
              key: 'system.hw.serialnumber[entPhysicalSerialNum.{#SNMPINDEX}]'
              delay: 1h
              history: 2w
              trends: '0'
              value_type: CHAR
              description: 'MIB: ENTITY-MIB'
              tags:
                -
                  tag: Application
                  value: Inventory
              trigger_prototypes:
                -
                  uuid: 499efdf68c33472d9c7db2a48983faa6
                  expression: '(last(/Generic Cisco/system.hw.serialnumber[entPhysicalSerialNum.{#SNMPINDEX}],#1)<>last(/Generic Cisco/system.hw.serialnumber[entPhysicalSerialNum.{#SNMPINDEX}],#2))=1 and length(last(/Generic Cisco/system.hw.serialnumber[entPhysicalSerialNum.{#SNMPINDEX}]))>0'
                  recovery_mode: NONE
                  name: '{#ENT_NAME}: Device has been replaced (new serial number received)'
                  status: DISABLED
                  priority: INFO
                  description: |
                    Last value: {ITEM.LASTVALUE1}.
                    Device serial number has changed. Ack to close
        -
          uuid: 623b6f065b7444a2b455fa494d274953
          name: 'FAN Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SENSOR_INFO},1.3.6.1.4.1.9.9.13.1.4.1.2]'
          key: fan.discovery
          delay: 1h
          description: 'The table of fan status maintained by the environmental monitor.'
          item_prototypes:
            -
              uuid: 80c28b2b6f75479b96a713ee139c3765
              name: '{#SENSOR_INFO}: Fan status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.9.9.13.1.4.1.3.{#SNMPINDEX}'
              key: 'sensor.fan.status[ciscoEnvMonFanState.{#SNMPINDEX}]'
              history: 2w
              trends: '0'
              description: 'MIB: CISCO-ENVMON-MIB'
              tags:
                -
                  tag: Application
                  value: Fans
              trigger_prototypes:
                -
                  uuid: 689fd7b98d65413aa275c7c75762326c
                  expression: 'count(/Generic Cisco/sensor.fan.status[ciscoEnvMonFanState.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"critical\"}")=1 or count(/Generic Cisco/sensor.fan.status[ciscoEnvMonFanState.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"shutdown\"}")=1'
                  name: '{#SENSOR_INFO}: Fan is in critical state'
                  status: DISABLED
                  priority: AVERAGE
                  description: |
                    Last value: {ITEM.LASTVALUE1}.
                    Please check the fan unit
                -
                  uuid: 2723bd85bf63494bac4786468c62893d
                  expression: 'count(/Generic Cisco/sensor.fan.status[ciscoEnvMonFanState.{#SNMPINDEX}],#1,"eq","{$FAN_WARN_STATUS:\"warning\"}")=1 or count(/Generic Cisco/sensor.fan.status[ciscoEnvMonFanState.{#SNMPINDEX}],#1,"eq","{$FAN_WARN_STATUS:\"notFunctioning\"}")=1'
                  name: '{#SENSOR_INFO}: Fan is in warning state'
                  status: DISABLED
                  priority: WARNING
                  description: |
                    Last value: {ITEM.LASTVALUE1}.
                    Please check the fan unit
        -
          uuid: 6a1006ed294842ca82d78e61a2c0b9b1
          name: 'Memory Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.9.9.48.1.1.1.2]'
          key: memory.discovery
          delay: 1h
          description: |
            Discovery of ciscoMemoryPoolTable, a table of memory pool monitoring entries.
            http://www.cisco.com/c/en/us/support/docs/ip/simple-network-management-protocol-snmp/15216-contiguous-memory.html
          item_prototypes:
            -
              uuid: b5fe2383459949a195aafd10f31b0ae4
              name: '{#SNMPVALUE}: Available memory'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.9.9.48.1.1.1.6.{#SNMPINDEX}'
              key: 'vm.memory.free[ciscoMemoryPoolFree.{#SNMPINDEX}]'
              delay: 3m
              history: 30d
              units: B
              description: |
                MIB: CISCO-MEMORY-POOL-MIB
                Indicates the number of bytes from the memory pool that are currently unused on the managed device. Note that the sum of ciscoMemoryPoolUsed and ciscoMemoryPoolFree is the total amount of memory in the pool
                Reference: http://www.cisco.com/c/en/us/support/docs/ip/simple-network-management-protocol-snmp/15216-contiguous-memory.html
              tags:
                -
                  tag: Application
                  value: Memory
            -
              uuid: 89ef7f025d5c4f08915efccfb5ed0e9e
              name: '{#SNMPVALUE}: Memory utilization'
              type: CALCULATED
              key: 'vm.memory.pused[vm.memory.pused.{#SNMPINDEX}]'
              delay: 3m
              history: 30d
              units: '%'
              params: '(last(//vm.memory.used[ciscoMemoryPoolUsed.{#SNMPINDEX}])/(last(//vm.memory.free[ciscoMemoryPoolFree.{#SNMPINDEX}])+last(//vm.memory.used[ciscoMemoryPoolUsed.{#SNMPINDEX}])))*100'
              description: 'Memory utilization in %'
              tags:
                -
                  tag: Application
                  value: Memory
              trigger_prototypes:
                -
                  uuid: 4ef434267d3a4a4997cd0f857131a02d
                  expression: 'avg(/Generic Cisco/vm.memory.pused[vm.memory.pused.{#SNMPINDEX}],5m)>{$MEMORY_UTIL_MAX}'
                  name: '{#SNMPVALUE}: High memory utilization'
                  status: DISABLED
                  priority: AVERAGE
                  description: 'Last value: {ITEM.LASTVALUE1}.'
            -
              uuid: 537456c88bc842e0b001b3f538aea51f
              name: '{#SNMPVALUE}: Used memory'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.9.9.48.1.1.1.5.{#SNMPINDEX}'
              key: 'vm.memory.used[ciscoMemoryPoolUsed.{#SNMPINDEX}]'
              delay: 3m
              history: 30d
              units: B
              description: |
                MIB: CISCO-MEMORY-POOL-MIB
                Indicates the number of bytes from the memory pool that are currently in use by applications on the managed device.
                Reference: http://www.cisco.com/c/en/us/support/docs/ip/simple-network-management-protocol-snmp/15216-contiguous-memory.html
              tags:
                -
                  tag: Application
                  value: Memory
          graph_prototypes:
            -
              uuid: 4a956611569746d18295e207ab9a042b
              name: '{#SNMPVALUE}: Available Memory'
              ymin_type_1: FIXED
              ymax_type_1: FIXED
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'Generic Cisco'
                    key: 'vm.memory.free[ciscoMemoryPoolFree.{#SNMPINDEX}]'
            -
              uuid: 294db5b14db342c28cd3f8019145769a
              name: '{#SNMPVALUE}: Memory utilization'
              ymin_type_1: FIXED
              ymax_type_1: FIXED
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'Generic Cisco'
                    key: 'vm.memory.pused[vm.memory.pused.{#SNMPINDEX}]'
            -
              uuid: 1dac6f570b5f47248612771f2b68f63a
              name: '{#SNMPVALUE}: Used Memory'
              ymin_type_1: FIXED
              ymax_type_1: FIXED
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'Generic Cisco'
                    key: 'vm.memory.used[ciscoMemoryPoolUsed.{#SNMPINDEX}]'
        -
          uuid: bfe6e7f39d84441da503407f9e9dc5a3
          name: 'Cisco Device Model Name'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE}, .1.3.6.1.2.1.47.1.1.1.1.13]'
          key: modelName
          delay: 1d
          lifetime: 0d
          item_prototypes:
            -
              uuid: c8371297e7fb4ae1b2598eb5a35fc1d3
              name: 'Device Model Name at OID [{#SNMPINDEX}]'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.13["index", 1.3.6.1.2.1.47.1.1.1.1.13,{#SNMPVALUE}]'
              key: 'modelName[{#SNMPINDEX}]'
              delay: 1d
              trends: '0'
              value_type: TEXT
              tags:
                -
                  tag: Application
                  value: Information
            -
              uuid: 652ddccf6a004c628496b0f5c4c358df
              name: 'Device Serial Number at OID [{#SNMPINDEX}]'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.47.1.1.1.1.11.{#SNMPINDEX}'
              key: 'SerialNumber[{#SNMPINDEX}]'
              delay: 1d
              trends: '0'
              value_type: TEXT
              tags:
                -
                  tag: Application
                  value: Information
        -
          uuid: 5bc8bca983a246b4aa1a7d82c3a040ba
          name: 'Network Interfaces Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#IFOPERSTATUS},1.3.6.1.2.1.2.2.1.8,{#IFADMINSTATUS},1.3.6.1.2.1.2.2.1.7,{#IFALIAS},1.3.6.1.2.1.31.1.1.1.18,{#IFNAME},1.3.6.1.2.1.31.1.1.1.1,{#IFDESCR},1.3.6.1.2.1.2.2.1.2,{#IFTYPE},1.3.6.1.2.1.2.2.1.3]'
          key: net.if.discovery
          delay: 1h
          description: |
            Discovering interfaces from IF-MIB. Interfaces are not discovered:
            - with down(2) Administrative status
            - with notPresent(6) Operational status
            - loopbacks
          item_prototypes:
            -
              uuid: bb1005321c9e4fb6a2285bfdae88b037
              name: 'Interface {#IFNAME}({#IFALIAS}): Inbound packets discarded'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.13.{#SNMPINDEX}'
              key: 'net.if.in.discards[ifInDiscards.{#SNMPINDEX}]'
              delay: 5m
              history: 1w
              description: |
                MIB: IF-MIB
                The number of inbound packets which were chosen to be discarded
                even though no errors had been detected to prevent their being deliverable to a higher-layer protocol.
                One possible reason for discarding such a packet could be to free up buffer space.
                Discontinuities in the value of this counter can occur at re-initialization of the management system,
                and at other times as indicated by the value of ifCounterDiscontinuityTime.
              tags:
                -
                  tag: Application
                  value: 'Network Interfaces'
            -
              uuid: 34ba653224e0481587e717827fad9eec
              name: 'Interface {#IFNAME}({#IFALIAS}): Inbound packets with errors'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.14.{#SNMPINDEX}'
              key: 'net.if.in.errors[ifInErrors.{#SNMPINDEX}]'
              delay: 3m
              history: 1w
              description: |
                MIB: IF-MIB
                For packet-oriented interfaces, the number of inbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of inbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              tags:
                -
                  tag: Application
                  value: 'Network Interfaces'
            -
              uuid: f2547b0a7cce4b4499bb789e9816ba46
              name: 'Interface {#IFNAME}({#IFALIAS}): Bits received'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.31.1.1.1.6.{#SNMPINDEX}'
              key: 'net.if.in[ifHCInOctets.{#SNMPINDEX}]'
              delay: 3m
              units: bps
              tags:
                -
                  tag: Application
                  value: 'Network Interfaces'
            -
              uuid: d88e184e745049aa9baa8f6c8aa9f051
              name: 'Interface {#IFNAME}({#IFALIAS}): Outbound packets discarded'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.19.{#SNMPINDEX}'
              key: 'net.if.out.discards[ifOutDiscards.{#SNMPINDEX}]'
              delay: 5m
              history: 1w
              description: |
                MIB: IF-MIB
                The number of outbound packets which were chosen to be discarded
                even though no errors had been detected to prevent their being deliverable to a higher-layer protocol.
                One possible reason for discarding such a packet could be to free up buffer space.
                Discontinuities in the value of this counter can occur at re-initialization of the management system,
                and at other times as indicated by the value of ifCounterDiscontinuityTime.
              tags:
                -
                  tag: Application
                  value: 'Network Interfaces'
            -
              uuid: aa25d361a0ae48fcbaedeba592aff588
              name: 'Interface {#IFNAME}({#IFALIAS}): Outbound packets with errors'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.20.{#SNMPINDEX}'
              key: 'net.if.out.errors[ifOutErrors.{#SNMPINDEX}]'
              delay: 30s
              history: 1w
              description: |
                MIB: IF-MIB
                For packet-oriented interfaces, the number of outbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of outbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              tags:
                -
                  tag: Application
                  value: 'Network Interfaces'
            -
              uuid: 3dde94b3686042c094f6ca7d64a6880b
              name: 'Interface {#IFNAME}({#IFALIAS}): Bits sent'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.31.1.1.1.10.{#SNMPINDEX}'
              key: 'net.if.out[ifHCOutOctets.{#SNMPINDEX}]'
              delay: 3m
              units: bps
              description: |
                MIB: IF-MIB
                The total number of octets transmitted out of the interface, including framing characters.  This object is a 64-bit version of ifOutOctets.Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
              tags:
                -
                  tag: Application
                  value: 'Network Interfaces'
            -
              uuid: 9054773944e34be3b11706cf048570be
              name: 'Interface {#IFNAME}({#IFALIAS}): Speed'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.31.1.1.1.15.{#SNMPINDEX}'
              key: 'net.if.speed[ifHighSpeed.{#SNMPINDEX}]'
              delay: 5m
              history: 1w
              trends: '0'
              units: bps
              description: |
                MIB: IF-MIB
                An estimate of the interface's current bandwidth in units of 1,000,000 bits per second.  If this object reports a value of `n' then the speed of the interface is somewhere in the range of `n-500,000' to`n+499,999'.  For interfaces which do not vary in bandwidth or for those where no accurate estimation can be made, this object should contain the nominal bandwidth.  For a sub-layer which has no concept of bandwidth, this object should be zero.
              tags:
                -
                  tag: Application
                  value: 'Network Interfaces'
            -
              uuid: 714eb48df148496fa4249de4bad24756
              name: 'Interface {#IFNAME}({#IFALIAS}): Operational status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}'
              key: 'net.if.status[ifOperStatus.{#SNMPINDEX}]'
              history: 2w
              trends: '0'
              description: |
                MIB: IF-MIB
                The current operational state of the interface.
                - The testing(3) state indicates that no operational packet scan be passed
                - If ifAdminStatus is down(2) then ifOperStatus should be down(2)
                - If ifAdminStatus is changed to up(1) then ifOperStatus should change to up(1) if the interface is ready to transmit and receive network traffic
                - It should change todormant(5) if the interface is waiting for external actions (such as a serial line waiting for an incoming connection)
                - It should remain in the down(2) state if and only if there is a fault that prevents it from going to the up(1) state
                - It should remain in the notPresent(6) state if the interface has missing(typically, hardware) components.
              tags:
                -
                  tag: Application
                  value: 'Network Interfaces'
              trigger_prototypes:
                -
                  uuid: eba05741ae3f4f9b8a8110fc285016ad
                  expression: '{$IFCONTROL:"{#IFNAME}"}=1 and (last(/Generic Cisco/net.if.status[ifOperStatus.{#SNMPINDEX}])=2 and (last(/Generic Cisco/net.if.status[ifOperStatus.{#SNMPINDEX}],#1)<>last(/Generic Cisco/net.if.status[ifOperStatus.{#SNMPINDEX}],#2))=1)'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Generic Cisco/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2'
                  name: 'Interface {#IFNAME}({#IFALIAS}): Link down'
                  status: DISABLED
                  priority: AVERAGE
                  description: |
                    Last value: {ITEM.LASTVALUE1}.
                    Interface is down
            -
              uuid: dd7e595899074570a9938d9041a555e7
              name: 'Interface {#IFNAME}({#IFALIAS}): Interface type'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.2.2.1.3.{#SNMPINDEX}'
              key: 'net.if.type[ifType.{#SNMPINDEX}]'
              delay: 1h
              history: 1w
              trends: '0'
              description: |
                MIB: IF-MIB
                The type of interface.
                Additional values for ifType are assigned by the Internet Assigned NumbersAuthority (IANA),
                through updating the syntax of the IANAifType textual convention.
              tags:
                -
                  tag: Application
                  value: 'Network Interfaces'
          trigger_prototypes:
            -
              uuid: 759a26001a924c5aab7935b9eaf431c5
              expression: |
                change(/Generic Cisco/net.if.speed[ifHighSpeed.{#SNMPINDEX}])<0 and last(/Generic Cisco/net.if.speed[ifHighSpeed.{#SNMPINDEX}])>0
                and (
                last(/Generic Cisco/net.if.type[ifType.{#SNMPINDEX}])=6 or
                last(/Generic Cisco/net.if.type[ifType.{#SNMPINDEX}])=7 or
                last(/Generic Cisco/net.if.type[ifType.{#SNMPINDEX}])=11 or
                last(/Generic Cisco/net.if.type[ifType.{#SNMPINDEX}])=62 or
                last(/Generic Cisco/net.if.type[ifType.{#SNMPINDEX}])=69 or
                last(/Generic Cisco/net.if.type[ifType.{#SNMPINDEX}])=117
                )
                and
                (last(/Generic Cisco/net.if.status[ifOperStatus.{#SNMPINDEX}])<>2)
              name: 'Interface {#IFNAME}({#IFALIAS}): Ethernet has changed to lower speed than it was before'
              status: DISABLED
              priority: INFO
              description: |
                ({Cisco:net.if.speed[ifHighSpeed.{#SNMPINDEX}].change()}>0 and {Cisco:net.if.speed[ifHighSpeed.{#SNMPINDEX}].prev()}>0) or
                ({Cisco:net.if.status[ifOperStatus.{#SNMPINDEX}].last()}=2)
            -
              uuid: 0703809db7274a169c9f5560511734fb
              expression: |
                (avg(/Generic Cisco/net.if.in[ifHCInOctets.{#SNMPINDEX}],15m)>({$IF_UTIL_MAX:"{#IFNAME}"}/100)*last(/Generic Cisco/net.if.speed[ifHighSpeed.{#SNMPINDEX}]) or
                avg(/Generic Cisco/net.if.out[ifHCOutOctets.{#SNMPINDEX}],15m)>({$IF_UTIL_MAX:"{#IFNAME}"}/100)*last(/Generic Cisco/net.if.speed[ifHighSpeed.{#SNMPINDEX}])) and
                last(/Generic Cisco/net.if.speed[ifHighSpeed.{#SNMPINDEX}])>0
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                avg(/Generic Cisco/net.if.in[ifHCInOctets.{#SNMPINDEX}],15m)<(({$IF_UTIL_MAX:"{#IFNAME}"}-3)/100)*last(/Generic Cisco/net.if.speed[ifHighSpeed.{#SNMPINDEX}]) and
                avg(/Generic Cisco/net.if.out[ifHCOutOctets.{#SNMPINDEX}],15m)<(({$IF_UTIL_MAX:"{#IFNAME}"}-3)/100)*last(/Generic Cisco/net.if.speed[ifHighSpeed.{#SNMPINDEX}])
              name: 'Interface {#IFNAME}({#IFALIAS}): High bandwidth usage >{$IF_UTIL_MAX:"{#IFNAME}"}%'
              status: DISABLED
              priority: WARNING
              description: 'Last value: {ITEM.LASTVALUE1}.'
            -
              uuid: 9750fa0d80154762a8086d6ebe1550e5
              expression: |
                avg(/Generic Cisco/net.if.in.errors[ifInErrors.{#SNMPINDEX}],5m)>{$IF_ERRORS_WARN:"{#IFNAME}"}
                or avg(/Generic Cisco/net.if.out.errors[ifOutErrors.{#SNMPINDEX}],5m)>{$IF_ERRORS_WARN:"{#IFNAME}"}
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: |
                avg(/Generic Cisco/net.if.in.errors[ifInErrors.{#SNMPINDEX}],5m)<{$IF_ERRORS_WARN:"{#IFNAME}"}*0.8
                and avg(/Generic Cisco/net.if.out.errors[ifOutErrors.{#SNMPINDEX}],5m)<{$IF_ERRORS_WARN:"{#IFNAME}"}*0.8
              name: 'Interface {#IFNAME}({#IFALIAS}): High error rate'
              status: DISABLED
              priority: WARNING
              description: |
                Last value: {ITEM.LASTVALUE1}.
                Recovers when below 80% of {$IF_ERRORS_WARN:"{#IFNAME}"} threshold
          graph_prototypes:
            -
              uuid: 134a14b948654aef93af260ffc29ab4d
              name: 'Interface {#IFNAME}({#IFALIAS}): Network traffic'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'Generic Cisco'
                    key: 'net.if.in[ifHCInOctets.{#SNMPINDEX}]'
                -
                  sortorder: '1'
                  color: F63100
                  item:
                    host: 'Generic Cisco'
                    key: 'net.if.out[ifHCOutOctets.{#SNMPINDEX}]'
                -
                  sortorder: '2'
                  color: 2774A4
                  item:
                    host: 'Generic Cisco'
                    key: 'net.if.in.discards[ifInDiscards.{#SNMPINDEX}]'
                -
                  sortorder: '3'
                  color: A54F10
                  item:
                    host: 'Generic Cisco'
                    key: 'net.if.in.errors[ifInErrors.{#SNMPINDEX}]'
                -
                  sortorder: '4'
                  color: FC6EA3
                  item:
                    host: 'Generic Cisco'
                    key: 'net.if.out.discards[ifOutDiscards.{#SNMPINDEX}]'
                -
                  sortorder: '5'
                  color: 6C59DC
                  item:
                    host: 'Generic Cisco'
                    key: 'net.if.out.errors[ifOutErrors.{#SNMPINDEX}]'
            -
              uuid: f9f81b5d5d3f4c41964e76fcd6791c82
              name: 'Interface {#IFNAME}({#IFALIAS}): Operational Status'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'Generic Cisco'
                    key: 'net.if.status[ifOperStatus.{#SNMPINDEX}]'
        -
          uuid: f8d23e06c58649978e0330624b30c9dc
          name: 'EtherLike-MIB Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.2.1.10.7.2.1.19,{#IFOPERSTATUS},1.3.6.1.2.1.2.2.1.8,{#IFALIAS},1.3.6.1.2.1.31.1.1.1.18,{#IFNAME},1.3.6.1.2.1.31.1.1.1.1,{#IFDESCR},1.3.6.1.2.1.2.2.1.2]'
          key: net.if.duplex.discovery
          delay: 1h
          description: 'Discovering interfaces from IF-MIB and EtherLike-MIB. Interfaces with up(1) Operational Status are discovered.'
          item_prototypes:
            -
              uuid: 4d618ac1b4894d8b8d3b8956dfaec853
              name: 'Interface {#IFNAME}({#IFALIAS}): Duplex status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.10.7.2.1.19.{#SNMPINDEX}'
              key: 'net.if.duplex[dot3StatsDuplexStatus.{#SNMPINDEX}]'
              delay: 5m
              history: 1w
              trends: '0'
              description: |
                MIB: EtherLike-MIB
                The current mode of operation of the MAC
                entity.  'unknown' indicates that the current
                duplex mode could not be determined.
                
                Management control of the duplex mode is
                accomplished through the MAU MIB.  When
                an interface does not support autonegotiation,
                or when autonegotiation is not enabled, the
                duplex mode is controlled using
                ifMauDefaultType.  When autonegotiation is
                supported and enabled, duplex mode is controlled
                using ifMauAutoNegAdvertisedBits.  In either
                case, the currently operating duplex mode is
                reflected both in this object and in ifMauType.
                
                Note that this object provides redundant
                information with ifMauType.  Normally, redundant
                objects are discouraged.  However, in this
                instance, it allows a management application to
                determine the duplex status of an interface
                without having to know every possible value of
                ifMauType.  This was felt to be sufficiently
                valuable to justify the redundancy.
                Reference: [IEEE 802.3 Std.], 30.3.1.1.32,aDuplexStatus.
              valuemap:
                name: 'EtherLike-MIB::dot3StatsDuplexStatus'
              tags:
                -
                  tag: Application
                  value: 'Network Interfaces'
              trigger_prototypes:
                -
                  uuid: a595c6ad2d6642528753dcb7b65e96f3
                  expression: 'last(/Generic Cisco/net.if.duplex[dot3StatsDuplexStatus.{#SNMPINDEX}])=2'
                  name: 'Interface {#IFNAME}({#IFALIAS}): In half-duplex mode'
                  status: DISABLED
                  priority: WARNING
                  description: |
                    Last value: {ITEM.LASTVALUE1}.
                    Please check autonegotiation settings and cabling
      dashboards:
        -
          uuid: a118d3daffec444199e2cf1b93bf6a38
          name: 'Performance screen'
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'ICMP Checks'
                        host: 'Generic Cisco'
                -
                  type: CLOCK
                  'y': '5'
                  width: '24'
                  fields:
                    -
                      type: INTEGER
                      name: time_type
                      value: '1'
      valuemaps:
        -
          uuid: 99e3127c6460480f99fbefcb282b6aea
          name: ciscoEnvMonState
          mappings:
            -
              value: '1'
              newvalue: normal
            -
              value: '2'
              newvalue: warning
            -
              value: '3'
              newvalue: critical
            -
              value: '4'
              newvalue: shutdown
            -
              value: '5'
              newvalue: notPresent
            -
              value: '6'
              newvalue: notFunctioning
        -
          uuid: 6e154439c3354699ad6fa0c45fb9cb3a
          name: 'EtherLike-MIB::dot3StatsDuplexStatus'
          mappings:
            -
              value: '1'
              newvalue: unknown
            -
              value: '2'
              newvalue: halfDuplex
            -
              value: '3'
              newvalue: fullDuplex
    -
      uuid: 37e5eb5606bc4abba66c8b20381a1e8a
      template: 'Template Module ICMP Ping'
      name: 'Template Module ICMP Ping'
      description: 'Template Module ICMP Ping version: 0.12'
      groups:
        -
          name: Templates/Modules
      items:
        -
          uuid: db5a94f6cea14deba957202b2f014469
          name: 'ICMP ping'
          type: SIMPLE
          key: icmpping
          delay: '60'
          history: 1w
          valuemap:
            name: 'Service state'
          tags:
            -
              tag: Application
              value: Status
          triggers:
            -
              uuid: b030876299434f3ba43e11c584104a81
              expression: 'max(/Template Module ICMP Ping/icmpping,#3)=0'
              name: 'Unavailable by ICMP ping'
              priority: HIGH
              description: |
                Last value: {ITEM.LASTVALUE1}.
                Last three attempts returned timeout.  Please check device connectivity.
        -
          uuid: 04b21adaf422473a88df2c52786474ed
          name: 'ICMP loss'
          type: SIMPLE
          key: icmppingloss
          delay: '60'
          history: 1w
          value_type: FLOAT
          units: '%'
          tags:
            -
              tag: Application
              value: Status
          triggers:
            -
              uuid: 42c4b0310aaf4b9c8cb502542b7dea90
              expression: 'min(/Template Module ICMP Ping/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/Template Module ICMP Ping/icmppingloss,5m)<100'
              name: 'High ICMP ping loss'
              priority: WARNING
              dependencies:
                -
                  name: 'Unavailable by ICMP ping'
                  expression: 'max(/Template Module ICMP Ping/icmpping,#3)=0'
        -
          uuid: a79e33e5fd264725b934f603fa071555
          name: 'ICMP response time'
          type: SIMPLE
          key: icmppingsec
          delay: '60'
          history: 1w
          value_type: FLOAT
          units: s
          tags:
            -
              tag: Application
              value: Status
          triggers:
            -
              uuid: 32b4d8f3eba34bd380803410111d4b7f
              expression: 'avg(/Template Module ICMP Ping/icmppingsec,5m)>{$ICMP_RESPONSE_TIME_WARN}'
              name: 'High ICMP ping response time'
              priority: WARNING
              dependencies:
                -
                  name: 'High ICMP ping loss'
                  expression: 'min(/Template Module ICMP Ping/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/Template Module ICMP Ping/icmppingloss,5m)<100'
                -
                  name: 'Unavailable by ICMP ping'
                  expression: 'max(/Template Module ICMP Ping/icmpping,#3)=0'
      macros:
        -
          macro: '{$ICMP_LOSS_WARN}'
          value: '20'
        -
          macro: '{$ICMP_RESPONSE_TIME_WARN}'
          value: '0.15'
      valuemaps:
        -
          uuid: bdb5d65d925542eaa61c302dc40fbfe8
          name: 'Service state'
          mappings:
            -
              value: '0'
              newvalue: Down
            -
              value: '1'
              newvalue: Up
  graphs:
    -
      uuid: cb7289329c064f4c946c206576582982
      name: 'Device Uptime'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'Generic Cisco'
            key: sysUpTime
    -
      uuid: 49dc74d58f9048b09aca0b51b40d646d
      name: 'ICMP Checks'
      show_work_period: 'NO'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'Generic Cisco'
            key: icmppingloss
        -
          sortorder: '1'
          color: F63100
          item:
            host: 'Generic Cisco'
            key: icmpping
        -
          sortorder: '2'
          color: 2774A4
          item:
            host: 'Generic Cisco'
            key: icmppingsec
    -
      uuid: 082d222fea2e4a65b86d9466d4d0eeba
      name: 'Memory Usage'
      graph_items:
        -
          drawtype: FILLED_REGION
          color: FFBF00
          item:
            host: 'Generic Cisco'
            key: ciscoMemoryPoolUsed
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: FF4000
          item:
            host: 'Generic Cisco'
            key: ciscoMemoryPoolFree
    -
      uuid: d3143e9d657945a888be80322adae4e9
      name: 'Used CPU'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'Generic Cisco'
            key: ciscoCpmCPUTotal5minRev
