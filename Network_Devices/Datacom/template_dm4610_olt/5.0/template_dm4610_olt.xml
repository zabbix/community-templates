<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:35:59Z</date><groups><group><name>DmOS</name></group><group><name>Templates</name></group></groups><templates><template><template>DATACOM DmOS - ONU Interfaces</template><name>DATACOM DmOS - ONU Interfaces</name><description>## Overview

 


SNMP Discovery - Ethernet UNI Interfaces


SNMP - Ethernet UNI Statistics


SNMP - ONU Power



## Author

Guilherme Zamora Rodrigues

</description><groups><group><name>DmOS</name></group><group><name>Templates</name></group></groups><applications><application><name>ONU-Interfaces</name></application><application><name>ONU-Power</name></application></applications><items><item><name>Number of network interfaces</name><type>SNMP_AGENT</type><snmp_oid>GPON-ONU-IF-MIB::ifNumber.0</snmp_oid><key>onuifNumber</key><delay>3600</delay><history>7d</history><description>The number of network interfaces (regardless of their current state) present on this system.</description><applications><application><name>ONU-Interfaces</name></application></applications></item></items><discovery_rules><discovery_rule><name>Network interfaces</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.3709.3.6.2.1.1.3]</snmp_oid><key>onuifDescr</key><delay>3600</delay><description>You may also consider using IF-MIB::ifType or IF-MIB::ifAlias for discovery depending on your filtering needs.&#13;
&#13;
{$SNMP_COMMUNITY} is a global macro.</description><item_prototypes><item_prototype><name>Admin status of interface $1</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.3709.3.6.2.1.1.6.{#SNMPINDEX}</snmp_oid><key>onuifAdminStatus[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><description>The desired state of the interface.</description><applications><application><name>ONU-Interfaces</name></application></applications><valuemap><name>SNMP interface status (ifAdminStatus)</name></valuemap></item_prototype><item_prototype><name>Alias of interface $1</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.3709.3.6.2.1.1.23.{#SNMPINDEX}</snmp_oid><key>onuifAlias[{#SNMPVALUE}]</key><delay>3600</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><applications><application><name>ONU-Interfaces</name></application></applications></item_prototype><item_prototype><name>Description of interface $1</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.3709.3.6.2.1.1.3.{#SNMPINDEX}</snmp_oid><key>onuifDescr[{#SNMPVALUE}]</key><delay>3600</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>A textual string containing information about the interface.  This string should include the name of the manufacturer, the product name and the version of the interface hardware/software.</description><applications><application><name>ONU-Interfaces</name></application></applications></item_prototype><item_prototype><name>Inbound errors on interface $1</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.3709.3.6.2.1.1.13.{#SNMPINDEX}</snmp_oid><key>onuifInErrors[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><description>For packet-oriented interfaces, the number of inbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of inbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol.</description><applications><application><name>ONU-Interfaces</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item_prototype><item_prototype><name>Incoming traffic on interface $1</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.3709.3.6.2.1.1.8.{#SNMPINDEX}</snmp_oid><key>onuifInOctets[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><units>bps</units><description>The number of octets in valid MAC frames received on this interface, including the MAC header and FCS.</description><applications><application><name>ONU-Interfaces</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step><step><type>MULTIPLIER</type><params>8</params></step></preprocessing></item_prototype><item_prototype><name>Power RX on $1</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.3709.3.6.2.1.1.22.{#SNMPINDEX}</snmp_oid><key>onuIfOnuPowerRx[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><trends>0</trends><value_type>FLOAT</value_type><units>dBm</units><description>Values of power reported by the ONU.</description><applications><application><name>ONU-Power</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>1</params></step></preprocessing><trigger_prototypes><trigger_prototype><expression>{last()}&lt;-27.0 or&#13;
{last()}&gt;-8.0</expression><name>Power RX overload on {HOST.NAME} interface {#SNMPVALUE}</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Power TX on $1</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.3709.3.6.2.1.1.21.{#SNMPINDEX}</snmp_oid><key>onuIfOnuPowerTx[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><trends>0</trends><value_type>FLOAT</value_type><units>dBm</units><description>Values of power reported by the ONU.</description><applications><application><name>ONU-Power</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>1</params></step></preprocessing><trigger_prototypes><trigger_prototype><expression>{last()}&gt;5.0 or&#13;
{last()}&lt;-0.5</expression><name>Power TX overload on {HOST.NAME} interface {#SNMPVALUE}</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Operational status of interface $1</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.3709.3.6.2.1.1.7.{#SNMPINDEX}</snmp_oid><key>onuifOperStatus[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><description>The current operational state of the interface.</description><applications><application><name>ONU-Interfaces</name></application></applications><valuemap><name>SNMP interface status (ifOperStatus)</name></valuemap><trigger_prototypes><trigger_prototype><expression>{diff(0)}=1</expression><name>Operational status was changed on {HOST.NAME} interface {#SNMPVALUE}</name><priority>INFO</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Outbound errors on interface $1</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.3709.3.6.2.1.1.20.{#SNMPINDEX}</snmp_oid><key>onuifOutErrors[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><description>For packet-oriented interfaces, the number of outbound packets that could not be transmitted because of errors. For character-oriented or fixed-length interfaces, the number of outbound transmission units that could not be transmitted because of errors.</description><applications><application><name>ONU-Interfaces</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item_prototype><item_prototype><name>Outgoing traffic on interface $1</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.3709.3.6.2.1.1.15.{#SNMPINDEX}</snmp_oid><key>onuifOutOctets[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><units>bps</units><description>The number of octets transmitted in MAC frames on this interface, including the MAC header and FCS.</description><applications><application><name>ONU-Interfaces</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step><step><type>MULTIPLIER</type><params>8</params></step></preprocessing></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>Power on ONU {#SNMPVALUE}</name><graph_items><graph_item><color>DD0000</color><item><host>DATACOM DmOS - ONU Interfaces</host><key>onuIfOnuPowerRx[{#SNMPVALUE}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>33FF33</color><item><host>DATACOM DmOS - ONU Interfaces</host><key>onuIfOnuPowerTx[{#SNMPVALUE}]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><name>Traffic on ONU interface {#SNMPVALUE}</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>00AA00</color><item><host>DATACOM DmOS - ONU Interfaces</host><key>onuifInOctets[{#SNMPVALUE}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>3333FF</color><item><host>DATACOM DmOS - ONU Interfaces</host><key>onuifOutOctets[{#SNMPVALUE}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule></discovery_rules></template></templates><value_maps><value_map><name>SNMP interface status (ifAdminStatus)</name><mappings><mapping><value>1</value><newvalue>up</newvalue></mapping><mapping><value>2</value><newvalue>down</newvalue></mapping><mapping><value>3</value><newvalue>testing</newvalue></mapping></mappings></value_map><value_map><name>SNMP interface status (ifOperStatus)</name><mappings><mapping><value>1</value><newvalue>up</newvalue></mapping><mapping><value>2</value><newvalue>down</newvalue></mapping><mapping><value>3</value><newvalue>testing</newvalue></mapping><mapping><value>4</value><newvalue>unknown</newvalue></mapping><mapping><value>5</value><newvalue>dormant</newvalue></mapping><mapping><value>6</value><newvalue>notPresent</newvalue></mapping><mapping><value>7</value><newvalue>lowerLayerDown</newvalue></mapping></mappings></value_map></value_maps></zabbix_export>
