zabbix_export:
  version: '7.4'
  template_groups:
  - uuid: 99aa1866418341ccafcdd8e272ff8ff3
    name: Templates/Network devices
  templates:
  - uuid: b52defae908d46449ee34d6d075851a8
    template: Template Net D-Link DXS-1210 SNMP
    name: Template Net D-Link DXS-1210 SNMP
    description: 'D-Link DXS-1210 series (tested on DXS-1210-28S, sysObjectID 1.3.6.1.4.1.171.10.139.7.1, firmware 1.00.B032). SNMPv2c: system
      info, interface LLD (IF-MIB/IFX-MIB), traffic/errors/status, basic hardware health (temperature/fan/PSU) and memory gauges from D-Link enterprise
      MIB. (Template-level triggers omitted for schema compatibility; add triggers after import if desired.)'
    groups:
    - name: Templates/Network devices
    macros:
    - macro: '{$SNMP_COMMUNITY}'
      type: TEXT
      value: public
      description: SNMP v2c community (override per host)
    items:
    - uuid: a2c50c348942449cb0201412e2bec271
      name: 'SNMP: sysUpTime'
      type: SNMP_AGENT
      snmp_oid: 1.3.6.1.2.1.1.3.0
      key: snmp.sysUpTime
      delay: 1m
      value_type: FLOAT
      units: uptime
      history: 7d
      trends: 365d
    - uuid: c45836262974481d97015a4d3d77892e
      name: 'SNMP: sysName'
      type: SNMP_AGENT
      snmp_oid: 1.3.6.1.2.1.1.5.0
      key: snmp.sysName
      delay: 5m
      value_type: TEXT
      history: 30d
      trends: '0'
    - uuid: 91c33190cf3c47919a9054f316255c3a
      name: 'SNMP: sysDescr'
      type: SNMP_AGENT
      snmp_oid: 1.3.6.1.2.1.1.1.0
      key: snmp.sysDescr
      delay: 1h
      value_type: TEXT
      history: 30d
      trends: '0'
    - uuid: 88ccd0b91a124d008c76aa661e86a4be
      name: 'SNMP: sysLocation'
      type: SNMP_AGENT
      snmp_oid: 1.3.6.1.2.1.1.6.0
      key: snmp.sysLocation
      delay: 1h
      value_type: TEXT
      history: 30d
      trends: '0'
    - uuid: fbc6502a3caf4ee4bb6384659988b952
      name: 'SNMP: sysContact'
      type: SNMP_AGENT
      snmp_oid: 1.3.6.1.2.1.1.4.0
      key: snmp.sysContact
      delay: 1h
      value_type: TEXT
      history: 30d
      trends: '0'
    - uuid: e92d23ef136f4d8b917e9e9ce7025ddc
      name: 'SNMP: sysObjectID'
      type: SNMP_AGENT
      snmp_oid: 1.3.6.1.2.1.1.2.0
      key: snmp.sysObjectID
      delay: 1h
      value_type: TEXT
      history: 30d
      trends: '0'
    - uuid: ce1a4cf578534dc7aec23d24fef01cad
      name: 'DXS: Temperature (Center)'
      type: SNMP_AGENT
      snmp_oid: 1.3.6.1.4.1.171.14.5.1.1.1.1.4.1.1
      key: dxs.temp.center
      delay: 1m
      value_type: FLOAT
      units: Â°C
      history: 30d
      trends: 365d
    - uuid: bf248e1bcc864a8c8eeaa386c3e70c49
      name: 'DXS: Fan status (Right Fan)'
      type: SNMP_AGENT
      snmp_oid: 1.3.6.1.4.1.171.14.5.1.1.2.1.4.1.7
      key: dxs.fan.right.status
      delay: 1m
      value_type: UNSIGNED
      history: 30d
      trends: 365d
    - uuid: a35bffe1a19641c1b933c7254d9038d6
      name: 'DXS: Power supply status (Power 1)'
      type: SNMP_AGENT
      snmp_oid: 1.3.6.1.4.1.171.14.5.1.1.3.1.6.1.1
      key: dxs.psu.1.status
      delay: 1m
      value_type: UNSIGNED
      history: 30d
      trends: 365d
    - uuid: b465e52ffa324ba2b2e1dbc3733a05b1
      name: 'DXS: Memory total (raw)'
      type: SNMP_AGENT
      snmp_oid: 1.3.6.1.4.1.171.14.5.1.4.1.3.1.1
      key: dxs.mem.total
      delay: 5m
      value_type: UNSIGNED
      history: 30d
      trends: 365d
    - uuid: def3526e0286486d9c104fa03bdb1ec2
      name: 'DXS: Memory free (raw)'
      type: SNMP_AGENT
      snmp_oid: 1.3.6.1.4.1.171.14.5.1.4.1.3.1.2
      key: dxs.mem.free
      delay: 5m
      value_type: UNSIGNED
      history: 30d
      trends: 365d
    - uuid: d85eaa13514f4fa9b4c04202d1955060
      name: 'DXS: Memory used (raw)'
      type: SNMP_AGENT
      snmp_oid: 1.3.6.1.4.1.171.14.5.1.4.1.4.1.1
      key: dxs.mem.used
      delay: 5m
      value_type: UNSIGNED
      history: 30d
      trends: 365d
    - uuid: 481995ca198345eca233f17184f89def
      name: 'DXS: Memory used 2 (raw)'
      type: SNMP_AGENT
      snmp_oid: 1.3.6.1.4.1.171.14.5.1.4.1.4.1.2
      key: dxs.mem.used2
      delay: 5m
      value_type: UNSIGNED
      history: 30d
      trends: 365d
    discovery_rules:
    - uuid: f1a357ff52eb4237a0f6a8fb5240563c
      name: Network interfaces discovery
      type: SNMP_AGENT
      key: net.if.discovery
      delay: 10m
      snmp_oid: discovery[{#IFINDEX},1.3.6.1.2.1.2.2.1.1,{#IFDESCR},1.3.6.1.2.1.2.2.1.2,{#IFTYPE},1.3.6.1.2.1.2.2.1.3,{#IFNAME},1.3.6.1.2.1.31.1.1.1.1]
      filter:
        evaltype: AND
        conditions:
        - formulaid: A
          macro: '{#IFDESCR}'
          value: .*(L2VLAN|rif|CPU).*
          operator: NOT_MATCHES_REGEX
      item_prototypes:
      - uuid: 67f5fcacfa4a494381fc1fd91a5c0b7b
        name: 'Interface {#IFNAME}: Operational status'
        type: SNMP_AGENT
        snmp_oid: 1.3.6.1.2.1.2.2.1.8.{#IFINDEX}
        key: if.oper.status[{#IFINDEX}]
        delay: 1m
        value_type: UNSIGNED
        history: 30d
        trends: 365d
      - uuid: 7f03274908ce4bc3ab6d5a66f1dd89c8
        name: 'Interface {#IFNAME}: Admin status'
        type: SNMP_AGENT
        snmp_oid: 1.3.6.1.2.1.2.2.1.7.{#IFINDEX}
        key: if.admin.status[{#IFINDEX}]
        delay: 5m
        value_type: UNSIGNED
        history: 30d
        trends: 365d
      - uuid: 31b63a663ba64948807a8eb6f9a39f8e
        name: 'Interface {#IFNAME}: Inbound traffic'
        type: SNMP_AGENT
        snmp_oid: 1.3.6.1.2.1.31.1.1.1.6.{#IFINDEX}
        key: if.in.bps[{#IFINDEX}]
        delay: 1m
        value_type: FLOAT
        units: bps
        history: 30d
        trends: 365d
        preprocessing:
        - type: CHANGE_PER_SECOND
        - type: MULTIPLIER
          parameters:
          - '8'
      - uuid: 14985c9da2f34a14b1713cd2da43d06b
        name: 'Interface {#IFNAME}: Outbound traffic'
        type: SNMP_AGENT
        snmp_oid: 1.3.6.1.2.1.31.1.1.1.10.{#IFINDEX}
        key: if.out.bps[{#IFINDEX}]
        delay: 1m
        value_type: FLOAT
        units: bps
        history: 30d
        trends: 365d
        preprocessing:
        - type: CHANGE_PER_SECOND
        - type: MULTIPLIER
          parameters:
          - '8'
      - uuid: e8e5940738e344e3a2dfe656e8dca349
        name: 'Interface {#IFNAME}: In errors'
        type: SNMP_AGENT
        snmp_oid: 1.3.6.1.2.1.2.2.1.14.{#IFINDEX}
        key: if.in.errors[{#IFINDEX}]
        delay: 2m
        value_type: UNSIGNED
        history: 30d
        trends: 365d
        preprocessing:
        - type: CHANGE_PER_SECOND
      - uuid: c81f3cdd21624c35974d0f98b08ae45f
        name: 'Interface {#IFNAME}: Out errors'
        type: SNMP_AGENT
        snmp_oid: 1.3.6.1.2.1.2.2.1.20.{#IFINDEX}
        key: if.out.errors[{#IFINDEX}]
        delay: 2m
        value_type: UNSIGNED
        history: 30d
        trends: 365d
        preprocessing:
        - type: CHANGE_PER_SECOND
      trigger_prototypes:
      - uuid: 5ed35c5abdfa4b49a3f78343451de9b0
        name: 'Interface {#IFNAME}: Link down'
        expression: last(/Template Net D-Link DXS-1210 SNMP/if.admin.status[{#IFINDEX}])=1 and last(/Template Net D-Link DXS-1210 SNMP/if.oper.status[{#IFINDEX}])<>1
        priority: HIGH
        manual_close: 'YES'
