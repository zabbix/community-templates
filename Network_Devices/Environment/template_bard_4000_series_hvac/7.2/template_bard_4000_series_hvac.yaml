zabbix_export:
  version: '7.2'
  template_groups:
    - uuid: 675e28d5bebf4b7ebf53bb061068577a
      name: BARD
    - uuid: 4e8b8e2411464385a17fa8df203e0e4c
      name: 'DLA::Designed::'
    - uuid: 83c72e6765504bf290621f8975635131
      name: HVAC
  templates:
    - uuid: 3a44a8eb83594efb80106be98844cdd5
      template: 'BARD MC4000 Series HVAC'
      name: 'BARD MC4000 Series HVAC'
      description: |
        # BARD MC4000 Series HVAC Monitoring Template
        
        ## Overview
        Comprehensive SNMP monitoring solution for BARD MC4000 Series precision HVAC controllers used in telecommunications shelters, data centers, and critical infrastructure environments. This template provides complete visibility into dual-unit HVAC systems with multi-stage cooling/heating, redundancy management, and comprehensive fault detection.
        
        **MIB Information:**
        - Enterprise OID: 1.3.6.1.4.1.44433 (TTMI-MIB)
        - Vendor: TRI-TECH MANUFACTURING / BARD HVAC
        - Product: MC4000 Series Controllers (MC4001, MC4002, etc.)
        - Contact: WWW.BARDHVAC.COM
        
        ## Capabilities
        
        ### Black-Box Availability Monitoring
        * **ICMP Ping** - Network layer reachability verification
        * **SNMP Availability** - SNMP agent health check with automatic fault detection
        * Immediate alerting on device or network failures
        
        ### Comprehensive Fault Detection (10 Alarm Items)
        * **Fire/Smoke Shutdown** - Critical safety system monitoring
        * **Controller Failure** - System controller health monitoring
        * **Temperature Alarms** - High/Low temperature threshold breach detection (2 levels)
        * **Power Loss Detection** - AC power monitoring for both HVAC units
        * **Unit Lockout Alarms** - Pressure lockout condition detection
        * **Second Stage Cooling Alarm** - Extended cooling operation alerts
        
        ### Performance Metrics (18 Items)
        * **Temperature Monitoring** - Local room + 2 remote sensors in Fahrenheit
        * **Multi-Stage Operation** - Real-time status for 4 cooling + 4 heating stages
        * **System Status** - Lead/Lag unit role tracking, fan operation states
        * **Dehumidification** - Active dehumidification status monitoring
        
        ### Configuration & Settings (5 Items)
        * **Temperature Setpoints** - Cooling and heating setpoint tracking
        * **Alarm Thresholds** - High/Low temperature alarm setpoints (3 levels)
        
        ### Inventory & State Tracking (8 Items)
        * **System Information** - Site name, product name, version, date
        * **Unit Details** - Model and serial numbers for both HVAC systems
        * **System Description** - SNMP standard system information
        * **System Name** - Device hostname identification  
        * **System Location** - Physical location reference for technician dispatch
        
        ### System Control Indicators (5 Items)
        * **Generator Running** - Backup power status monitoring
        * **Alarm Board Connected** - Remote alarm panel connectivity
        * **Comfort Mode** - Comfort mode enable/disable status
        * **Controller Locked** - Configuration lockout status
        * **Lead Unit Tracking** - Automatic lead/lag unit role identification
        
        ## Trigger Philosophy
        
        All triggers follow Zabbix best practices:
        * **Actionable Problems Only** - Every trigger requires immediate or scheduled action
        * **Severity-Based Response** - DISASTER/HIGH for immediate paging, WARNING for scheduled tickets
        * **Manual Closure Enabled** - 100% of triggers support manual acknowledgment and closure
        * **NOC-Focused Descriptions** - Detailed troubleshooting steps and escalation procedures included
        
        ### Severity Distribution
        * **DISASTER (2)** - Fire/smoke shutdown, controller failure (complete system loss)
        * **HIGH (6)** - Power loss, unit lockout, high/low temperature alarms, ICMP/SNMP loss
        * **WARNING (3)** - Generator running, SNMP timeout, alarm board disconnected
        
        ## Flexibility & Customization
        
        ### User Macros (5 Defined)
        Allows easy threshold customization without template modification:
        * `{$SNMP.TIMEOUT}` = 5m - SNMP availability timeout threshold
        * `{$ICMP.LOSS.WARN}` = 20 - ICMP packet loss warning percentage
        * `{$ICMP.RESPONSE_TIME.WARN}` = 0.15 - ICMP response time warning in seconds
        * `{$TEMP.HIGH.WARN}` = 85 - High temperature warning threshold (°F)
        * `{$TEMP.LOW.WARN}` = 55 - Low temperature warning threshold (°F)
        
        ### Value Mappings (15 Maps)
        Human-readable status display:
        * **BARD Alarm Status** - OK/ALARM
        * **BARD ON/OFF Status** - OFF/ON
        * **BARD YES/NO Status** - NO/YES
        * **BARD DISABLED/ENABLED Status** - DISABLED/ENABLED
        * **BARD Lead/Lag Status** - LAG/LEAD
        * **Service State** - Down/Up (for ICMP)
        * **SNMP Availability** - Not available/Available/Unknown
        
        ## Technical Details
        
        ### SNMP Implementation
        * **Protocol**: SNMPv2c/v3
        * **Enterprise OID**: 1.3.6.1.4.1.44433 (TTMI-MIB)
        * **Vendor**: TRI-TECH MANUFACTURING / BARD HVAC
        * **Standard MIB-2 OIDs**: System information (sysDescr, sysName, sysLocation)
        * **Collection Method**: Native Zabbix SNMP agent (no external scripts)
        * **OID Format**: Modern get[OID.0] syntax for Zabbix 7.2+
        
        ### Item Statistics
        * **Total Items**: 53
        * **SNMP Items**: 50 (BARD enterprise MIB + MIB-2 system)
        * **Internal Items**: 1 (SNMP availability)
        * **Simple Items**: 1 (ICMP ping)
        * **Collection Intervals**: 5m-15m depending on metric criticality
        * **History Retention**: 90d for all items
        
        ### Trigger Statistics
        * **Total Triggers**: 15
        * **Manual Close**: 100% enabled
        * **Expression Types**: Simple last value, max over time
        * **Recovery Expressions**: Automatic (value returns to normal)
        
        ## Use Cases
        
        ### Telecommunications Shelters
        Monitor dual-redundant HVAC systems in outdoor telecommunications equipment shelters where cooling failure can lead to equipment overheating and service outages.
        
        ### Data Centers & Server Rooms
        Track multi-stage cooling/heating performance in mission-critical environments where temperature control and system redundancy directly impact uptime.
        
        ### Critical Infrastructure Sites
        Remote monitoring of unmanned critical sites where HVAC issues require immediate detection, automatic failover verification, and technician dispatch.
        
        ### Network Operations Center (NOC)
        Provides NOC operators with:
        * Clear fault identification and severity
        * Lead/Lag unit status for redundancy verification
        * Multi-stage cooling/heating operation visibility
        * Detailed troubleshooting procedures
        * Escalation paths and response timelines
        * Historical performance trending
        
        ## Installation & Requirements
        
        ### Prerequisites
        * Zabbix Server 7.2 or higher
        * SNMP access to BARD MC4000 Series controller
        * Network connectivity (ICMP and UDP 161)
        * Valid SNMP community string or SNMPv3 credentials
        
        ### Setup Steps
        1. Import template via Zabbix web interface (Configuration → Templates → Import)
        2. Create/select host for BARD MC4000 controller
        3. Configure host SNMP interface with correct IP address
        4. Set SNMP community string or SNMPv3 credentials in host macros
        5. Link template to host
        6. Verify SNMP connectivity (check Latest Data)
        7. Customize user macros if default thresholds need adjustment
        8. Configure action/notification rules for trigger severity levels
        
        ### Recommended Actions
        * **DISASTER triggers** → Immediate page to on-call HVAC technician + facility manager
        * **HIGH triggers** → Create high-priority ticket, escalate if not acknowledged within 30 minutes
        * **WARNING triggers** → Create standard ticket for scheduled maintenance
        
        ## Maintenance
        
        ### Template Updates
        When updating this template:
        * Preserve user macro values (may be customized per deployment)
        * Review trigger expressions for environment-specific thresholds
        * Test in development before production deployment
        * Document changes in version control
        
        ### Monitoring Best Practices
        * Establish baseline for normal operating temperatures
        * Verify lead/lag unit rotation happens properly
        * Track multi-stage cooling/heating patterns
        * Monitor generator running events to identify power quality issues
        * Schedule preventive maintenance based on runtime hours
        * Test alarm board connectivity regularly
        
        ## Troubleshooting
        
        ### No Data Collection
        1. Verify SNMP enabled on BARD MC4000 controller
        2. Test SNMP access: `snmpwalk -v2c -c <community> <ip> 1.3.6.1.4.1.44433.1.1`
        3. Check firewall rules (UDP 161)
        4. Verify host SNMP interface configuration
        5. Review Zabbix server logs for SNMP errors
        
        ### False Positives
        * Adjust user macros for site-specific thresholds
        * Review trigger expressions for environmental factors
        * Consider increasing timeout values for unstable networks
        * Use trigger dependencies to suppress cascading alarms
        
        ### Missing Items
        Some OIDs may not be supported on all MC4000 firmware versions:
        * Check MIB documentation for firmware compatibility
        * Disable unsupported items rather than deleting (preserves template integrity)
        * Update item descriptions to note firmware requirements
        
        ## Support & Documentation
        
        ### References
        * TTMI-MIB - Enterprise MIB definition for MC4000 Series
        * BARD HVAC Documentation - WWW.BARDHVAC.COM
        * Zabbix Template Guidelines - https://www.zabbix.com/documentation/current/manual/appendix/templates
        
        ### Zabbix Guideline Compliance
        This template follows official Zabbix template development guidelines:
        ✓ Black-box availability monitoring (ICMP + SNMP)
        ✓ Fault monitoring with vendor-provided diagnostics
        ✓ Performance monitoring (multi-stage operation tracking)
        ✓ Inventory and state control
        ✓ Flexible configuration (user macros)
        ✓ No external dependencies (native SNMP)
        ✓ Single resource scope (HVAC controller)
        ✓ Proper value mappings
        ✓ Manual trigger closure
        ✓ Comprehensive documentation
        
        ## Version History
        
        ### v1.0 - Initial Release
        * 48 BARD enterprise OID items
        * 13 alarm/fault triggers
        * 10 value mappings
        * Basic template structure
        
        ### v2.0 - Production Enhancement (Current)
        * Added ICMP ping availability check
        * Added SNMP agent availability monitoring
        * Added 3 MIB-2 system inventory items (sysDescr, sysName, sysLocation)
        * Standardized item keys to bard.category.item format
        * Implemented 5 user macros for threshold flexibility
        * Enhanced all trigger descriptions with NOC procedures
        * 100% manual closure enabled on all triggers
        * Added comprehensive temperature, cooling/heating stage graphs
        * Added NOC dashboard with system overview
        * Updated to Zabbix 7.2 get[OID.0] syntax
        * Total: 53 items, 15 triggers, 15 value maps, 5 macros, 5 graphs, 1 dashboard
        
        ## Author
        
        **Author:** ://echo@dla.network [oZark oRChes✝ra✝'d]
        
        ## License & Usage
        
        This template is provided for monitoring BARD MC4000 Series HVAC controllers in production environments. Customize macros and thresholds as needed for your specific deployment. Share improvements with the Zabbix community.
        
        ---
        
        **Template Type:** Resource Monitoring (HVAC)
        **Vendor:** BARD / TRI-TECH MANUFACTURING
        **Device:** MC4000 Series Controllers
        **Monitoring Method:** SNMP (Native)
        **Zabbix Version:** 7.2+
        **Last Updated:** December 1, 2025
      groups:
        - name: BARD
        - name: 'DLA::Designed::'
        - name: HVAC
      items:
        - uuid: 8e330f55569949e98d177bc59ffa6107
          name: 'Controller Failure'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.2.2.0]'
          key: bard.alarm.controllerFailure
          delay: 15m
          history: 90d
          description: 'Indicates a failure in the controller component.'
          valuemap:
            name: 'BARD Alarm Status'
          tags:
            - tag: alarm
              value: failure
            - tag: component
              value: controller
          triggers:
            - uuid: 467bebab78d245b1b1cbc5471fa1beb2
              expression: 'last(/BARD MC4000 Series HVAC/bard.alarm.controllerFailure)=1'
              name: 'Controller Failure detected'
              priority: DISASTER
              description: |
                **Problem:** BARD MC4001 controller has detected an internal failure. Primary control system is non-functional.
                
                **Impact:** HVAC control system failure - automated temperature control, multi-stage operations, and alarm monitoring may be compromised.
                
                **Severity Rationale:** DISASTER - Loss of controller means loss of automated HVAC control. Critical for data centers and telecom shelters.
                
                **Immediate Actions:**
                1. Verify if HVAC units are still operating (check local unit status)
                2. Check if backup/secondary controller is available and functional
                3. Monitor room temperature manually every 15 minutes
                4. Prepare for manual HVAC control if temperature deviates
                
                **Troubleshooting Steps:**
                1. Power cycle controller (30 second off time)
                2. Check controller display for error codes
                3. Verify power supply voltage is within spec (check with multimeter)
                4. Check all controller wiring connections for loose cables
                5. Review controller event logs for failure details
                6. Test controller communication bus
                
                **Escalation:**
                - Immediate: Page HVAC technician for on-site diagnostics
                - 15 minutes: Contact BARD support for remote diagnostics
                - 30 minutes: If critical facility, consider emergency controller replacement
                - 1 hour: Escalate to facility manager for manual HVAC control procedures
                
                **Recovery:** Manual closure required after controller replacement or repair verification
              manual_close: 'YES'
              tags:
                - tag: Severity
                  value: High
        - uuid: 0056d67eb0974af59a9573326118057f
          name: 'Fire Smoke Shutdown'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.2.1.0]'
          key: bard.alarm.fireSmoke
          delay: 5m
          history: 90d
          description: 'Alarm status indicating a fire or smoke shutdown.'
          valuemap:
            name: 'BARD Alarm Status'
          tags:
            - tag: alarm
              value: fire-smoke
            - tag: component
              value: safety
          triggers:
            - uuid: 086a567769d34d41adb3f95998d704bc
              expression: 'last(/BARD MC4000 Series HVAC/bard.alarm.fireSmoke)=1'
              name: 'Fire Smoke Shutdown detected'
              priority: DISASTER
              description: |
                **Problem:** Fire or smoke detected - HVAC system has initiated emergency shutdown.
                
                **Impact:** CRITICAL SAFETY ALARM - All HVAC operations halted due to fire/smoke detection. Equipment protection and life safety protocols activated.
                
                **Severity Rationale:** DISASTER - This is a life safety alarm indicating potential fire hazard. Requires immediate emergency response.
                
                **Immediate Actions:**
                1. EVACUATE facility if alarm is verified
                2. Contact emergency services (911) if fire/smoke confirmed
                3. DO NOT attempt to restart HVAC until fire department clears facility
                4. Verify fire suppression systems activated properly
                5. Check all smoke detectors and fire alarm panels
                
                **Troubleshooting Steps:**
                1. Verify alarm is not false positive (check smoke detectors)
                2. Inspect HVAC equipment area for smoke or burning smell
                3. Check electrical panels for signs of electrical fire
                4. Review facility fire alarm system logs
                5. Inspect ductwork for smoke contamination
                
                **Escalation:**
                - IMMEDIATE: Contact emergency services if fire/smoke confirmed
                - IMMEDIATE: Page facility manager and safety officer
                - 0 minutes: Initiate emergency evacuation procedures if required
                - After clearance: Contact HVAC vendor to inspect system before restart
                
                **Recovery:** Manual closure required after fire department clearance and system inspection
              manual_close: 'YES'
              tags:
                - tag: Severity
                  value: Disaster
        - uuid: bfd48059f9294ee08dcd9052be96b169
          name: 'High Temp Alarm 1'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.2.5.0]'
          key: bard.alarm.highTemp1
          delay: 5m
          history: 90d
          description: 'Alarm indicating a high temperature condition for alarm 1.'
          valuemap:
            name: 'BARD Alarm Status'
          tags:
            - tag: alarm
              value: high-temp-1
            - tag: component
              value: temperature
          triggers:
            - uuid: 9e2c7bab439849a2a314e71c908a80c6
              expression: 'last(/BARD MC4000 Series HVAC/bard.alarm.highTemp1)=1'
              name: 'High Temperature Alarm 1 triggered'
              priority: AVERAGE
              manual_close: 'YES'
              tags:
                - tag: Severity
                  value: Average
        - uuid: 42a8311987dc4c2c890dc0ec7b08366b
          name: 'High Temp Alarm 2'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.2.6.0]'
          key: bard.alarm.highTemp2
          delay: 5m
          history: 90d
          description: 'Alarm indicating a high temperature condition for alarm 2.'
          valuemap:
            name: 'BARD Alarm Status'
          tags:
            - tag: alarm
              value: high-temp-2
            - tag: component
              value: temperature
          triggers:
            - uuid: 856fd33cd35a4b27880fbad4ae97acae
              expression: 'last(/BARD MC4000 Series HVAC/bard.alarm.highTemp2)=1'
              name: 'High Temperature Alarm 2 triggered'
              priority: AVERAGE
              manual_close: 'YES'
        - uuid: c119c78cbc894262b8bb25113484e55a
          name: 'Low Temp Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.2.4.0]'
          key: bard.alarm.lowTemp
          delay: 5m
          history: 90d
          description: 'Alarm indicating a low temperature condition.'
          valuemap:
            name: 'BARD Alarm Status'
          tags:
            - tag: alarm
              value: low-temp
            - tag: component
              value: temperature
          triggers:
            - uuid: 02824517634d4ae2807ae3761c5895ac
              expression: 'last(/BARD MC4000 Series HVAC/bard.alarm.lowTemp)=1'
              name: 'Low Temperature Alarm triggered'
              priority: AVERAGE
              manual_close: 'YES'
              tags:
                - tag: Severity
                  value: Average
        - uuid: 4ddf5f2f670647bc9f87d79b238febaf
          name: 'Power Loss Unit 1'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.2.7.0]'
          key: bard.alarm.powerLossUnit1
          delay: 5m
          history: 90d
          description: 'Alarm indicating a power loss condition for unit 1.'
          valuemap:
            name: 'BARD Alarm Status'
          tags:
            - tag: alarm
              value: power-loss
            - tag: component
              value: power
            - tag: unit
              value: '1'
          triggers:
            - uuid: f8e7595e93474e708883b344ed948ff1
              expression: 'last(/BARD MC4000 Series HVAC/bard.alarm.powerLossUnit1)=1'
              name: 'Power Loss Unit 1 detected'
              priority: HIGH
              description: |
                **Problem:** HVAC Unit 1 has lost AC power. Unit is not receiving electrical power.
                
                **Impact:** Unit 1 is offline - cooling/heating capacity reduced by 50%. System is operating on single unit only.
                
                **Severity Rationale:** HIGH - Loss of redundancy. If Unit 2 also fails, complete HVAC loss occurs.
                
                **Immediate Actions:**
                1. Verify Unit 2 is operational and carrying full load
                2. Monitor room temperature closely
                3. Check if power loss is only Unit 1 or building-wide
                4. Verify generator status if applicable
                
                **Troubleshooting Steps:**
                1. Check circuit breaker for Unit 1 (reset if tripped)
                2. Verify power at unit disconnect switch
                3. Test voltage at unit power terminals (should be 208-230V)
                4. Check for blown fuses in HVAC unit
                5. Inspect wiring for damage or loose connections
                6. Verify PDU or power source is functioning
                7. Check upstream electrical panel for faults
                
                **Escalation:**
                - Immediate: Alert electrical/facilities team
                - 15 minutes: Dispatch electrician if breaker not tripped
                - 30 minutes: If Unit 2 temperature cannot maintain, bring in portable cooling
                - 1 hour: Escalate to facility manager if power not restored
                
                **Recovery:** Auto-recovers when power is restored to Unit 1
              manual_close: 'YES'
              tags:
                - tag: Severity
                  value: Average
        - uuid: 2b51d6eacdf2456b996a8a7952c53abd
          name: 'Power Loss Unit 2'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.2.8.0]'
          key: bard.alarm.powerLossUnit2
          delay: 5m
          history: 90d
          description: 'Alarm indicating a power loss condition for unit 2.'
          valuemap:
            name: 'BARD Alarm Status'
          tags:
            - tag: alarm
              value: power-loss
            - tag: component
              value: power
            - tag: unit
              value: '2'
          triggers:
            - uuid: de6c67027830408193d68fe4000a0c94
              expression: 'last(/BARD MC4000 Series HVAC/bard.alarm.powerLossUnit2)=1'
              name: 'Power Loss Unit 2 detected'
              priority: HIGH
              description: |
                **Problem:** HVAC Unit 2 has lost AC power. Unit is not receiving electrical power.
                
                **Impact:** Unit 2 is offline - cooling/heating capacity reduced by 50%. System is operating on single unit only.
                
                **Severity Rationale:** HIGH - Loss of redundancy. If Unit 1 also fails, complete HVAC loss occurs.
                
                **Immediate Actions:**
                1. Verify Unit 1 is operational and carrying full load
                2. Monitor room temperature closely
                3. Check if power loss is only Unit 2 or building-wide
                4. Verify generator status if applicable
                
                **Troubleshooting Steps:**
                1. Check circuit breaker for Unit 2 (reset if tripped)
                2. Verify power at unit disconnect switch
                3. Test voltage at unit power terminals (should be 208-230V)
                4. Check for blown fuses in HVAC unit
                5. Inspect wiring for damage or loose connections
                6. Verify PDU or power source is functioning
                7. Check upstream electrical panel for faults
                
                **Escalation:**
                - Immediate: Alert electrical/facilities team
                - 15 minutes: Dispatch electrician if breaker not tripped
                - 30 minutes: If Unit 1 cannot maintain temperature, bring in portable cooling
                - 1 hour: Escalate to facility manager if power not restored
                
                **Recovery:** Auto-recovers when power is restored to Unit 2
              manual_close: 'YES'
              tags:
                - tag: Severity
                  value: Average
        - uuid: a5e7703023db4a0389fd96e53137423d
          name: 'Second Stage Cooling'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.2.3.0]'
          key: bard.alarm.secondStageCooling
          delay: 5m
          history: 90d
          description: 'Status of the second stage cooling system.'
          valuemap:
            name: 'BARD Alarm Status'
          tags:
            - tag: alarm
              value: extended-operation
            - tag: component
              value: cooling
        - uuid: b58181fde7ac45ecb16f194860649bb0
          name: 'Alarm Status 9'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.2.9.0]'
          key: bard.alarm.status9
          delay: 5m
          history: 90d
          description: 'Status of alarm 9, indicating whether it is active or inactive.'
          valuemap:
            name: 'BARD Alarm Status'
          tags:
            - tag: alarm
              value: status
        - uuid: d35bb0d8558b4449a3835884505d1f64
          name: 'Alarm Status 12'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.2.12.0]'
          key: bard.alarm.status12
          delay: 5m
          history: 90d
          description: 'Status of alarm 12, indicating whether it is active or inactive.'
          valuemap:
            name: 'BARD Alarm Status'
          tags:
            - tag: alarm
              value: status
        - uuid: dcd588367d7e4968bd42fb29a208879a
          name: 'Unit 1 Lockout'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.2.10.0]'
          key: bard.alarm.unit1Lockout
          delay: 5m
          history: 90d
          description: 'Lockout status for unit 1.'
          valuemap:
            name: 'BARD Alarm Status'
          tags:
            - tag: alarm
              value: lockout
            - tag: component
              value: refrigeration
            - tag: unit
              value: '1'
          triggers:
            - uuid: 33c8b92e81984e6390896dd6798042a1
              expression: 'last(/BARD MC4000 Series HVAC/bard.alarm.unit1Lockout)=1'
              name: 'Unit 1 Lockout detected'
              priority: HIGH
              description: |
                **Problem:** HVAC Unit 1 is in pressure lockout condition. Safety lockout has disabled the unit.
                
                **Impact:** Unit 1 is disabled due to refrigeration system pressure fault. Operating on Unit 2 only - 50% capacity.
                
                **Severity Rationale:** HIGH - Pressure lockout indicates refrigeration system problem. Requires technician service.
                
                **Immediate Actions:**
                1. Verify Unit 2 is operational
                2. Monitor room temperature
                3. DO NOT attempt to override lockout (safety feature)
                4. Check for visible refrigerant leaks
                
                **Troubleshooting Steps:**
                1. Check high pressure safety switch (should be red indicator)
                2. Check low pressure safety switch
                3. Inspect for refrigerant leaks (oil spots, hissing sound)
                4. Verify outdoor condenser fan is running
                5. Check for blocked condenser coils (clean if dirty)
                6. Verify adequate airflow across condenser
                7. Check refrigerant charge level (requires gauges)
                
                **Escalation:**
                - Immediate: Page HVAC technician (refrigeration certified)
                - 30 minutes: Contact BARD support for diagnostics
                - 1 hour: If temperature rising, prepare emergency cooling
                - Lockout requires manual reset after repair
                
                **Recovery:** Manual reset required after pressure issue resolved and system verified by technician
              manual_close: 'YES'
              tags:
                - tag: Severity
                  value: Average
        - uuid: c7de888b28cf425ab6c7d4364ac61787
          name: 'Unit 2 Lockout'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.2.11.0]'
          key: bard.alarm.unit2Lockout
          delay: 5m
          history: 90d
          description: 'Lockout status for unit 2.'
          valuemap:
            name: 'BARD Alarm Status'
          tags:
            - tag: alarm
              value: lockout
            - tag: component
              value: refrigeration
            - tag: unit
              value: '2'
          triggers:
            - uuid: 0f852b27b57e4f35a164b4e2ef0a7cf5
              expression: 'last(/BARD MC4000 Series HVAC/bard.alarm.unit2Lockout)=1'
              name: 'Unit 2 Lockout detected'
              priority: HIGH
              description: |
                **Problem:** HVAC Unit 2 is in pressure lockout condition. Safety lockout has disabled the unit.
                
                **Impact:** Unit 2 is disabled due to refrigeration system pressure fault. Operating on Unit 1 only - 50% capacity.
                
                **Severity Rationale:** HIGH - Pressure lockout indicates refrigeration system problem. Requires technician service.
                
                **Immediate Actions:**
                1. Verify Unit 1 is operational
                2. Monitor room temperature
                3. DO NOT attempt to override lockout (safety feature)
                4. Check for visible refrigerant leaks
                
                **Troubleshooting Steps:**
                1. Check high pressure safety switch (should be red indicator)
                2. Check low pressure safety switch
                3. Inspect for refrigerant leaks (oil spots, hissing sound)
                4. Verify outdoor condenser fan is running
                5. Check for blocked condenser coils (clean if dirty)
                6. Verify adequate airflow across condenser
                7. Check refrigerant charge level (requires gauges)
                
                **Escalation:**
                - Immediate: Page HVAC technician (refrigeration certified)
                - 30 minutes: Contact BARD support for diagnostics
                - 1 hour: If temperature rising, prepare emergency cooling
                - Lockout requires manual reset after repair
                
                **Recovery:** Manual reset required after pressure issue resolved and system verified by technician
              manual_close: 'YES'
              tags:
                - tag: Severity
                  value: Average
        - uuid: 885bf9e654de4bc6aed588f27ebd695d
          name: 'Cooling Stage 1'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.7.1.0]'
          key: bard.cooling.stage1
          delay: 5m
          history: 90d
          description: 'Status of the first stage of the cooling system.'
          valuemap:
            name: 'BARD Cooling Stage'
          tags:
            - tag: component
              value: cooling
            - tag: stage
              value: '1'
        - uuid: 79eb8de4dbfb42a9b778fe2b43e733aa
          name: 'Cooling Stage 2'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.7.2.0]'
          key: bard.cooling.stage2
          delay: 5m
          history: 90d
          description: 'Status of the second stage of the cooling system.'
          valuemap:
            name: 'BARD Cooling Stage'
          tags:
            - tag: component
              value: cooling
            - tag: stage
              value: '2'
        - uuid: 793f6ad32c4642e3be4dd3ee29c27224
          name: 'Cooling Stage 3'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.7.3.0]'
          key: bard.cooling.stage3
          delay: 5m
          history: 90d
          description: 'Status of the third stage of the cooling system.'
          valuemap:
            name: 'BARD Cooling Stage'
          tags:
            - tag: component
              value: cooling
            - tag: stage
              value: '3'
        - uuid: 23da7bcfbce647cea52431aaa0b513e7
          name: 'Cooling Stage 4'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.7.4.0]'
          key: bard.cooling.stage4
          delay: 5m
          history: 90d
          description: 'Status of the fourth stage of the cooling system.'
          valuemap:
            name: 'BARD Cooling Stage'
          tags:
            - tag: component
              value: cooling
            - tag: stage
              value: '4'
        - uuid: 0d794ef9981d455c8e8e838709efaafb
          name: 'Heating Stage 1'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.7.7.0]'
          key: bard.heating.stage1
          delay: 5m
          history: 90d
          description: 'Status of the first stage of the heating system.'
          valuemap:
            name: 'BARD Heating Stage'
          tags:
            - tag: component
              value: heating
            - tag: stage
              value: '1'
        - uuid: fd71836a244c450d8b987c2adecafaf7
          name: 'Heating Stage 2'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.7.8.0]'
          key: bard.heating.stage2
          delay: 5m
          history: 90d
          description: 'Status of the second stage of the heating system.'
          valuemap:
            name: 'BARD Heating Stage'
          tags:
            - tag: component
              value: heating
            - tag: stage
              value: '2'
        - uuid: ae211eec8c834b8887f0ecab5a41cd3e
          name: 'Heating Stage 3'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.7.9.0]'
          key: bard.heating.stage3
          delay: 5m
          history: 90d
          description: 'Status of the third stage of the heating system.'
          valuemap:
            name: 'BARD Heating Stage'
          tags:
            - tag: component
              value: heating
            - tag: stage
              value: '3'
        - uuid: 3e2055cb825d4b8eabea98b54484adc9
          name: 'Heating Stage 4'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.7.10.0]'
          key: bard.heating.stage4
          delay: 5m
          history: 90d
          description: 'Status of the fourth stage of the heating system.'
          valuemap:
            name: 'BARD Heating Stage'
          tags:
            - tag: component
              value: heating
            - tag: stage
              value: '4'
        - uuid: fdba2fd3aeeb416698ab1bdec6ac4d0e
          name: 'Dehumidification Active'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.7.12.0]'
          key: bard.operation.dehumidification
          delay: 5m
          history: 90d
          description: 'Indicates whether dehumidification is currently active.'
          valuemap:
            name: 'BARD Dehumidification Status'
          tags:
            - tag: component
              value: dehumidification
        - uuid: 6b6b7a6da4004c41a4ba0a9d7d8a1c1f
          name: Date
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.1.4.0]'
          key: bard.product.date
          delay: 15m
          history: 90d
          value_type: TEXT
          description: 'The current date information from the system.'
          tags:
            - tag: component
              value: inventory
        - uuid: 8d28cc8bcb4d4f51b8fce7cc29c8a77c
          name: 'Model System 1'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.1.5.0]'
          key: bard.product.modelSystem1
          delay: 15m
          history: 90d
          value_type: TEXT
          description: 'Model information for system 1.'
          tags:
            - tag: component
              value: inventory
            - tag: unit
              value: '1'
        - uuid: 47ba6c7ef24d43b5aec4c47565e5b9d2
          name: 'Model System 2'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.1.7.0]'
          key: bard.product.modelSystem2
          delay: 15m
          history: 90d
          value_type: TEXT
          description: 'Model information for system 2.'
          tags:
            - tag: component
              value: inventory
            - tag: unit
              value: '2'
        - uuid: ed6d9dd7f3e34cafbf20b1a1c1f8c4cf
          name: Name
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.1.2.0]'
          key: bard.product.name
          delay: 15m
          history: 90d
          value_type: TEXT
          description: 'Name information for the system.'
          tags:
            - tag: component
              value: inventory
        - uuid: 0328fd31b9884cdcb4cfcc356558f41a
          name: 'Serial System 1'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.1.6.0]'
          key: bard.product.serialSystem1
          delay: 15m
          history: 90d
          value_type: TEXT
          description: 'Serial information for system 1.'
          tags:
            - tag: component
              value: inventory
            - tag: unit
              value: '1'
        - uuid: 7c2e1c1f8c8c405c9b1d7d1e7f2c2d2e
          name: 'Serial System 2'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.1.8.0]'
          key: bard.product.serialSystem2
          delay: 15m
          history: 90d
          value_type: TEXT
          description: 'Serial information for system 2.'
          tags:
            - tag: component
              value: inventory
            - tag: unit
              value: '2'
        - uuid: c6e96d5cc56c4a2ea2d8c68c10b4f4a0
          name: Site
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.1.1.0]'
          key: bard.product.site
          delay: 15m
          history: 90d
          value_type: TEXT
          description: 'Site information for the system.'
          tags:
            - tag: component
              value: inventory
        - uuid: 57fced7cc6e94c4b9d96ec2e62f5de3f
          name: Version
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.1.3.0]'
          key: bard.product.version
          delay: 15m
          history: 90d
          value_type: TEXT
          description: 'Version information for the system.'
          tags:
            - tag: component
              value: inventory
        - uuid: 96aa17570b424b08958c300a15c3d0ed
          name: 'Cooling Setpoint'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.4.1.0]'
          key: bard.setpoint.cooling
          delay: 15m
          history: 90d
          value_type: FLOAT
          units: °F
          description: 'The setpoint temperature for the cooling system.'
          tags:
            - tag: component
              value: setpoint
            - tag: type
              value: cooling
        - uuid: 5feee6adc6a445559eb0895d7fa49537
          name: 'Heating Setpoint'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.4.2.0]'
          key: bard.setpoint.heating
          delay: 15m
          history: 90d
          value_type: FLOAT
          units: °F
          description: 'The setpoint temperature for the heating system.'
          tags:
            - tag: component
              value: setpoint
            - tag: type
              value: heating
        - uuid: 2f7fe4275a024390bf51cf2f1ccdaa4c
          name: 'High Temp Alarm 1 Setpoint'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.4.3.0]'
          key: bard.setpoint.highTempAlarm1
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: °F
          description: 'Setpoint temperature for the high temperature alarm 1.'
          tags:
            - tag: component
              value: setpoint
            - tag: type
              value: high-temp-alarm-1
        - uuid: 079e574d88ac4292ab4defc46f8a7b85
          name: 'High Temp Alarm 2 Setpoint'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.4.4.0]'
          key: bard.setpoint.highTempAlarm2
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: °F
          description: 'Setpoint temperature for the high temperature alarm 2.'
          tags:
            - tag: component
              value: setpoint
            - tag: type
              value: high-temp-alarm-2
        - uuid: 315007f696bb44e8a7463c28e87bdac6
          name: 'Low Temp Alarm Setpoint'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.4.5.0]'
          key: bard.setpoint.lowTempAlarm
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: °F
          description: 'Setpoint temperature for the low temperature alarm.'
          tags:
            - tag: component
              value: setpoint
            - tag: type
              value: low-temp-alarm
        - uuid: 5b2e3d4a0b5c4922b6fcd9e0c8fa9078
          name: 'Alarm Board Connected'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.5.2.0]'
          key: bard.status.alarmBoardConnected
          delay: 15m
          history: 90d
          description: 'Indicates if the alarm board is connected.'
          valuemap:
            name: 'Alarm Board Connection Status'
          tags:
            - tag: component
              value: alarm-board
            - tag: status
              value: connection
        - uuid: 2d8e4f5a9c7b4c4fa1e0b3a7d2c9f6b0
          name: 'Comfort Mode'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.5.3.0]'
          key: bard.status.comfortMode
          delay: 15m
          history: 90d
          description: 'Indicates if comfort mode is enabled.'
          valuemap:
            name: 'Comfort Mode Status'
          tags:
            - tag: component
              value: operation
            - tag: status
              value: comfort-mode
        - uuid: 1c3f5b7a0d9e4f2b87c6a5d4e9b8c0f1
          name: 'Controller Locked'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.5.4.0]'
          key: bard.status.controllerLocked
          delay: 15m
          history: 90d
          description: 'Indicates if the controller is locked.'
          valuemap:
            name: 'Controller Locked Status'
          tags:
            - tag: component
              value: controller
            - tag: status
              value: locked
          triggers:
            - uuid: 7b3a2e8c4d0f42e7a6c5d3b1e9f4c7a8
              expression: 'last(/BARD MC4000 Series HVAC/bard.status.controllerLocked)=1'
              name: 'Controller is Locked'
              priority: AVERAGE
              manual_close: 'YES'
              tags:
                - tag: Severity
                  value: Average
        - uuid: 4f6b8a0d7e3c41f2b8d6c7a5e9b0f1a2
          name: 'General Status'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.5.5.0]'
          key: bard.status.general
          delay: 5m
          history: 90d
          description: 'General status indicator.'
          tags:
            - tag: general
              value: status
        - uuid: 48a9c8b5b90e4a5e9b5dacec5b7896f5
          name: 'Generator Running'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.5.1.0]'
          key: bard.status.generatorRunning
          delay: 5m
          history: 90d
          description: 'Indicates if the generator is currently running.'
          valuemap:
            name: 'Generator Running Status'
          tags:
            - tag: component
              value: power
            - tag: status
              value: generator
          triggers:
            - uuid: 2d6a9b28fc714e0e94ba3e80c4ff4d0e
              expression: 'last(/BARD MC4000 Series HVAC/bard.status.generatorRunning)=1'
              name: 'Generator is Running'
              priority: AVERAGE
              manual_close: 'YES'
              tags:
                - tag: Severity
                  value: Average
        - uuid: 077fe2cc89cf4ce5b54e99238f5b4e6f
          name: 'Lead Unit HVAC 1'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.6.1.0]'
          key: bard.system.leadUnitHVAC1
          delay: 5m
          history: 90d
          description: 'Role and unit information for the lead HVAC unit 1.'
          valuemap:
            name: 'BARD Lead/Lag Status'
          tags:
            - tag: component
              value: system
            - tag: role
              value: lead-lag
            - tag: unit
              value: '1'
        - uuid: e96ac932ec9c48bb9ca8338636751259
          name: 'Lead Unit HVAC 2'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.6.2.0]'
          key: bard.system.leadUnitHVAC2
          delay: 5m
          history: 90d
          description: 'Role and unit information for the lead HVAC unit 2.'
          valuemap:
            name: 'BARD Lead/Lag Status'
          tags:
            - tag: component
              value: system
            - tag: role
              value: lead-lag
            - tag: unit
              value: '2'
        - uuid: f98e80f52c1c45d08c74f4da3a00e171
          name: 'System Status'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.6.5.0]'
          key: bard.system.status
          delay: 5m
          history: 90d
          description: 'Overall status of the system.'
          tags:
            - tag: status
              value: system
        - uuid: c03fbbddeea441b19de401ab86f086bb
          name: 'Unit 1 Fan'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.6.3.0]'
          key: bard.system.unit1Fan
          delay: 5m
          history: 90d
          description: 'Status of the fan component in unit 1.'
          valuemap:
            name: 'BARD Fan Status'
          tags:
            - tag: component
              value: fan
            - tag: unit
              value: '1'
        - uuid: 6ae651dd5739498c96d14930ceddccd0
          name: 'Unit 2 Fan'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.6.4.0]'
          key: bard.system.unit2Fan
          delay: 5m
          history: 90d
          description: 'Status of the fan component in unit 2.'
          valuemap:
            name: 'BARD Fan Status'
          tags:
            - tag: component
              value: fan
            - tag: unit
              value: '2'
        - uuid: fd7b5e5e17f9473d9b5b1c1c8c8c8c8c
          name: 'Local Room Temp'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.3.1.0]'
          key: bard.temp.localRoom
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: °F
          description: 'Temperature reading from the local room sensor.'
          tags:
            - tag: component
              value: temperature
            - tag: sensor
              value: local
        - uuid: cd7ef127e9e141a6bf5518a56ad23b3d
          name: 'Remote Sensor 1 Temp'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.3.2.0]'
          key: bard.temp.remoteSensor1
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: °F
          description: 'Temperature reading from remote sensor 1.'
          tags:
            - tag: component
              value: temperature
            - tag: sensor
              value: remote-1
        - uuid: a359b5f18c2d49818769b3d0fd318496
          name: 'Remote Sensor 2 Temp'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.3.3.0]'
          key: bard.temp.remoteSensor2
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: °F
          description: 'Temperature reading from remote sensor 2.'
          tags:
            - tag: component
              value: temperature
            - tag: sensor
              value: remote-2
        - uuid: dee64359697a401c87279a6e97ad9d39
          name: 'ICMP ping'
          type: SIMPLE
          key: icmpping
          history: 1w
          valuemap:
            name: 'Service state'
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: ca68ca69c17c4046b988477972b66ee2
              expression: 'max(/BARD MC4000 Series HVAC/icmpping,#3)=0'
              name: 'BARD MC4000 Series: Unavailable by ICMP ping'
              priority: HIGH
              description: |
                **Problem:** Last three ICMP ping attempts returned timeout. Device is not responding to network layer connectivity checks.
                
                **Impact:** HVAC controller is unreachable via network. Cannot collect monitoring data. HVAC system may be offline or network connectivity is lost.
                
                **Severity Rationale:** HIGH - Loss of connectivity means loss of visibility into critical HVAC system. Requires immediate investigation.
                
                **Troubleshooting Steps:**
                1. Verify device power status (check physical unit or PDU)
                2. Check network cable connections
                3. Verify switch port status and VLANs
                4. Test ping from multiple sources to isolate network path issues
                5. Check firewall rules (ICMP must be permitted)
                6. Verify device IP configuration hasn't changed
                
                **Escalation:**
                - Immediate: Page network team to investigate connectivity
                - 15 minutes: If no response, dispatch technician to check physical device
                - 30 minutes: Escalate to facility manager if HVAC system offline
                
                **Recovery:** Problem will auto-recover when ICMP ping succeeds
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: availability
        - uuid: d7f73680149a4e7aaf95c00339627185
          name: 'System description'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.1.0]'
          key: system.descr
          delay: 1h
          history: 90d
          value_type: CHAR
          description: 'MIB-2 sysDescr - A textual description of the entity including hardware platform, operating system, and software version.'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
        - uuid: f2697514d0e44656b28e43d77f880dc3
          name: 'System location'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.6.0]'
          key: system.location
          delay: 1h
          history: 90d
          value_type: CHAR
          description: 'MIB-2 sysLocation - Physical location of this node (e.g., telephone closet, 3rd floor). Critical for technician dispatch.'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
        - uuid: 24a3b5192456442e9d27f1dd3b8bb622
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.5.0]'
          key: system.name
          delay: 1h
          history: 90d
          value_type: CHAR
          description: 'MIB-2 sysName - An administratively-assigned name for this managed node. Typically the hostname.'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
        - uuid: 113d8a423f51464eb54b5fda0212eebe
          name: 'Temperature 4'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.44433.1.1.3.4.0]'
          key: Temperatures.4
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: °F
          description: 'Temperature reading from sensor 4.'
          tags:
            - tag: temperature
              value: sensor4
        - uuid: 1ac29ff9b580482fadcda52079150670
          name: 'SNMP agent availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          history: 7d
          valuemap:
            name: zabbix.host.available
          tags:
            - tag: component
              value: health
            - tag: component
              value: snmp
          triggers:
            - uuid: 2a4965d7073247419b669e1475404bfc
              expression: 'max(/BARD MC4000 Series HVAC/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
              name: 'BARD MC4000 Series: No SNMP data collection'
              priority: WARNING
              description: |
                **Problem:** SNMP data collection has failed. Zabbix server cannot communicate with SNMP agent on BARD controller.
                
                **Impact:** All HVAC monitoring data collection has stopped. Temperature, alarm status, and system operation data is not being updated.
                
                **Severity Rationale:** WARNING - SNMP failure means monitoring is blind, but HVAC system may still be operational.
                
                **Troubleshooting Steps:**
                1. Verify ICMP ping is working (if ping also fails, network issue)
                2. Check SNMP service is running on controller
                3. Verify SNMP community string or credentials are correct
                4. Test SNMP manually: snmpwalk -v2c -c <community> <ip> 1.3.6.1.4.1.44433.1.1
                5. Check firewall rules (UDP 161 must be permitted)
                6. Review Zabbix server logs for SNMP timeout details
                7. Verify controller hasn't been reconfigured with different SNMP settings
                
                **Escalation:**
                - 5 minutes: Alert HVAC monitoring team
                - 15 minutes: If ping works but SNMP fails, verify configuration
                - 30 minutes: Escalate to HVAC vendor support if configuration is correct
                
                **Recovery:** Problem will auto-recover when SNMP communication resumes
              manual_close: 'YES'
              dependencies:
                - name: 'BARD MC4000 Series: Unavailable by ICMP ping'
                  expression: 'max(/BARD MC4000 Series HVAC/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
      tags:
        - tag: Application
          value: HVAC
        - tag: 'Device Type'
          value: 'MC4000 Series'
        - tag: Monitoring
          value: SNMP
        - tag: Vendor
          value: BARD
      macros:
        - macro: '{$ICMP.LOSS.WARN}'
          value: '20'
          description: 'ICMP packet loss warning threshold in percent'
        - macro: '{$ICMP.RESPONSE_TIME.WARN}'
          value: '0.15'
          description: 'ICMP response time warning threshold in seconds'
        - macro: '{$SNMP.TIMEOUT}'
          value: 5m
          description: 'Time to wait before considering SNMP unavailable'
        - macro: '{$SNMP_COMMUNITY}'
          value: public
        - macro: '{$TEMP.HIGH.WARN}'
          value: '85'
          description: 'High temperature warning threshold in °F'
        - macro: '{$TEMP.LOW.WARN}'
          value: '55'
          description: 'Low temperature warning threshold in °F'
      dashboards:
        - uuid: c109d576b8b74b7db14640ecc7180089
          name: 'BARD MC4000 Series HVAC Overview'
          pages:
            - widgets:
                - type: problemsbysv
                  width: '36'
                  height: '3'
                  fields:
                    - type: INTEGER
                      name: severities.0
                      value: '0'
                    - type: INTEGER
                      name: severities.1
                      value: '1'
                    - type: INTEGER
                      name: severities.2
                      value: '2'
                    - type: INTEGER
                      name: severities.3
                      value: '3'
                    - type: INTEGER
                      name: severities.4
                      value: '4'
                    - type: INTEGER
                      name: severities.5
                      value: '5'
                - type: item
                  'y': '3'
                  width: '12'
                  height: '4'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Local Room'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'BARD MC4000 Series HVAC'
                        key: bard.temp.localRoom
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                - type: graph
                  'y': '7'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'BARD MC4000 Series HVAC'
                        name: 'BARD Temperature Setpoints'
                - type: graph
                  'y': '12'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'BARD MC4000 Series HVAC'
                        name: 'BARD Cooling Stages'
                - type: graph
                  'y': '17'
                  width: '72'
                  height: '4'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'BARD MC4000 Series HVAC'
                        name: 'BARD System Status'
                - type: item
                  x: '12'
                  'y': '3'
                  width: '12'
                  height: '4'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Remote 1'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'BARD MC4000 Series HVAC'
                        key: bard.temp.remoteSensor1
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                - type: item
                  x: '24'
                  'y': '3'
                  width: '12'
                  height: '4'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Remote 2'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'BARD MC4000 Series HVAC'
                        key: bard.temp.remoteSensor2
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                - type: problems
                  x: '36'
                  width: '36'
                  height: '3'
                  fields:
                    - type: INTEGER
                      name: show
                      value: '3'
                    - type: INTEGER
                      name: show_tags
                      value: '3'
                - type: item
                  x: '36'
                  'y': '3'
                  width: '12'
                  height: '4'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Lead Unit 1'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'BARD MC4000 Series HVAC'
                        key: bard.system.leadUnitHVAC1
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                - type: graph
                  x: '36'
                  'y': '7'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'BARD MC4000 Series HVAC'
                        name: 'BARD Temperature Overview'
                - type: graph
                  x: '36'
                  'y': '12'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'BARD MC4000 Series HVAC'
                        name: 'BARD Heating Stages'
                - type: item
                  x: '48'
                  'y': '3'
                  width: '12'
                  height: '4'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Lead Unit 2'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'BARD MC4000 Series HVAC'
                        key: bard.system.leadUnitHVAC2
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                - type: item
                  x: '60'
                  'y': '3'
                  width: '12'
                  height: '4'
                  fields:
                    - type: STRING
                      name: description
                      value: Generator
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'BARD MC4000 Series HVAC'
                        key: bard.status.generatorRunning
                    - type: INTEGER
                      name: show.0
                      value: '1'
                    - type: INTEGER
                      name: show.1
                      value: '2'
      valuemaps:
        - uuid: 82124ddd94164ee3be67cc5fe42d5866
          name: 'Alarm Board Connection Status'
          mappings:
            - value: '0'
              newvalue: 'NO'
            - value: '1'
              newvalue: 'YES'
        - uuid: 8d89bc6839274e22b789a33d3cedb180
          name: 'BARD Alarm Status'
          mappings:
            - value: '0'
              newvalue: OK
            - value: '1'
              newvalue: ALARM
        - uuid: 058635bb69a94fe197b413b1b347d0f0
          name: 'BARD Cooling Stage'
          mappings:
            - value: '0'
              newvalue: 'OFF'
            - value: '1'
              newvalue: 'ON'
        - uuid: b58f69556dd347fc8267c710543db314
          name: 'BARD Dehumidification Status'
          mappings:
            - value: '0'
              newvalue: 'NO'
            - value: '1'
              newvalue: 'YES'
        - uuid: c32f48f2fd864ee8a5b29e299eaa3aa4
          name: 'BARD DISABLED/ENABLED Status'
          mappings:
            - value: '0'
              newvalue: DISABLED
            - value: '1'
              newvalue: ENABLED
        - uuid: 1b0fdd6105884b3db3986cd6626b09ff
          name: 'BARD Fan Status'
          mappings:
            - value: '0'
              newvalue: 'OFF'
            - value: '1'
              newvalue: 'ON'
        - uuid: c82a94005ab94567b46ac4c23bcf886d
          name: 'BARD Heating Stage'
          mappings:
            - value: '0'
              newvalue: 'OFF'
            - value: '1'
              newvalue: 'ON'
        - uuid: 82124ddd94164ee3be67cc5fe42d5865
          name: 'BARD Lead/Lag Status'
          mappings:
            - value: '0'
              newvalue: LAG
            - value: '1'
              newvalue: LEAD
        - uuid: 4f0e0792173249bbab75e9bf335ff5f0
          name: 'BARD ON/OFF Status'
          mappings:
            - value: '0'
              newvalue: 'OFF'
            - value: '1'
              newvalue: 'ON'
        - uuid: e7a53ebead5c485da4b845a6942e1bb0
          name: 'BARD YES/NO Status'
          mappings:
            - value: '0'
              newvalue: 'NO'
            - value: '1'
              newvalue: 'YES'
        - uuid: 82124ddd94164ee3be67cc5fe42d586a
          name: 'Comfort Mode Status'
          mappings:
            - value: '0'
              newvalue: DISABLED
            - value: '1'
              newvalue: ENABLED
        - uuid: 82124ddd94164ee3be67cc5fe42d586c
          name: 'Controller Locked Status'
          mappings:
            - value: '0'
              newvalue: 'NO'
            - value: '1'
              newvalue: 'YES'
        - uuid: 82124ddd94164ee3be67cc5fe42d585a
          name: 'Generator Running Status'
          mappings:
            - value: '0'
              newvalue: 'NO'
            - value: '1'
              newvalue: 'YES'
        - uuid: 388439f19bd04364a08f25322afa27c5
          name: 'Service state'
          mappings:
            - value: '0'
              newvalue: Down
            - value: '1'
              newvalue: Up
        - uuid: cea4b90e3aba4bda8b3f44abc05e89d4
          name: zabbix.host.available
          mappings:
            - value: '0'
              newvalue: 'not available'
            - value: '1'
              newvalue: available
            - value: '2'
              newvalue: unknown
  graphs:
    - uuid: b76d492a36254a74b7994a2b4b601aaa
      name: 'BARD Cooling Stages'
      height: '300'
      yaxismax: '1'
      ymin_type_1: FIXED
      ymax_type_1: FIXED
      graph_items:
        - drawtype: FILLED_REGION
          color: 1A7C11
          calc_fnc: MAX
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.cooling.stage1
        - sortorder: '1'
          drawtype: FILLED_REGION
          color: 2774A4
          calc_fnc: MAX
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.cooling.stage2
        - sortorder: '2'
          drawtype: FILLED_REGION
          color: F63100
          calc_fnc: MAX
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.cooling.stage3
        - sortorder: '3'
          drawtype: FILLED_REGION
          color: A54F10
          calc_fnc: MAX
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.cooling.stage4
    - uuid: e762ce6f254544618bd4fc0b1a7f9793
      name: 'BARD Heating Stages'
      height: '300'
      yaxismax: '1'
      ymin_type_1: FIXED
      ymax_type_1: FIXED
      graph_items:
        - drawtype: FILLED_REGION
          color: C7A72D
          calc_fnc: MAX
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.heating.stage1
        - sortorder: '1'
          drawtype: FILLED_REGION
          color: F7941D
          calc_fnc: MAX
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.heating.stage2
        - sortorder: '2'
          drawtype: FILLED_REGION
          color: FC6EA3
          calc_fnc: MAX
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.heating.stage3
        - sortorder: '3'
          drawtype: FILLED_REGION
          color: 6C59DC
          calc_fnc: MAX
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.heating.stage4
    - uuid: de9b590e01a64adeb2df8258ec7cd72c
      name: 'BARD System Status'
      yaxismax: '1'
      ymin_type_1: FIXED
      ymax_type_1: FIXED
      graph_items:
        - drawtype: FILLED_REGION
          color: 1A7C11
          calc_fnc: MAX
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.system.unit1Fan
        - sortorder: '1'
          drawtype: FILLED_REGION
          color: 2774A4
          calc_fnc: MAX
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.system.unit2Fan
    - uuid: 211a8e81dfe747c79001ba77bcfcb3f2
      name: 'BARD Temperature Overview'
      height: '400'
      graph_items:
        - color: 1A7C11
          calc_fnc: ALL
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.temp.localRoom
        - sortorder: '1'
          color: F63100
          calc_fnc: ALL
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.temp.remoteSensor1
        - sortorder: '2'
          color: 2774A4
          calc_fnc: ALL
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.temp.remoteSensor2
        - sortorder: '3'
          color: A54F10
          yaxisside: RIGHT
          calc_fnc: ALL
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.setpoint.cooling
        - sortorder: '4'
          color: F7941D
          yaxisside: RIGHT
          calc_fnc: ALL
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.setpoint.heating
    - uuid: 410d300201a640a187257a9450e34c89
      name: 'BARD Temperature Setpoints'
      height: '250'
      graph_items:
        - drawtype: BOLD_LINE
          color: C7A72D
          calc_fnc: ALL
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.setpoint.highTempAlarm1
        - sortorder: '1'
          drawtype: BOLD_LINE
          color: F63100
          calc_fnc: ALL
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.setpoint.highTempAlarm2
        - sortorder: '2'
          drawtype: BOLD_LINE
          color: 2774A4
          calc_fnc: ALL
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.setpoint.lowTempAlarm
        - sortorder: '3'
          color: 1A7C11
          calc_fnc: ALL
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.setpoint.cooling
        - sortorder: '4'
          color: F7941D
          calc_fnc: ALL
          item:
            host: 'BARD MC4000 Series HVAC'
            key: bard.setpoint.heating
