<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:39:54Z</date><groups><group><name>SAN</name></group></groups><templates><template><template>3par_monitoring</template><name>3par</name><description>## Overview

Beta TolkitPosh for 3par-7200 monitorig


Please contact with questions in the mail or telegram


Просьба обращаться с вопросами в почту или telegram


For multiple unique problems with host windows and powershell 3par toolkit HPE. I'm going to redo everything under linux Until the end of 2018, I'm going to have time


I apologize for not informative in use, I deliberately raised the threshold of entry so that no one would destroy the data in the storage system


По многочисленным и уникальным проблемам с хостами windows и powershell 3par toolkit HPE. Я собираюсь переделать все под linux. До конца 2018 года собираюсь успеть


Прошу прощения за не информативность в использовании, я намеренно повысил порог вхождения чтоб никто не уничтожил данные в СХД


&lt;https://github.com/Toh3mi/zabbix-3par&gt;


mail [x.tohemi@gmail.com](mailto:x.tohemi@gmail.com)


telegram @toh3mi


 



## Author

Toh3mi

</description><groups><group><name>SAN</name></group></groups><applications><application><name>Ports</name></application><application><name>SAN</name></application></applications><items><item><name>3par Json PDdata</name><key>3parPDData</key><history>30d</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>SAN</name></application></applications></item><item><name>3par Json PortsData</name><key>3parPortsData</key><history>30d</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>SAN</name></application></applications></item><item><name>3par Json VVData</name><key>3parVVData</key><history>30d</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>SAN</name></application></applications></item><item><name>3par Json StatLink</name><key>StatLinkNew</key><delay>90s</delay><history>30d</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>SAN</name></application></applications><request_method>POST</request_method></item><item><name>3par Json StatPD</name><key>StatPDNew</key><delay>30s</delay><history>30d</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>SAN</name></application></applications><request_method>POST</request_method></item><item><name>3par Json StatPort</name><key>StatPortNew</key><delay>15s</delay><history>30d</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>SAN</name></application></applications><request_method>POST</request_method></item><item><name>3par Json StatVlun</name><key>StatVlunNew</key><delay>15s</delay><history>7d</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>SAN</name></application></applications></item><item><name>3par Json StatVV</name><key>StatVVNew</key><delay>15s</delay><history>7d</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>SAN</name></application></applications><request_method>POST</request_method></item></items><discovery_rules><discovery_rule><name>LLD Json 3parDisk data</name><key>3parPDCheck</key><delay>30m</delay><lifetime>7d</lifetime><item_prototypes><item_prototype><name>3parDisk FREE B {#RPM}K {#TYPE} {#DISKID} {#CAGEPOS}</name><type>DEPENDENT</type><key>3parDiskFREEB[&quot;{#DISKID}&quot;,&quot;{#CAGEPOS}&quot;]</key><delay>0</delay><history>7d</history><units>B</units><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parstat</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#DISKID}'].FREE</params></step><step><type>MULTIPLIER</type><params>1024</params></step><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing><master_item><key>3parPDData</key></master_item></item_prototype><item_prototype><name>3parDisk STATE {#RPM}K {#TYPE} {#DISKID} {#CAGEPOS}</name><type>DEPENDENT</type><key>3parDiskSTATE[&quot;{#DISKID}&quot;,&quot;{#CAGEPOS}&quot;]</key><delay>0</delay><history>7d</history><trends>0</trends><value_type>LOG</value_type><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parstat</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#DISKID}'].STATE</params></step></preprocessing><master_item><key>3parPDData</key></master_item><trigger_prototypes><trigger_prototype><expression>{str(normal,#1)}=0</expression><name>3parDisk STATE {#DISKID} {#CAGEPOS} Проверь срочно диск!!!</name><manual_close>YES</manual_close></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>3parDisk TOTAL B {#RPM}K {#TYPE} {#DISKID} {#CAGEPOS}</name><type>DEPENDENT</type><key>3parDiskTOTALB[&quot;{#DISKID}&quot;,&quot;{#CAGEPOS}&quot;]</key><delay>0</delay><history>7d</history><trends>90d</trends><units>B</units><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parstat</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#DISKID}'].TOTAL</params></step><step><type>MULTIPLIER</type><params>1024</params></step><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing><master_item><key>3parPDData</key></master_item></item_prototype><item_prototype><name>3parDisk IO/s {#RPM}K {#TYPE} {#DISKID} {#CAGEPOS}</name><type>DEPENDENT</type><key>3pardisk[&quot;{#DISKID}&quot;,&quot;{#CAGEPOS}&quot;,&quot;IOCur&quot;]</key><delay>0</delay><history>7d</history><trends>90d</trends><value_type>FLOAT</value_type><units>IO/s</units><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parstat</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#DISKID}'].IOCur</params></step></preprocessing><master_item><key>StatPDNew</key></master_item></item_prototype><item_prototype><name>3parDisk B/s {#RPM}K {#TYPE} {#DISKID} {#CAGEPOS}</name><type>DEPENDENT</type><key>3pardisk[&quot;{#DISKID}&quot;,&quot;{#CAGEPOS}&quot;,&quot;KBCur&quot;]</key><delay>0</delay><history>7d</history><trends>90d</trends><value_type>FLOAT</value_type><units>B/s</units><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parstat</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#DISKID}'].KBCur</params></step><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing><master_item><key>StatPDNew</key></master_item></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>3parDisk USED {#RPM}K {#TYPE} {#DISKID} {#CAGEPOS}</name><yaxismax>0</yaxismax><show_work_period>NO</show_work_period><show_triggers>NO</show_triggers><type>PIE</type><show_3d>YES</show_3d><graph_items><graph_item><color>1A7C11</color><item><host>3par_monitoring</host><key>3parDiskFREEB[&quot;{#DISKID}&quot;,&quot;{#CAGEPOS}&quot;]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>FF0000</color><type>GRAPH_SUM</type><item><host>3par_monitoring</host><key>3parDiskTOTALB[&quot;{#DISKID}&quot;,&quot;{#CAGEPOS}&quot;]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><name>LLD Json 3parPortCheck data</name><key>3parPortCheck</key><delay>1h</delay><lifetime>7d</lifetime><item_prototypes><item_prototype><name>3parPort B/s {#PROTOCOL} {#DEVICE} {#LABEL}</name><type>DEPENDENT</type><key>3parPortB[&quot;{#DEVICE}&quot;]</key><delay>0</delay><history>14d</history><trends>90d</trends><value_type>FLOAT</value_type><units>B/s</units><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parStatPort</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#DEVICE}'].KBCur</params></step><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing><master_item><key>StatPortNew</key></master_item></item_prototype><item_prototype><name>3parPort IOSzCur {#PROTOCOL} {#DEVICE} {#LABEL}</name><type>DEPENDENT</type><key>3parPortIOSzCur[&quot;{#DEVICE}&quot;]</key><delay>0</delay><history>14d</history><trends>90d</trends><value_type>FLOAT</value_type><units>IO</units><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parStatPort</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#DEVICE}'].IOSzCur</params></step></preprocessing><master_item><key>StatPortNew</key></master_item></item_prototype><item_prototype><name>3parPort IO/s {#PROTOCOL} {#DEVICE} {#LABEL}</name><type>DEPENDENT</type><key>3parPortIO[&quot;{#DEVICE}&quot;]</key><delay>0</delay><history>14d</history><trends>90d</trends><value_type>FLOAT</value_type><units>IO/s</units><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parStatPort</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#DEVICE}'].IOCur</params></step></preprocessing><master_item><key>StatPortNew</key></master_item></item_prototype><item_prototype><name>3parPort STATE {#PROTOCOL} {#DEVICE} {#LABEL} Port {#PORTWWN} Node {#NODEWWN}</name><type>DEPENDENT</type><key>3parPortSTATE[&quot;{#PROTOCOL}&quot;,&quot;{#DEVICE}&quot;,&quot;{#LABEL}&quot;,&quot;{#PORTWWN}&quot;]</key><delay>0</delay><history>30d</history><trends>0</trends><value_type>LOG</value_type><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parStatPort</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#DEVICE}'].STATE</params></step></preprocessing><master_item><key>3parPortsData</key></master_item><trigger_prototypes><trigger_prototype><expression>{diff()}=1</expression><name>3parPort Статус {#PROTOCOL} {#DEVICE} {#LABEL} {#PORTWWN} не готов. СРОЧНО ПРОВЕРИТЬ!!!</name><priority>DISASTER</priority><manual_close>YES</manual_close></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>3parPort SvtCur {#PROTOCOL} {#DEVICE} {#LABEL}</name><type>DEPENDENT</type><key>3parPortSvtCur[&quot;{#DEVICE}&quot;]</key><delay>0</delay><history>14d</history><trends>90d</trends><value_type>FLOAT</value_type><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parStatPort</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#DEVICE}'].SvtCur</params></step></preprocessing><master_item><key>StatPortNew</key></master_item></item_prototype><item_prototype><name>3parPort TYPE {#PROTOCOL} {#DEVICE} {#LABEL} Port {#PORTWWN} Node {#NODEWWN}</name><type>DEPENDENT</type><key>3parPortTYPE[&quot;{#PROTOCOL}&quot;,&quot;{#DEVICE}&quot;,&quot;{#LABEL}&quot;,&quot;{#PORTWWN}&quot;]</key><delay>0</delay><history>30d</history><trends>0</trends><value_type>LOG</value_type><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parStatPort</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#DEVICE}'].TYPE</params></step></preprocessing><master_item><key>3parPortsData</key></master_item><trigger_prototypes><trigger_prototype><expression>{str(free,#1)}=1</expression><name>3parPort Тип {#PROTOCOL} {#DEVICE} {#LABEL} {#PORTWWN} в статусе Free. СРОЧНО ПЕРЕПРОВЕРИТЬ!!!</name><priority>DISASTER</priority><manual_close>YES</manual_close></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>LLD Json 3parVV data</name><key>3parVVCheck</key><delay>1h</delay><lifetime>7d</lifetime><item_prototypes><item_prototype><name>3parVV B/s {#ID} {#PROV} {#NAME}</name><type>DEPENDENT</type><key>3parVVB[&quot;{#ID}&quot;,&quot;{#PROV}&quot;,&quot;{#NAME}&quot;]</key><delay>0</delay><history>14d</history><trends>90d</trends><value_type>FLOAT</value_type><units>B/s</units><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parVVStat</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#NAME}'].KBCUR</params></step><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing><master_item><key>StatVVNew</key></master_item></item_prototype><item_prototype><name>3parVV IO/s {#ID} {#PROV} {#NAME}</name><type>DEPENDENT</type><key>3parVVIO[&quot;{#ID}&quot;,&quot;{#PROV}&quot;,&quot;{#NAME}&quot;]</key><delay>0</delay><history>14d</history><trends>90d</trends><value_type>FLOAT</value_type><units>IO/s</units><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parVVStat</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#NAME}'].IOCUR</params></step></preprocessing><master_item><key>StatVVNew</key></master_item></item_prototype><item_prototype><name>3parVV STATE {#ID} {#PROV} {#NAME}</name><type>DEPENDENT</type><key>3parVVSTATE[&quot;{#ID}&quot;,&quot;{#PROV}&quot;,&quot;{#NAME}&quot;]</key><delay>0</delay><history>30d</history><trends>0</trends><value_type>LOG</value_type><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parVVStat</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#NAME}'].STATE</params></step></preprocessing><master_item><key>3parVVData</key></master_item><trigger_prototypes><trigger_prototype><expression>{logsource(normal)}=0</expression><name>3parVVSTATE {#ID} {#PROV} {#NAME} Warning not normal</name><priority>DISASTER</priority><manual_close>YES</manual_close></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>3parVV TOTAL B {#ID} {#PROV} {#NAME}</name><type>DEPENDENT</type><key>3parVVTOTALB[&quot;{#ID}&quot;,&quot;{#PROV}&quot;,&quot;{#NAME}&quot;]</key><delay>0</delay><history>30d</history><trends>90d</trends><units>B</units><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parVVStat</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#NAME}'].TOTAL</params></step><step><type>MULTIPLIER</type><params>1024</params></step><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing><master_item><key>3parVVData</key></master_item></item_prototype><item_prototype><name>3parVV USED B {#ID} {#PROV} {#NAME}</name><type>DEPENDENT</type><key>3parVVUSEDB[&quot;{#ID}&quot;,&quot;{#PROV}&quot;,&quot;{#NAME}&quot;]</key><delay>0</delay><history>30d</history><trends>90d</trends><units>B</units><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parVVStat</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#NAME}'].USED</params></step><step><type>MULTIPLIER</type><params>1024</params></step><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing><master_item><key>3parVVData</key></master_item></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>3parVV SIZE {#ID} {#PROV} {#NAME}</name><yaxismax>0</yaxismax><show_work_period>NO</show_work_period><show_triggers>NO</show_triggers><type>EXPLODED</type><show_3d>YES</show_3d><graph_items><graph_item><color>00FF00</color><type>GRAPH_SUM</type><item><host>3par_monitoring</host><key>3parVVTOTALB[&quot;{#ID}&quot;,&quot;{#PROV}&quot;,&quot;{#NAME}&quot;]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>3par_monitoring</host><key>3parVVUSEDB[&quot;{#ID}&quot;,&quot;{#PROV}&quot;,&quot;{#NAME}&quot;]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><name>LLD Json 3parVlun data</name><key>StatVlunCheck</key><delay>30m</delay><lifetime>7d</lifetime><item_prototypes><item_prototype><name>3parVLun B/s {#NAMEVLUN}</name><type>DEPENDENT</type><key>3parVLunB[&quot;{#NAMEVLUN}&quot;]</key><delay>0</delay><history>14d</history><trends>90d</trends><value_type>FLOAT</value_type><units>B/s</units><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parStat</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#NAMEVLUN}'].KBCur</params></step><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing><master_item><key>StatVlunNew</key></master_item></item_prototype><item_prototype><name>3parVLun IO/s {#NAMEVLUN}</name><type>DEPENDENT</type><key>3parVLunIO[&quot;{#NAMEVLUN}&quot;]</key><delay>0</delay><history>14d</history><trends>90d</trends><value_type>FLOAT</value_type><units>IO/s</units><applications><application><name>SAN</name></application></applications><application_prototypes><application_prototype><name>3parJson</name></application_prototype><application_prototype><name>3parStat</name></application_prototype></application_prototypes><preprocessing><step><type>JSONPATH</type><params>$['{#NAMEVLUN}'].IOCur</params></step></preprocessing><master_item><key>StatVlunNew</key></master_item></item_prototype></item_prototypes></discovery_rule></discovery_rules><screens><screen><name>3par data</name><hsize>2</hsize><vsize>1</vsize><screen_items><screen_item><resourcetype>20</resourcetype><style>0</style><resource><name>3parDisk USED {#RPM}K {#TYPE} {#DISKID} {#CAGEPOS}</name><host>3par_monitoring</host></resource><width>500</width><height>100</height><x>0</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>2</max_columns></screen_item><screen_item><resourcetype>20</resourcetype><style>0</style><resource><name>3parVV SIZE {#ID} {#PROV} {#NAME}</name><host>3par_monitoring</host></resource><width>500</width><height>100</height><x>1</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>2</max_columns></screen_item></screen_items></screen></screens></template></templates></zabbix_export>
