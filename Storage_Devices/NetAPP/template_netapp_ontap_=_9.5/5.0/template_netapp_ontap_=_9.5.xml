<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T22:05:06Z</date><groups><group><name>Templates</name></group></groups><templates><template><template>Module Netapp OS</template><name>Module Netapp OS</name><description>## Overview

It's based on template &quot;NETAPP ONTAB 9.5&quot; from eric\_at\_2037, but with some improvements.


I tested with Ontap 9.5 to Ontap 9.7.


Discovery rules:


Same like other template!


Improvements:


- SnapMirror with custom multiplier


(original template gave wrong results)


- Volumes now with iNodes discovery and triggers


- some new macros for trigger


Exported from Zabbix 5.0



</description><groups><group><name>Templates</name></group></groups><applications><application><name>Enclosure</name></application><application><name>General</name></application><application><name>Node</name></application><application><name>SnapMirror</name></application><application><name>VIF</name></application></applications><items><item><name>Autosupport Failed Sends</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.2.7.4.0</snmp_oid><key>autosupportFailedSends</key><delay>300</delay><applications><application><name>General</name></application></applications><triggers><trigger><expression>{delta(5m)}&lt;&gt;0</expression><name>{HOST.NAME} failed to send autosupport</name><priority>WARNING</priority><description>{ITEM.LASTVALUE}</description></trigger></triggers></item><item><name>Autosupport Status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.2.7.1.0</snmp_oid><key>autosupportStatus</key><delay>300</delay><applications><application><name>General</name></application></applications><valuemap><name>NETAPP autosupportStatus</name></valuemap></item><item><name>Autosupport Status Message</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.2.7.2.0</snmp_oid><key>autosupportStatusMessage</key><delay>300</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>General</name></application></applications><triggers><trigger><expression>{str(The last AutoSupport message was sent successfully.)}=0</expression><name>{HOST.NAME} issue during Autosupport message</name><priority>WARNING</priority><description>{ITEM.LASTVALUE}</description></trigger></triggers></item><item><name>Autosupport Successful Sends</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.2.7.3.0</snmp_oid><key>autosupportSuccessfulSends</key><delay>300</delay><applications><application><name>General</name></application></applications></item><item><name>CPU usage (%)</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.2.1.3.0</snmp_oid><key>cpuBusyTimePerCent</key><delay>60</delay><applications><application><name>General</name></application></applications></item><item><name>CPU Count</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.2.1.6.0</snmp_oid><key>cpuCount</key><delay>1800</delay><applications><application><name>General</name></application></applications></item><item><name>Failed Disks Count</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.6.4.7.0</snmp_oid><key>diskFailedCount</key><delay>60</delay><applications><application><name>General</name></application></applications><triggers><trigger><expression>{last()}&gt;0</expression><name>{HOST.NAME} got Failed Disks</name><priority>HIGH</priority></trigger></triggers></item><item><name>Disk Failed Message</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.6.4.10.0</snmp_oid><key>diskFailedMessage</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>General</name></application></applications></item><item><name>Prefailed Disks Count</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.6.4.11.0</snmp_oid><key>diskPrefailedCount</key><delay>60</delay><applications><application><name>General</name></application></applications><triggers><trigger><expression>{last()}&gt;0</expression><name>{HOST.NAME} got Prefailed Disks</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>Number of reconstructing parity Disks</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.6.4.4.0</snmp_oid><key>diskReconstructingParityCount</key><delay>60</delay><applications><application><name>General</name></application></applications></item><item><name>Number of spare Disks</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.6.4.8.0</snmp_oid><key>diskSpareCount</key><delay>1800</delay><applications><application><name>General</name></application></applications></item><item><name>Number of Disks</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.6.4.1.0</snmp_oid><key>diskTotalCount</key><delay>1800</delay><applications><application><name>General</name></application></applications></item><item><name>Number of verifying parity Disks</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.6.4.5.0</snmp_oid><key>diskVerifyingParityCount</key><delay>60</delay><applications><application><name>General</name></application></applications></item><item><name>Product Version</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.1.2.0</snmp_oid><key>productVersio</key><delay>1800</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>General</name></application></applications></item></items><discovery_rules><discovery_rule><name>Aggregates</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#AGGRNAME}, .1.3.6.1.4.1.789.1.5.11.1.2]</snmp_oid><key>aggr</key><delay>43200</delay><filter><conditions><condition><macro>{#AGGRNAME}</macro><value>^(.*)</value><formulaid>A</formulaid></condition></conditions></filter><lifetime>0</lifetime><item_prototypes><item_prototype><name>Aggregate Owners[{#AGGRNAME}]</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.11.1.13.{#SNMPINDEX}</snmp_oid><key>aggrOwners[{#SNMPINDEX}]</key><delay>1800</delay><trends>0</trends><value_type>TEXT</value_type><application_prototypes><application_prototype><name>Aggregate</name></application_prototype></application_prototypes></item_prototype><item_prototype><name>Aggregate Raidtype[{#AGGRNAME}]</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.11.1.11.{#SNMPINDEX}</snmp_oid><key>aggrRaidType[{#SNMPINDEX}]</key><delay>1800</delay><trends>0</trends><value_type>TEXT</value_type><application_prototypes><application_prototype><name>Aggregate</name></application_prototype></application_prototypes></item_prototype><item_prototype><name>Aggregate State[{#AGGRNAME}]</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.11.1.5.{#SNMPINDEX}</snmp_oid><key>aggrState[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><application_prototypes><application_prototype><name>Aggregate</name></application_prototype></application_prototypes></item_prototype><item_prototype><name>Aggregate Status[{#AGGRNAME}]</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.11.1.6.{#SNMPINDEX}</snmp_oid><key>aggrStatus[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><application_prototypes><application_prototype><name>Aggregate</name></application_prototype></application_prototypes></item_prototype><item_prototype><name>Aggregate Type[{#AGGRNAME}]</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.11.1.10.{#SNMPINDEX}</snmp_oid><key>aggrType[{#SNMPINDEX}]</key><delay>1800</delay><trends>0</trends><application_prototypes><application_prototype><name>Aggregate</name></application_prototype></application_prototypes><valuemap><name>NETAPP aggrType</name></valuemap></item_prototype><item_prototype><name>Aggregate Size[{#AGGRNAME}]</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.4.1.29.{#SNMPINDEX}</snmp_oid><key>df64TotalKBytes[{#SNMPINDEX}]</key><delay>1800</delay><units>B</units><application_prototypes><application_prototype><name>Aggregate</name></application_prototype></application_prototypes><preprocessing><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing></item_prototype><item_prototype><name>Aggregate Used Size[{#AGGRNAME}]</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.4.1.30.{#SNMPINDEX}</snmp_oid><key>df64UsedKBytes[{#SNMPINDEX}]</key><delay>180</delay><units>B</units><application_prototypes><application_prototype><name>Aggregate</name></application_prototype></application_prototypes><preprocessing><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing></item_prototype><item_prototype><name>Aggregate Size Used (%)[{#AGGRNAME}]</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.4.1.6.{#SNMPINDEX}</snmp_oid><key>dfPerCentKBytesCapacity[{#SNMPINDEX}]</key><delay>180</delay><value_type>FLOAT</value_type><units>%</units><application_prototypes><application_prototype><name>Aggregate</name></application_prototype></application_prototypes><trigger_prototypes><trigger_prototype><expression>{last()}&gt;{$NETAPP.AGG.FREE.ERR}</expression><name>Data Usage on {#AGGRNAME} more than {$NETAPP.AGG.FREE.ERR}%</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last()}&gt;{$NETAPP.AGG.FREE.WARN} and {last()}&lt;{$NETAPP.AGG.FREE.ERR}</expression><name>Data Usage on {#AGGRNAME} more than {$NETAPP.AGG.FREE.WARN}%</name><priority>AVERAGE</priority><dependencies><dependency><name>Data Usage on {#AGGRNAME} more than {$NETAPP.AGG.FREE.ERR}%</name><expression>{Module Netapp OS:dfPerCentKBytesCapacity[{#SNMPINDEX}].last()}&gt;{$NETAPP.AGG.FREE.ERR}</expression></dependency></dependencies></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Aggregate Filesystem Status[{#AGGRNAME}]</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.4.1.20.{#SNMPINDEX}</snmp_oid><key>dfStatus[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><application_prototypes><application_prototype><name>Aggregate</name></application_prototype></application_prototypes><valuemap><name>NETAPP dfStatus</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last()}&lt;&gt;2</expression><name>Filesystem {#AGGRNAME} not mounted</name><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>Aggregate [{#AGGRNAME}] size usage</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><color>199C0D</color><item><host>Module Netapp OS</host><key>df64TotalKBytes[{#SNMPINDEX}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Module Netapp OS</host><key>df64UsedKBytes[{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><name>Enclosures</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#ENCLNUM}, .1.3.6.1.4.1.789.1.21.1.2.1.1]</snmp_oid><key>encl</key><delay>43200</delay><lifetime>0</lifetime><item_prototypes><item_prototype><name>Enclosure[{#ENCLNUM}] Failed Electronic</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.33.{#SNMPINDEX}</snmp_oid><key>enclElectronicsFailed[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications><trigger_prototypes><trigger_prototype><expression>{strlen()}&gt;0</expression><name>Failed electric: {ITEM.LASTVALUE} on Enclosure[{#ENCLNUM}]</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Electronic</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.31.{#SNMPINDEX}</snmp_oid><key>enclElectronicsPresent[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Failed Fans</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.18.{#SNMPINDEX}</snmp_oid><key>enclFansFailed[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications><trigger_prototypes><trigger_prototype><expression>{strlen()}&gt;0</expression><name>Failed fans: {ITEM.LASTVALUE} on Enclosure[{#ENCLNUM}]</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Fans Speed</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.62.{#SNMPINDEX}</snmp_oid><key>enclFansSpeed[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Failed Power Supplies</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.15.{#SNMPINDEX}</snmp_oid><key>enclPowerSuppliesFailed[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications><trigger_prototypes><trigger_prototype><expression>{strlen()}&gt;0</expression><name>Failed power supply: {ITEM.LASTVALUE} on Enclosure[{#ENCLNUM}]</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Product ID</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.5.{#SNMPINDEX}</snmp_oid><key>enclProductID[{#SNMPINDEX}]</key><delay>43200</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Product Model</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.7.{#SNMPINDEX}</snmp_oid><key>enclProductModel[{#SNMPINDEX}]</key><delay>43200</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Current Temperature</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.25.{#SNMPINDEX}</snmp_oid><key>enclTempSensorsCurrentTemp[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Over Temperature fail</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.21.{#SNMPINDEX}</snmp_oid><key>enclTempSensorsOverTempFail[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Over Temperature warn</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.22.{#SNMPINDEX}</snmp_oid><key>enclTempSensorsOverTempWarn[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Under Temperature fail</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.23.{#SNMPINDEX}</snmp_oid><key>enclTempSensorsUnderTempFail[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Under Temperature warn</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.24.{#SNMPINDEX}</snmp_oid><key>enclTempSensorsUnderTempWarn[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Current Voltage</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.40.{#SNMPINDEX}</snmp_oid><key>enclVoltSensorsCurrentVolt[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Over Voltage fail</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.36.{#SNMPINDEX}</snmp_oid><key>enclVoltSensorsOverVoltFail[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Over Voltage warn</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.37.{#SNMPINDEX}</snmp_oid><key>enclVoltSensorsOverVoltWarn[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Under Voltage fail</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.38.{#SNMPINDEX}</snmp_oid><key>enclVoltSensorsUnderVoltFail[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype><item_prototype><name>Enclosure[{#ENCLNUM}] Under Voltage warn</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.1.2.1.39.{#SNMPINDEX}</snmp_oid><key>enclVoltSensorsUnderVoltWarn[{#SNMPINDEX}]</key><delay>60</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Enclosure</name></application></applications></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>LIFs</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#VIF}, .1.3.6.1.4.1.789.1.22.4.1.2]</snmp_oid><key>lif</key><delay>43200</delay><lifetime>0</lifetime><item_prototypes><item_prototype><name>VIF[{#VIF}] is Home</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.22.4.1.10.{#SNMPINDEX}</snmp_oid><key>logicalInterfaceIsHome[{#SNMPINDEX}]</key><delay>60</delay><applications><application><name>VIF</name></application></applications><valuemap><name>NETAPP logicalInterfaceIsHome</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last()}=0</expression><name>LIF[{#VIF}] on {HOST.NAME} not at home port</name><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Nodes</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#NODENAME},  .1.3.6.1.4.1.789.1.21.2.1.1]</snmp_oid><key>node</key><delay>43200</delay><lifetime>0</lifetime><item_prototypes><item_prototype><name>Node[{#NODENAME}] cannot take over cause</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.2.1.5.{#SNMPINDEX}</snmp_oid><key>haCannotTakeoverCause[{#NODENAME}]</key><delay>60</delay><trends>0</trends><applications><application><name>Node</name></application></applications><valuemap><name>NETAPP haCannotTakeoverCause</name></valuemap></item_prototype><item_prototype><name>Node[{#NODENAME}] HA Interconnect Status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.2.1.10.{#SNMPINDEX}</snmp_oid><key>haInterconnectStatus[{#NODENAME}]</key><delay>60</delay><trends>0</trends><applications><application><name>Node</name></application></applications><valuemap><name>NETAPP haInterconnectStatus</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last()}&lt;&gt;4</expression><name>{HOST.HOST} Interconnect status not up</name><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Node[{#NODENAME}] HA Partner Name</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.2.1.8.{#SNMPINDEX}</snmp_oid><key>haPartnerName[{#NODENAME}]</key><delay>43200</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Node</name></application></applications></item_prototype><item_prototype><name>Node[{#NODENAME}] HA Partner Status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.2.1.6.{#SNMPINDEX}</snmp_oid><key>haPartnerStatus[{#NODENAME}]</key><delay>60</delay><trends>0</trends><applications><application><name>Node</name></application></applications><valuemap><name>NETAPP  haPartnerStatus</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last()}&lt;&gt;2</expression><name>{HOST.HOST} Partner status not ok</name><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Node[{#NODENAME}] HA Settings</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.2.1.3.{#SNMPINDEX}</snmp_oid><key>haSettings[{#NODENAME}]</key><delay>60</delay><trends>0</trends><applications><application><name>Node</name></application></applications><valuemap><name>NETAPP haSettings</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last()}&lt;&gt;2</expression><name>{HOST.HOST} HA disabled</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Node[{#NODENAME}] HA State</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.21.2.1.4.{#SNMPINDEX}</snmp_oid><key>haState[{#NODENAME}]</key><delay>60</delay><trends>0</trends><applications><application><name>Node</name></application></applications><valuemap><name>NETAPP haState</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last()}&lt;&gt;2</expression><name>{HOST.HOST} can not takeover</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>SnapMirror</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNAPINDEX},  .1.3.6.1.4.1.789.1.29.1.1.2]</snmp_oid><key>snapmirror</key><delay>1h</delay><lifetime>0</lifetime><item_prototypes><item_prototype><name>SnapMirror [{#SNAPINDEX}] Destination Path</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.29.1.1.3.{#SNMPINDEX}</snmp_oid><key>snapmirrorRelDestPath[{#SNMPINDEX}]</key><delay>6h</delay><history>30d</history><trends>0</trends><value_type>CHAR</value_type><applications><application><name>SnapMirror</name></application></applications></item_prototype><item_prototype><name>SnapMirror [{#SNAPINDEX}] Healthy</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.29.1.1.16.{#SNMPINDEX}</snmp_oid><key>snapmirrorRelHealthy[{#SNMPINDEX}]</key><delay>1h</delay><applications><application><name>SnapMirror</name></application></applications><trigger_prototypes><trigger_prototype><expression>{last()}&lt;&gt;1</expression><name>SnapMirror [{#SNAPINDEX}] is not Healthy</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>SnapMirror [{#SNAPINDEX}] Lag</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.29.1.1.7.{#SNMPINDEX}</snmp_oid><key>snapmirrorRelLag[{#SNMPINDEX}]</key><delay>1h</delay><units>s</units><applications><application><name>SnapMirror</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>.01</params></step></preprocessing><trigger_prototypes><trigger_prototype><expression>{last()}&gt;86400</expression><name>SnapMirror [{#SNAPINDEX}] Lag is greater than 1 day</name><priority>AVERAGE</priority></trigger_prototype><trigger_prototype><expression>{last()}&gt;172800</expression><name>SnapMirror [{#SNAPINDEX}] Lag is greater than 2 days</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last()}&gt;432000</expression><name>SnapMirror [{#SNAPINDEX}] Lag is greater than 5 days</name><priority>DISASTER</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>SnapMirror {#SNAPINDEX} Last Transfer Size</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.29.1.1.20.{#SNMPINDEX}</snmp_oid><key>snapmirrorRelLastTransferSize[{#SNMPINDEX}]</key><delay>1h</delay><units>B</units><applications><application><name>SnapMirror</name></application></applications></item_prototype><item_prototype><name>SnapMirror {#SNAPINDEX} Last Transfer Time</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.29.1.1.21.{#SNMPINDEX}</snmp_oid><key>snapmirrorRelLastTransferTime[{#SNMPINDEX}]</key><delay>1h</delay><units>s</units><applications><application><name>SnapMirror</name></application></applications></item_prototype><item_prototype><name>SnapMirror {#SNAPINDEX} Source Path</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.29.1.1.2.{#SNMPINDEX}</snmp_oid><key>snapmirrorRelSrcPath[{#SNMPINDEX}]</key><delay>6h</delay><history>30d</history><trends>0</trends><value_type>CHAR</value_type><applications><application><name>SnapMirror</name></application></applications></item_prototype><item_prototype><name>SnapMirror {#SNAPINDEX} State</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.29.1.1.6.{#SNMPINDEX}</snmp_oid><key>snapmirrorRelState[{#SNMPINDEX}]</key><delay>1h</delay><applications><application><name>SnapMirror</name></application></applications><valuemap><name>NETAPP snapmirrorRelState</name></valuemap></item_prototype><item_prototype><name>SnapMirror {#SNAPINDEX} Status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.29.1.1.5.{#SNMPINDEX}</snmp_oid><key>snapmirrorRelStatus[{#SNMPINDEX}]</key><delay>1h</delay><applications><application><name>SnapMirror</name></application></applications><valuemap><name>NETAPP snapmirrorRelStatus</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last()}&gt;=11</expression><name>SnapMirror {#SNAPINDEX} is having problems</name><status>DISABLED</status><discover>NO_DISCOVER</discover><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last(#10,60s)}&lt;&gt;0</expression><name>SnapMirror {#SNAPINDEX} is not idle</name><status>DISABLED</status><discover>NO_DISCOVER</discover><priority>INFO</priority></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>SnapMirror [{#SNAPINDEX}] Transfer</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><color>199C0D</color><item><host>Module Netapp OS</host><key>snapmirrorRelLag[{#SNMPINDEX}]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>Module Netapp OS</host><key>snapmirrorRelLastTransferSize[{#SNMPINDEX}]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>2774A4</color><item><host>Module Netapp OS</host><key>snapmirrorRelLastTransferTime[{#SNMPINDEX}]</key></item></graph_item></graph_items><discover>NO_DISCOVER</discover></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><name>Volumes</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#VOLNAME},  .1.3.6.1.4.1.789.1.4.4.1.2]</snmp_oid><key>volume</key><delay>43200</delay><filter><conditions><condition><macro>{#VOLNAME}</macro><value>^(.*)</value><formulaid>A</formulaid></condition></conditions></filter><lifetime>0</lifetime><item_prototypes><item_prototype><name>Volume[{#VOLNAME}] Size</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.4.1.29.{#SNMPINDEX}</snmp_oid><key>df64TotalKBytesVol[{#SNMPINDEX}]</key><delay>1h</delay><units>B</units><application_prototypes><application_prototype><name>Volume</name></application_prototype></application_prototypes><preprocessing><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing></item_prototype><item_prototype><name>Volume[{#VOLNAME}] Used</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.4.1.30.{#SNMPINDEX}</snmp_oid><key>df64UsedKBytesVol[{#SNMPINDEX}]</key><delay>5m</delay><units>B</units><application_prototypes><application_prototype><name>Volume</name></application_prototype></application_prototypes><preprocessing><step><type>MULTIPLIER</type><params>1024</params></step></preprocessing></item_prototype><item_prototype><name>Volume[{#VOLNAME}] Used (%)</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.4.1.6.{#SNMPINDEX}</snmp_oid><key>dfPerCentKBytesCapacityVol[{#SNMPINDEX}]</key><delay>5m</delay><units>%</units><application_prototypes><application_prototype><name>Volume</name></application_prototype></application_prototypes></item_prototype><item_prototype><name>Volume[{#VOLNAME}] Aggregate</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.8.1.9.{#SNMPINDEX}</snmp_oid><key>volAggrName[{#SNMPINDEX}]</key><delay>10800</delay><trends>0</trends><value_type>TEXT</value_type><application_prototypes><application_prototype><name>Volume</name></application_prototype></application_prototypes></item_prototype><item_prototype><name>Volume[{#VOLNAME}] NV Failed State</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.8.1.27.{#SNMPINDEX}</snmp_oid><key>volInNvfailedState[{#SNMPINDEX}]</key><delay>5m</delay><description>Indicates whether the volume is in nvfailed state. This is only applicable to cluster-mode volumes.</description><application_prototypes><application_prototype><name>Volume</name></application_prototype></application_prototypes><preprocessing><step><type>BOOL_TO_DECIMAL</type><params/></step></preprocessing></item_prototype><item_prototype><name>Volume[{#VOLNAME}] iNodes usage</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.4.1.9.{#SNMPINDEX}</snmp_oid><key>voliNodes[{#SNMPINDEX}]</key><delay>5m</delay><units>%</units><description>Gets inodes usage of Volume</description><application_prototypes><application_prototype><name>Volume</name></application_prototype></application_prototypes><trigger_prototypes><trigger_prototype><expression>{last()}&gt;={$NETAPP.VOL.INODE.FREE.ERR}</expression><name>iNode Usage on Volume[{#VOLNAME}] more than {$NETAPP.VOL.INODE.FREE.ERR}%</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last()}&gt;{$NETAPP.VOL.INODE.FREE.WARN} and {last()}&lt;{$NETAPP.VOL.INODE.FREE.ERR}</expression><name>iNode Usage on Volume[{#VOLNAME}] more than {$NETAPP.VOL.INODE.FREE.WARN}%</name><priority>WARNING</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Volume[{#VOLNAME}] Language</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.8.1.19.{#SNMPINDEX}</snmp_oid><key>volLanguage[{#SNMPINDEX}]</key><delay>10800</delay><trends>0</trends><value_type>TEXT</value_type><application_prototypes><application_prototype><name>Volume</name></application_prototype></application_prototypes></item_prototype><item_prototype><name>Volume[{#VOLNAME}] NV Failed enabled</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.8.1.26.{#SNMPINDEX}</snmp_oid><key>volNvfail[{#SNMPINDEX}]</key><delay>5m</delay><description>Indicates whether nvfail option is enabled on this volume.</description><application_prototypes><application_prototype><name>Volume</name></application_prototype></application_prototypes><preprocessing><step><type>BOOL_TO_DECIMAL</type><params/></step></preprocessing></item_prototype><item_prototype><name>Volume[{#VOLNAME}] Space Guarantee enabled</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.8.1.17.{#SNMPINDEX}</snmp_oid><key>volSpaceGuaranteeEnabled[{#SNMPINDEX}]</key><delay>10800</delay><description>.</description><application_prototypes><application_prototype><name>Volume</name></application_prototype></application_prototypes><valuemap><name>NETAPP volSpaceGuaranteeEnabled</name></valuemap><preprocessing><step><type>BOOL_TO_DECIMAL</type><params/></step></preprocessing></item_prototype><item_prototype><name>Volume[{#VOLNAME}] Space Guarantee</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.8.1.18.{#SNMPINDEX}</snmp_oid><key>volSpaceGuarantee[{#SNMPINDEX}]</key><delay>10800</delay><description>.</description><application_prototypes><application_prototype><name>Volume</name></application_prototype></application_prototypes><valuemap><name>NETAPP volSpaceGuarantee</name></valuemap></item_prototype><item_prototype><name>Volume[{#VOLNAME}] State</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.8.1.6.{#SNMPINDEX}</snmp_oid><key>volState[{#SNMPINDEX}]</key><delay>5m</delay><trends>0</trends><value_type>TEXT</value_type><application_prototypes><application_prototype><name>Volume</name></application_prototype></application_prototypes></item_prototype><item_prototype><name>Volume[{#VOLNAME}] Type</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.8.1.10.{#SNMPINDEX}</snmp_oid><key>volType[{#SNMPINDEX}]</key><delay>10800</delay><description>Type of this volume, older volumes are traditional while newer volumes contained in aggregates are flexible.</description><application_prototypes><application_prototype><name>Volume</name></application_prototype></application_prototypes><valuemap><name>NETAPP volType</name></valuemap></item_prototype><item_prototype><name>Volume[{#VOLNAME}] Vserver</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.789.1.5.8.1.14.{#SNMPINDEX}</snmp_oid><key>volVserver[{#SNMPINDEX}]</key><delay>10800</delay><trends>0</trends><value_type>TEXT</value_type><application_prototypes><application_prototype><name>Volume</name></application_prototype></application_prototypes></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><expression>{Module Netapp OS:dfPerCentKBytesCapacityVol[{#SNMPINDEX}].last()}&gt;{$NETAPP.VOL.FREE.ERR} and {Module Netapp OS:volVserver[{#SNMPINDEX}].regexp(&quot;.*[^_.*dr]$&quot;)}=1</expression><name>Data Usage on Volume[{#VOLNAME}] more than {$NETAPP.VOL.FREE.ERR}%</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{Module Netapp OS:dfPerCentKBytesCapacityVol[{#SNMPINDEX}].last()}&gt;{$NETAPP.VOL.FREE.WARN} and {Module Netapp OS:dfPerCentKBytesCapacityVol[{#SNMPINDEX}].last()}&lt;{$NETAPP.VOL.FREE.ERR} and {Module Netapp OS:volVserver[{#SNMPINDEX}].regexp(&quot;.*[^_.*dr]$&quot;)}=1</expression><name>Data Usage on Volume[{#VOLNAME}] more than {$NETAPP.VOL.FREE.WARN}%</name><priority>WARNING</priority></trigger_prototype></trigger_prototypes></discovery_rule></discovery_rules><macros><macro><macro>{$NETAPP.AGG.FREE.ERR}</macro><value>95</value></macro><macro><macro>{$NETAPP.AGG.FREE.WARN}</macro><value>75</value></macro><macro><macro>{$NETAPP.VOL.FREE.ERR}</macro><value>90</value></macro><macro><macro>{$NETAPP.VOL.FREE.WARN}</macro><value>80</value></macro><macro><macro>{$NETAPP.VOL.INODE.FREE.ERR}</macro><value>90</value></macro><macro><macro>{$NETAPP.VOL.INODE.FREE.WARN}</macro><value>80</value></macro></macros></template></templates><graphs><graph><name>CPU Usage</name><type>STACKED</type><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><color>199C0D</color><item><host>Module Netapp OS</host><key>cpuBusyTimePerCent</key></item></graph_item></graph_items></graph></graphs><value_maps><value_map><name>NETAPP aggrType</name><mappings><mapping><value>0</value><newvalue>unknown</newvalue></mapping><mapping><value>1</value><newvalue>traditional</newvalue></mapping><mapping><value>2</value><newvalue>aggregate</newvalue></mapping><mapping><value>3</value><newvalue>striped</newvalue></mapping></mappings></value_map><value_map><name>NETAPP autosupportStatus</name><mappings><mapping><value>1</value><newvalue>ok</newvalue></mapping><mapping><value>2</value><newvalue>smtpFailure</newvalue></mapping><mapping><value>3</value><newvalue>postFailure</newvalue></mapping><mapping><value>4</value><newvalue>smtpPostFailure</newvalue></mapping><mapping><value>5</value><newvalue>unknown</newvalue></mapping></mappings></value_map><value_map><name>NETAPP dfStatus</name><mappings><mapping><value>1</value><newvalue>unmounted</newvalue></mapping><mapping><value>2</value><newvalue>mounted</newvalue></mapping><mapping><value>3</value><newvalue>frozen</newvalue></mapping><mapping><value>4</value><newvalue>destroying</newvalue></mapping><mapping><value>5</value><newvalue>creating</newvalue></mapping><mapping><value>6</value><newvalue>mounting</newvalue></mapping><mapping><value>7</value><newvalue>unmounting</newvalue></mapping><mapping><value>8</value><newvalue>nofsinfo</newvalue></mapping><mapping><value>9</value><newvalue>replaying</newvalue></mapping><mapping><value>10</value><newvalue>replayed</newvalue></mapping></mappings></value_map><value_map><name>NETAPP haCannotTakeoverCause</name><mappings><mapping><value>1</value><newvalue>ok</newvalue></mapping><mapping><value>2</value><newvalue>unknownReason</newvalue></mapping><mapping><value>3</value><newvalue>disabledByOperator</newvalue></mapping><mapping><value>4</value><newvalue>interconnectOffline</newvalue></mapping><mapping><value>5</value><newvalue>disabledByPartner</newvalue></mapping><mapping><value>6</value><newvalue>takeoverFailed</newvalue></mapping><mapping><value>7</value><newvalue>mailboxIsInDegradedState</newvalue></mapping><mapping><value>8</value><newvalue>partnermailboxIsInUninitialisedState</newvalue></mapping><mapping><value>9</value><newvalue>mailboxVersionMismatch</newvalue></mapping><mapping><value>10</value><newvalue>nvramSizeMismatch</newvalue></mapping><mapping><value>11</value><newvalue>kernelVersionMismatch</newvalue></mapping><mapping><value>12</value><newvalue>partnerIsInBootingStage</newvalue></mapping><mapping><value>13</value><newvalue>diskshelfIsTooHot</newvalue></mapping><mapping><value>14</value><newvalue>partnerIsPerformingRevert</newvalue></mapping><mapping><value>15</value><newvalue>nodeIsPerformingRevert</newvalue></mapping><mapping><value>16</value><newvalue>sametimePartnerIsAlsoTryingToTakeUsOver</newvalue></mapping><mapping><value>17</value><newvalue>alreadyInTakenoverMode</newvalue></mapping><mapping><value>18</value><newvalue>nvramLogUnsynchronized</newvalue></mapping><mapping><value>19</value><newvalue>stateofBackupMailboxIsDoubtful</newvalue></mapping></mappings></value_map><value_map><name>NETAPP haInterconnectStatus</name><mappings><mapping><value>1</value><newvalue>notPresent</newvalue></mapping><mapping><value>2</value><newvalue>down</newvalue></mapping><mapping><value>3</value><newvalue>partialFailure</newvalue></mapping><mapping><value>4</value><newvalue>up</newvalue></mapping></mappings></value_map><value_map><name>NETAPP  haPartnerStatus</name><mappings><mapping><value>1</value><newvalue>maybeDown</newvalue></mapping><mapping><value>2</value><newvalue>ok</newvalue></mapping><mapping><value>3</value><newvalue>dead</newvalue></mapping></mappings></value_map><value_map><name>NETAPP haSettings</name><mappings><mapping><value>1</value><newvalue>notConfigured</newvalue></mapping><mapping><value>2</value><newvalue>enabled</newvalue></mapping><mapping><value>3</value><newvalue>disabled</newvalue></mapping><mapping><value>4</value><newvalue>takeoverByPartnerDisabled</newvalue></mapping><mapping><value>5</value><newvalue>thisNodeDead</newvalue></mapping></mappings></value_map><value_map><name>NETAPP haState</name><mappings><mapping><value>1</value><newvalue>dead</newvalue></mapping><mapping><value>2</value><newvalue>canTakeover</newvalue></mapping><mapping><value>3</value><newvalue>cannotTakeover</newvalue></mapping><mapping><value>4</value><newvalue>takeover</newvalue></mapping><mapping><value>5</value><newvalue>partialGiveback</newvalue></mapping></mappings></value_map><value_map><name>NETAPP logicalInterfaceIsHome</name><mappings><mapping><value>0</value><newvalue>false</newvalue></mapping><mapping><value>1</value><newvalue>true</newvalue></mapping></mappings></value_map><value_map><name>NETAPP snapmirrorRelState</name><mappings><mapping><value>0</value><newvalue>uninitialized</newvalue></mapping><mapping><value>1</value><newvalue>snapmirrored</newvalue></mapping><mapping><value>2</value><newvalue>brokenOff</newvalue></mapping></mappings></value_map><value_map><name>NETAPP snapmirrorRelStatus</name><mappings><mapping><value>0</value><newvalue>idle</newvalue></mapping><mapping><value>1</value><newvalue>transferring</newvalue></mapping><mapping><value>2</value><newvalue>restoring</newvalue></mapping><mapping><value>3</value><newvalue>checking</newvalue></mapping><mapping><value>4</value><newvalue>quiescing</newvalue></mapping><mapping><value>5</value><newvalue>quiesced</newvalue></mapping><mapping><value>6</value><newvalue>queued</newvalue></mapping><mapping><value>7</value><newvalue>preparing</newvalue></mapping><mapping><value>8</value><newvalue>waiting</newvalue></mapping><mapping><value>9</value><newvalue>finalizing</newvalue></mapping><mapping><value>10</value><newvalue>resyncing</newvalue></mapping><mapping><value>11</value><newvalue>aborting</newvalue></mapping><mapping><value>12</value><newvalue>breaking</newvalue></mapping></mappings></value_map><value_map><name>NETAPP volSpaceGuarantee</name><mappings><mapping><value>0</value><newvalue>none</newvalue></mapping><mapping><value>1</value><newvalue>file</newvalue></mapping><mapping><value>2</value><newvalue>volume</newvalue></mapping></mappings></value_map><value_map><name>NETAPP volSpaceGuaranteeEnabled</name><mappings><mapping><value>1</value><newvalue>true</newvalue></mapping><mapping><value>2</value><newvalue>false</newvalue></mapping></mappings></value_map><value_map><name>NETAPP volType</name><mappings><mapping><value>1</value><newvalue>traditional</newvalue></mapping><mapping><value>2</value><newvalue>flexible</newvalue></mapping><mapping><value>3</value><newvalue>striped</newvalue></mapping><mapping><value>4</value><newvalue>asis</newvalue></mapping><mapping><value>5</value><newvalue>snaplock</newvalue></mapping></mappings></value_map></value_maps></zabbix_export>
