<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:36:44Z</date><groups><group><name>Templates</name></group></groups><templates><template><template>JMX Wildlfy</template><name>JMX Wildlfy</name><description>## Description

Install and info: https://github.com/hermanekt/Zabbix_wildfly_eap_jboss_monitoring https://share.zabbix.com/official-templates/wildfly-eap-jboss-discovery Version 1.2

## Overview

This is auto Discovery template for monitoring Wildfly, EAP, Jboss servers
==========================================================================


**Install instruction: https://github.com/hermanekt/Zabbix\_wildfly\_eap\_jboss\_monitoring/**


Static item:



```
JMX Wildfly Memory
JMX Wildfly Runtime
JMX Wildfly Threading
JMX Wildlfy Classes
JMX Wildlfy Server
```

Discovery:



```
Datasource JDBC
Datasource POOL
Garbage Collector
Memory Pool
Server
```


## Author

Tomas Hermanek

</description><groups><group><name>Templates</name></group></groups><applications><application><name>JMX Wildfly Memory</name></application><application><name>JMX Wildfly Runtime</name></application><application><name>JMX Wildfly Threading</name></application><application><name>JMX Wildlfy Classes</name></application><application><name>JMX Wildlfy Server</name></application></applications><items><item><name>Loaded Class Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=ClassLoading&quot;,LoadedClassCount]</key><history>30d</history><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildlfy Classes</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Total Loaded Class Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=ClassLoading&quot;,TotalLoadedClassCount]</key><history>30d</history><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildlfy Classes</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Unloaded Class Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=ClassLoading&quot;,UnloadedClassCount]</key><history>30d</history><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildlfy Classes</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Heap Memory committed</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.committed]</key><history>30d</history><units>B</units><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Memory</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Heap Memory max</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.max]</key><delay>1h</delay><history>30d</history><units>B</units><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Memory</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Heap Memory used</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.used]</key><history>30d</history><units>B</units><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Memory</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Non-Heap Memory committed</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.committed]</key><history>30d</history><units>B</units><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Memory</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Non-Heap Memory max</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.max]</key><delay>1h</delay><history>30d</history><units>B</units><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Memory</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Non-Heap Memory used</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.used]</key><history>30d</history><units>B</units><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Memory</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Object Pending Finalization Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,ObjectPendingFinalizationCount]</key><history>30d</history><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Memory</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Max File Descriptor Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=OperatingSystem&quot;,MaxFileDescriptorCount]</key><delay>1h</delay><history>30d</history><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Open File Descriptor Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=OperatingSystem&quot;,OpenFileDescriptorCount]</key><history>30d</history><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Process CPU Load</name><type>JMX</type><key>jmx[&quot;java.lang:type=OperatingSystem&quot;,ProcessCpuLoad]</key><history>30d</history><value_type>FLOAT</value_type><units>%</units><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildlfy Server</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>100</params></step></preprocessing><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><triggers><trigger><expression>{avg(300)}&gt;70</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{avg(300)}&lt;60</recovery_expression><name>70% Process CPU Load on {HOST.NAME}</name><priority>AVERAGE</priority></trigger><trigger><expression>{avg(300)}&gt;90</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{avg(300)}&lt;60</recovery_expression><name>90% Process CPU Load on {HOST.NAME}</name><priority>DISASTER</priority></trigger></triggers></item><item><name>Java Version</name><type>JMX</type><key>jmx[&quot;java.lang:type=Runtime&quot;,SpecVersion]</key><delay>1h</delay><history>30d</history><trends>0</trends><value_type>CHAR</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Runtime</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>jvm Uptime</name><type>JMX</type><key>jmx[&quot;java.lang:type=Runtime&quot;,Uptime]</key><history>30d</history><units>uptime</units><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Runtime</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.001</params></step></preprocessing><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><triggers><trigger><expression>{change(0)}&lt;0</expression><name>Wildlfy on {HOST.NAME} has just been restarted</name><priority>INFO</priority><manual_close>YES</manual_close></trigger><trigger><expression>{nodata(5m)}=1</expression><name>{HOST.NAME} Wildlfy is not reachable</name><priority>DISASTER</priority></trigger></triggers></item><item><name>jvm Name</name><type>JMX</type><key>jmx[&quot;java.lang:type=Runtime&quot;,VmName]</key><delay>1h</delay><history>30d</history><trends>0</trends><value_type>CHAR</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Runtime</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><triggers><trigger><expression>{str(Server)}&lt;&gt;1</expression><name>{HOST.NAME} runs suboptimal VM type</name><priority>INFO</priority></trigger></triggers></item><item><name>jvm Vendor</name><type>JMX</type><key>jmx[&quot;java.lang:type=Runtime&quot;,VmVendor]</key><delay>1h</delay><history>30d</history><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Runtime</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>jvm Version</name><type>JMX</type><key>jmx[&quot;java.lang:type=Runtime&quot;,VmVersion]</key><delay>1h</delay><history>30d</history><trends>0</trends><value_type>CHAR</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Runtime</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Daemon Thread Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=Threading&quot;,DaemonThreadCount]</key><history>30d</history><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Threading</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Peak Thread Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=Threading&quot;,PeakThreadCount]</key><history>30d</history><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Threading</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Thread Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=Threading&quot;,ThreadCount]</key><history>30d</history><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Threading</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Total Started Thread Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=Threading&quot;,TotalStartedThreadCount]</key><history>30d</history><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><applications><application><name>JMX Wildfly Threading</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item><item><name>Wildfly Web application interface</name><type>SIMPLE</type><key>net.tcp.service[http,,8080]</key><delay>30s</delay><history>30d</history><applications><application><name>JMX Wildfly Runtime</name></application></applications><valuemap><name>Service state</name></valuemap><triggers><trigger><expression>{last(#5)}=0</expression><name>{HOST.NAME}: Wildfly Application port is down!</name><priority>DISASTER</priority></trigger></triggers></item><item><name>Wildfly monitoring interface</name><type>SIMPLE</type><key>net.tcp.service[tcp,,4447]</key><delay>30s</delay><history>30d</history><applications><application><name>JMX Wildfly Runtime</name></application></applications><valuemap><name>Service state</name></valuemap><triggers><trigger><expression>{last(#5)}=0</expression><name>{HOST.NAME}: Wildfly Monitoring port is down!</name><priority>DISASTER</priority></trigger></triggers></item></items><discovery_rules><discovery_rule><name>Server</name><type>JMX</type><key>jmx.get[attributes,&quot;jboss.as:management-root=server,*&quot;]</key><delay>30m</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><lifetime>24h</lifetime><item_prototypes><item_prototype><name>Domain host</name><type>JMX</type><key>jmx[{#JMXOBJ},host]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><trigger_prototypes><trigger_prototype><expression>{diff(0)}&gt;0</expression><name>The name of the managed domain host that is responsible for managing this server is changed. {HOST.NAME}</name><priority>INFO</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Launch type</name><type>JMX</type><key>jmx[{#JMXOBJ},launchType]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>Management Major Version</name><type>JMX</type><key>jmx[{#JMXOBJ},managementMajorVersion]</key><delay>30s</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>Management Micro Version</name><type>JMX</type><key>jmx[{#JMXOBJ},managementMicroVersion]</key><delay>30s</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>Management Minor Version</name><type>JMX</type><key>jmx[{#JMXOBJ},managementMinorVersion]</key><delay>30s</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>Namespaces</name><type>JMX</type><key>jmx[{#JMXOBJ},namespaces]</key><delay>30s</delay><trends>0</trends><value_type>CHAR</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>Hostname</name><type>JMX</type><key>jmx[{#JMXOBJ},name]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>Process Type</name><type>JMX</type><key>jmx[{#JMXOBJ},processType]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>Product Name</name><type>JMX</type><key>jmx[{#JMXOBJ},productName]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>Product Version</name><type>JMX</type><key>jmx[{#JMXOBJ},productVersion]</key><delay>30s</delay><trends>0</trends><value_type>CHAR</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>Profile Name</name><type>JMX</type><key>jmx[{#JMXOBJ},profileName]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><trigger_prototypes><trigger_prototype><expression>{diff(0)}&gt;0</expression><name>Server profile has ben changed</name><priority>INFO</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Release Codename</name><type>JMX</type><key>jmx[{#JMXOBJ},releaseCodename]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>Release Version</name><type>JMX</type><key>jmx[{#JMXOBJ},releaseVersion]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>Running Mode</name><type>JMX</type><key>jmx[{#JMXOBJ},runningMode]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>Runtime Configuration State</name><type>JMX</type><key>jmx[{#JMXOBJ},runtimeConfigurationState]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><trigger_prototypes><trigger_prototype><expression>{str(ok)}=0</expression><name>Server need to be restart for configuration change.</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Schema Locations</name><type>JMX</type><key>jmx[{#JMXOBJ},schemaLocations]</key><delay>30s</delay><trends>0</trends><value_type>CHAR</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>Server Group</name><type>JMX</type><key>jmx[{#JMXOBJ},serverGroup]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><trigger_prototypes><trigger_prototype><expression>{diff(0)}&gt;0</expression><name>Server Group is changed!</name><priority>INFO</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Server State</name><type>JMX</type><key>jmx[{#JMXOBJ},serverState]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><trigger_prototypes><trigger_prototype><expression>{str(running)}=0</expression><name>Server controller need to be restart for configuration change.</name><priority>HIGH</priority><dependencies><dependency><name>Server need to be restart for configuration change.</name><expression>{JMX Wildlfy:jmx[{#JMXOBJ},runtimeConfigurationState].str(ok)}=0</expression></dependency></dependencies></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Suspend State</name><type>JMX</type><key>jmx[{#JMXOBJ},suspendState]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>UUID</name><type>JMX</type><key>jmx[{#JMXOBJ},uuid]</key><delay>30s</delay><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><applications><application><name>JMX Wildlfy Server</name></application></applications><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype></item_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><lld_macro_paths><lld_macro_path><lld_macro>{#JMXNAME}</lld_macro><path>$.properties.name</path></lld_macro_path><lld_macro_path><lld_macro>{#JMXOBJ}</lld_macro><path>$.object</path></lld_macro_path></lld_macro_paths></discovery_rule><discovery_rule><name>Garbage Collector</name><type>JMX</type><key>jmx.get[beans,&quot;*:type=GarbageCollector,name=*&quot;]</key><delay>30m</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><item_prototypes><item_prototype><name>{#JMXNAME} Collections</name><type>JMX</type><key>jmx[{#JMXOBJ},CollectionCount]</key><delay>60s</delay><units>runs</units><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Garbage Collector</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><trigger_prototypes><trigger_prototype><expression>{last(0)}&lt;{last(0)}</expression><name>Concurrent {#JMXNAME} in fire fighting mode on {HOST.NAME}</name><priority>AVERAGE</priority><manual_close>YES</manual_close></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>{#JMXNAME} Total time spent</name><type>JMX</type><key>jmx[{#JMXOBJ},CollectionTime]</key><delay>60s</delay><value_type>FLOAT</value_type><units>s</units><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Garbage Collector</name></application_prototype></application_prototypes><preprocessing><step><type>MULTIPLIER</type><params>0.001</params></step></preprocessing><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>JMX Garbage Collector collections per second</name><graph_items><graph_item><color>1A7C11</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},CollectionCount]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><lld_macro_paths><lld_macro_path><lld_macro>{#JMXNAME}</lld_macro><path>$.properties.name</path></lld_macro_path><lld_macro_path><lld_macro>{#JMXOBJ}</lld_macro><path>$.object</path></lld_macro_path></lld_macro_paths></discovery_rule><discovery_rule><name>Memory Pool</name><type>JMX</type><key>jmx.get[beans,&quot;*:type=MemoryPool,name=*&quot;]</key><delay>30m</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><item_prototypes><item_prototype><name>{#JMXNAME} committed</name><type>JMX</type><key>jmx[{#JMXOBJ},Usage.committed]</key><delay>30s</delay><units>B</units><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><application_prototypes><application_prototype><name>JMX Wildfly Memory Pool</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXNAME} max</name><type>JMX</type><key>jmx[{#JMXOBJ},Usage.max]</key><delay>30s</delay><units>B</units><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><application_prototypes><application_prototype><name>JMX Wildfly Memory Pool</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXNAME} used</name><type>JMX</type><key>jmx[{#JMXOBJ},Usage.used]</key><delay>30s</delay><units>B</units><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><application_prototypes><application_prototype><name>JMX Wildfly Memory Pool</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>JMX Memory Pool {#JMXNAME}</name><graph_items><graph_item><color>AC8C14</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},Usage.committed]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>611F27</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},Usage.max]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>F230E0</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},Usage.used]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><lld_macro_paths><lld_macro_path><lld_macro>{#JMXNAME}</lld_macro><path>$.properties.name</path></lld_macro_path><lld_macro_path><lld_macro>{#JMXOBJ}</lld_macro><path>$.object</path></lld_macro_path></lld_macro_paths></discovery_rule><discovery_rule><name>Datasource JDBC</name><type>JMX</type><key>jmx.get[beans,&quot;jboss.as:subsystem=datasources,data-source=*,statistics=jdbc&quot;]</key><delay>30m</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><filter><conditions><condition><macro>{#JMXDATA_SOURCE}</macro><value>ExampleDS</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><lifetime>24h</lifetime><item_prototypes><item_prototype><name>{#JMXDATA_SOURCE} Cache Access Count</name><type>JMX</type><key>jmx[{#JMXOBJ},PreparedStatementCacheAccessCount]</key><delay>30s</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource Cache</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} Cache Add Count</name><type>JMX</type><key>jmx[{#JMXOBJ},PreparedStatementCacheAddCount]</key><delay>30s</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource Cache</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} Cache Current Size</name><type>JMX</type><key>jmx[{#JMXOBJ},PreparedStatementCacheCurrentSize]</key><delay>30s</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource Cache</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} Cache Delete Count</name><type>JMX</type><key>jmx[{#JMXOBJ},PreparedStatementCacheDeleteCount]</key><delay>30s</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource Cache</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} Cache Hit Count</name><type>JMX</type><key>jmx[{#JMXOBJ},PreparedStatementCacheHitCount]</key><delay>30s</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource Cache</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} Cache Miss Count</name><type>JMX</type><key>jmx[{#JMXOBJ},PreparedStatementCacheMissCount]</key><delay>30s</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource Cache</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><expression>{JMX Wildlfy:jmx[{#JMXOBJ},PreparedStatementCacheAccessCount].last(0)}&lt;({JMX Wildlfy:jmx[{#JMXOBJ},PreparedStatementCacheHitCount].last(0)}*0.5)</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{JMX Wildlfy:jmx[{#JMXOBJ},PreparedStatementCacheAccessCount].last(0)}&gt;({JMX Wildlfy:jmx[{#JMXOBJ},PreparedStatementCacheHitCount].last(0)}*0.6)</recovery_expression><name>Datasource {#JMXDATA_SOURCE} cache hit is too low!</name><priority>WARNING</priority><manual_close>YES</manual_close></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><name>JMX {#JMXDATA_SOURCE} Cache</name><graph_items><graph_item><color>1A7C11</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},PreparedStatementCacheAccessCount]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>FC6EA3</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},PreparedStatementCacheHitCount]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>6C59DC</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},PreparedStatementCacheMissCount]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>2774A4</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},PreparedStatementCacheCurrentSize]</key></item></graph_item><graph_item><sortorder>4</sortorder><color>F63100</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},PreparedStatementCacheAddCount]</key></item></graph_item><graph_item><sortorder>5</sortorder><color>A54F10</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},PreparedStatementCacheDeleteCount]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><lld_macro_paths><lld_macro_path><lld_macro>{#JMXDATA_SOURCE}</lld_macro><path>$.properties.[&quot;data-source&quot;]</path></lld_macro_path><lld_macro_path><lld_macro>{#JMXOBJ}</lld_macro><path>$.object</path></lld_macro_path></lld_macro_paths></discovery_rule><discovery_rule><name>Datasource POOL</name><type>JMX</type><key>jmx.get[beans,&quot;jboss.as:subsystem=datasources,data-source=*,statistics=pool&quot;]</key><delay>30m</delay><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><filter><conditions><condition><macro>{#JMXDATA_SOURCE}</macro><value>ExampleDS</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><lifetime>24h</lifetime><item_prototypes><item_prototype><name>{#JMXDATA_SOURCE} ActiveCount</name><type>JMX</type><key>jmx[{#JMXOBJ},ActiveCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><trigger_prototypes><trigger_prototype><expression>{last(300)}=0</expression><name>Datasource {#JMXDATA_SOURCE} have no active connection on {HOST.NAME}</name><priority>DISASTER</priority><manual_close>YES</manual_close><dependencies><dependency><name>Datasource {#JMXDATA_SOURCE} monitoring statistic is not enabled!</name><expression>{JMX Wildlfy:jmx[{#JMXOBJ},statisticsEnabled].str(true)}=0</expression></dependency></dependencies></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} AvailableCount</name><type>JMX</type><key>jmx[{#JMXOBJ},AvailableCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} AverageBlockingTime</name><type>JMX</type><key>jmx[{#JMXOBJ},AverageBlockingTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} AverageCreationTime</name><type>JMX</type><key>jmx[{#JMXOBJ},AverageCreationTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} AverageGetTime</name><type>JMX</type><key>jmx[{#JMXOBJ},AverageGetTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} AveragePoolTime</name><type>JMX</type><key>jmx[{#JMXOBJ},AveragePoolTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} AverageUsageTime</name><type>JMX</type><key>jmx[{#JMXOBJ},AverageUsageTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} BlockingFailureCount</name><type>JMX</type><key>jmx[{#JMXOBJ},BlockingFailureCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} CreatedCount</name><type>JMX</type><key>jmx[{#JMXOBJ},CreatedCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} DestroyedCount</name><type>JMX</type><key>jmx[{#JMXOBJ},DestroyedCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} IdleCount</name><type>JMX</type><key>jmx[{#JMXOBJ},IdleCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} InUseCount</name><type>JMX</type><key>jmx[{#JMXOBJ},InUseCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} MaxCreationTime</name><type>JMX</type><key>jmx[{#JMXOBJ},MaxCreationTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} MaxGetTime</name><type>JMX</type><key>jmx[{#JMXOBJ},MaxGetTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} MaxPoolTime</name><type>JMX</type><key>jmx[{#JMXOBJ},MaxPoolTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} MaxUsageTime</name><type>JMX</type><key>jmx[{#JMXOBJ},MaxUsageTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} MaxUsedCount</name><type>JMX</type><key>jmx[{#JMXOBJ},MaxUsedCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} MaxWaitCount</name><type>JMX</type><key>jmx[{#JMXOBJ},MaxWaitCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} MaxWaitTime</name><type>JMX</type><key>jmx[{#JMXOBJ},MaxWaitTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} statisticsEnabled</name><type>JMX</type><key>jmx[{#JMXOBJ},statisticsEnabled]</key><delay>30s</delay><history>30d</history><trends>0</trends><value_type>TEXT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><trigger_prototypes><trigger_prototype><expression>{str(true)}=0</expression><name>Datasource {#JMXDATA_SOURCE} monitoring statistic is not enabled!</name><priority>INFO</priority><manual_close>YES</manual_close></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} TimedOut</name><type>JMX</type><key>jmx[{#JMXOBJ},TimedOut]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><trigger_prototypes><trigger_prototype><expression>{diff(300)}&gt;0</expression><name>Datasource {#JMXDATA_SOURCE} connection is timeout on {HOST.NAME}</name><priority>DISASTER</priority><manual_close>YES</manual_close></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} TotalBlockingTime</name><type>JMX</type><key>jmx[{#JMXOBJ},TotalBlockingTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} TotalCreationTime</name><type>JMX</type><key>jmx[{#JMXOBJ},TotalCreationTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} TotalGetTime</name><type>JMX</type><key>jmx[{#JMXOBJ},TotalGetTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} TotalPoolTime</name><type>JMX</type><key>jmx[{#JMXOBJ},TotalPoolTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} TotalUsageTime</name><type>JMX</type><key>jmx[{#JMXOBJ},TotalUsageTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} WaitCount</name><type>JMX</type><key>jmx[{#JMXOBJ},WaitCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><trigger_prototypes><trigger_prototype><expression>{avg(300)}&gt;0</expression><name>Datasource {#JMXDATA_SOURCE} connection is waiting on {HOST.NAME}</name><priority>HIGH</priority><manual_close>YES</manual_close></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XACommitAverageTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XACommitAverageTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XACommitCount</name><type>JMX</type><key>jmx[{#JMXOBJ},XACommitCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XACommitMaxTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XACommitMaxTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XACommitTotalTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XACommitTotalTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAEndAverageTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XAEndAverageTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAEndCount</name><type>JMX</type><key>jmx[{#JMXOBJ},XAEndCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAEndMaxTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XAEndMaxTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAEndTotalTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XAEndTotalTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAForgetAverageTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XAForgetAverageTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAForgetCount</name><type>JMX</type><key>jmx[{#JMXOBJ},XAForgetCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAForgetMaxTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XAForgetMaxTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAForgetTotalTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XAForgetTotalTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAPrepareAverageTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XAPrepareAverageTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAPrepareCount</name><type>JMX</type><key>jmx[{#JMXOBJ},XAPrepareCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAPrepareMaxTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XAPrepareMaxTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAPrepareTotalTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XAPrepareTotalTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XARecoverAverageTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XARecoverAverageTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XARecoverCount</name><type>JMX</type><key>jmx[{#JMXOBJ},XARecoverCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XARecoverMaxTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XARecoverMaxTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XARecoverTotalTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XARecoverTotalTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XARollbackAverageTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XARollbackAverageTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XARollbackCount</name><type>JMX</type><key>jmx[{#JMXOBJ},XARollbackCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XARollbackMaxTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XARollbackMaxTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XARollbackTotalTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XARollbackTotalTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAStartAverageTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XAStartAverageTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAStartCount</name><type>JMX</type><key>jmx[{#JMXOBJ},XAStartCount]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAStartMaxTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XAStartMaxTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype><item_prototype><name>{#JMXDATA_SOURCE} XAStartTotalTime</name><type>JMX</type><key>jmx[{#JMXOBJ},XAStartTotalTime]</key><delay>30</delay><value_type>FLOAT</value_type><username>{$WILDFLY.USER}</username><password>{$WILDFLY.PASS}</password><description>{#JMXDESC}</description><application_prototypes><application_prototype><name>JMX Wildfly Datasource</name></application_prototype></application_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><expression>{JMX Wildlfy:jmx[{#JMXOBJ},InUseCount].last(0)}&gt;({JMX Wildlfy:jmx[{#JMXOBJ},AvailableCount].last(0)}*0.9)</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{JMX Wildlfy:jmx[{#JMXOBJ},InUseCount].last(0)}&lt;({JMX Wildlfy:jmx[{#JMXOBJ},AvailableCount].last(0)}*0.7)</recovery_expression><name>Datasource {#JMXDATA_SOURCE} 90% connection is in use {HOST.NAME}</name><priority>DISASTER</priority><manual_close>YES</manual_close></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><name>JMX {#JMXDATA_SOURCE} connection</name><graph_items><graph_item><color>6C59DC</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},InUseCount]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},AvailableCount]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>1A7C11</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},ActiveCount]</key></item></graph_item><graph_item><sortorder>3</sortorder><color>2774A4</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},MaxUsedCount]</key></item></graph_item><graph_item><sortorder>4</sortorder><color>A54F10</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},TimedOut]</key></item></graph_item><graph_item><sortorder>5</sortorder><color>FC6EA3</color><item><host>JMX Wildlfy</host><key>jmx[{#JMXOBJ},WaitCount]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes><jmx_endpoint>service:jmx:{$JMX.PROTOCOL}://{HOST.CONN}:{HOST.PORT}</jmx_endpoint><lld_macro_paths><lld_macro_path><lld_macro>{#JMXDATA_SOURCE}</lld_macro><path>$.properties.[&quot;data-source&quot;]</path></lld_macro_path><lld_macro_path><lld_macro>{#JMXOBJ}</lld_macro><path>$.object</path></lld_macro_path></lld_macro_paths></discovery_rule></discovery_rules><macros><macro><macro>{$JMX.PROTOCOL}</macro><value>remote</value></macro><macro><macro>{$WILDFLY.PASS}</macro><value>heslo</value></macro><macro><macro>{$WILDFLY.USER}</macro><value>zabbix</value></macro></macros></template></templates><triggers><trigger><expression>{JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.used].last(0)}&gt;({JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.max].last(0)}*0.7)</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.used].last(0)}&lt;({JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.max].last(0)}*0.6)</recovery_expression><name>70% Heap Memory used on {HOST.NAME}</name><priority>AVERAGE</priority></trigger><trigger><expression>{JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.used].last(0)}&gt;({JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.max].last(0)}*0.7)</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.used].last(0)}&lt;({JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.max].last(0)}*0.6)</recovery_expression><name>70% Non-Heap Memory used on {HOST.NAME}</name><priority>AVERAGE</priority></trigger><trigger><expression>{JMX Wildlfy:jmx[&quot;java.lang:type=OperatingSystem&quot;,OpenFileDescriptorCount].last(0)}&gt;({JMX Wildlfy:jmx[&quot;java.lang:type=OperatingSystem&quot;,MaxFileDescriptorCount].last(0)}*0.7)</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{JMX Wildlfy:jmx[&quot;java.lang:type=OperatingSystem&quot;,OpenFileDescriptorCount].last(0)}&lt;({JMX Wildlfy:jmx[&quot;java.lang:type=OperatingSystem&quot;,MaxFileDescriptorCount].last(0)}*0.6)</recovery_expression><name>70% Opened File Descriptor Count used on {HOST.NAME}</name><priority>AVERAGE</priority></trigger><trigger><expression>{JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.used].last(0)}&gt;({JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.max].last(0)}*0.9)</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.used].last(0)}&lt;({JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.max].last(0)}*0.6)</recovery_expression><name>90% Heap Memory used on {HOST.NAME}</name><priority>DISASTER</priority></trigger><trigger><expression>{JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.used].last(0)}&gt;({JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.max].last(0)}*0.9)</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.used].last(0)}&lt;({JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.max].last(0)}*0.6)</recovery_expression><name>90% Non-Heap Memory used on {HOST.NAME}</name><priority>DISASTER</priority></trigger><trigger><expression>{JMX Wildlfy:jmx[&quot;java.lang:type=OperatingSystem&quot;,OpenFileDescriptorCount].last(0)}&gt;({JMX Wildlfy:jmx[&quot;java.lang:type=OperatingSystem&quot;,MaxFileDescriptorCount].last(0)}*0.9)</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{JMX Wildlfy:jmx[&quot;java.lang:type=OperatingSystem&quot;,OpenFileDescriptorCount].last(0)}&lt;({JMX Wildlfy:jmx[&quot;java.lang:type=OperatingSystem&quot;,MaxFileDescriptorCount].last(0)}*0.6)</recovery_expression><name>90% Opened File Descriptor Count used on {HOST.NAME}</name><priority>DISASTER</priority></trigger><trigger><expression>{JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.committed].last(0)}={JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.max].last(0)}</expression><name>Heap Memory fully committed on {HOST.NAME}</name><priority>WARNING</priority></trigger><trigger><expression>{JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.committed].last(0)}={JMX Wildlfy:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.max].last(0)}</expression><name>Non-Heap Memory fully committed on {HOST.NAME}</name><priority>WARNING</priority></trigger></triggers><graphs><graph><name>JMX Class Loader</name><graph_items><graph_item><color>C80000</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=ClassLoading&quot;,TotalLoadedClassCount]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>00C800</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=ClassLoading&quot;,UnloadedClassCount]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>0000C8</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=ClassLoading&quot;,LoadedClassCount]</key></item></graph_item></graph_items></graph><graph><name>JMX File Descriptors</name><graph_items><graph_item><color>C80000</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=OperatingSystem&quot;,MaxFileDescriptorCount]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>00C800</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=OperatingSystem&quot;,OpenFileDescriptorCount]</key></item></graph_item></graph_items></graph><graph><name>JMX Heap Memory</name><graph_items><graph_item><color>1A7C11</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.committed]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.max]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>2774A4</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.used]</key></item></graph_item></graph_items></graph><graph><name>JMX  Non Heap Memory</name><graph_items><graph_item><color>1A7C11</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.committed]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>F63100</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.max]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>2774A4</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.used]</key></item></graph_item></graph_items></graph><graph><name>JMX Threads</name><graph_items><graph_item><color>C80000</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=Threading&quot;,PeakThreadCount]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>00C800</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=Threading&quot;,DaemonThreadCount]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>0000C8</color><item><host>JMX Wildlfy</host><key>jmx[&quot;java.lang:type=Threading&quot;,ThreadCount]</key></item></graph_item></graph_items></graph></graphs><value_maps><value_map><name>Service state</name><mappings><mapping><value>0</value><newvalue>Down</newvalue></mapping><mapping><value>1</value><newvalue>Up</newvalue></mapping></mappings></value_map></value_maps></zabbix_export>
