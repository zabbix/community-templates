<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:21:06Z</date><groups><group><name>Templates</name></group></groups><templates><template><template>App Chrony Service</template><name>App Chrony Service</name><description>## Overview

This template will parse the various types of data from the acquisition result of chronyc tracking command.  
This allows you to detect the change of the time of displacement and Stratum by chrony.



</description><groups><group><name>Templates</name></group></groups><applications><application><name>Time synchronization</name></application></applications><items><item><name>Number of chrony processes</name><key>proc.num[,chrony]</key><delay>60</delay><applications><application><name>Time synchronization</name></application></applications><triggers><trigger><expression>{max(#1)}=0</expression><name>Chrony service is down on {HOST.NAME}</name><status>DISABLED</status><priority>AVERAGE</priority></trigger></triggers></item><item><name>Chrony Last offset</name><type>ZABBIX_ACTIVE</type><key>system.run[chronyc tracking|grep &quot;Last offset&quot;|awk '{print $4}']</key><delay>1800</delay><value_type>FLOAT</value_type><units>s</units><description>This is the estimated local offset on the last clock update.</description><applications><application><name>Time synchronization</name></application></applications></item><item><name>Chrony Leap status</name><type>ZABBIX_ACTIVE</type><key>system.run[chronyc tracking|grep &quot;Leap status&quot;|awk '{print $4" "$5}']</key><delay>1800</delay><trends>0</trends><value_type>CHAR</value_type><description>This is the leap status, which can be Normal, Insert second, Delete second or Not synchronised.</description><applications><application><name>Time synchronization</name></application></applications><triggers><trigger><expression>{regexp(&quot;Not synchronised&quot;)}=1</expression><name>{HOST.NAME} is Not synchronized</name><status>DISABLED</status><priority>HIGH</priority></trigger></triggers></item><item><name>Chrony synchronized server</name><type>ZABBIX_ACTIVE</type><key>system.run[chronyc tracking|grep &quot;Reference ID&quot;|awk '{print $4$5}']</key><delay>1800</delay><trends>0</trends><value_type>CHAR</value_type><description>This is the reference ID and name (or IP address) if available, of the server to which the computer is currently synchronized.</description><applications><application><name>Time synchronization</name></application></applications><triggers><trigger><expression>{diff(0)}=1</expression><name>Chrony servers are synchronized has been changed .</name><status>DISABLED</status><priority>INFO</priority></trigger></triggers></item><item><name>Chrony RMS offset</name><type>ZABBIX_ACTIVE</type><key>system.run[chronyc tracking|grep &quot;RMS offset&quot;|awk '{print $4}']</key><delay>1800</delay><value_type>FLOAT</value_type><units>s</units><description>This is a long-term average of the offset value.</description><applications><application><name>Time synchronization</name></application></applications></item><item><name>Chrony Root delay</name><type>ZABBIX_ACTIVE</type><key>system.run[chronyc tracking|grep &quot;Root delay&quot;|awk '{print $4}']</key><delay>1800</delay><value_type>FLOAT</value_type><units>s</units><description>This is the total of the network path delays to the stratum-1 computer from which the computer is ultimately synchronized. In certain extreme situations, this value can be negative. (This can arise in a symmetric peer arrangement where the computersâ€™ frequencies are not tracking each other and the network delay is very short relative to the turn-around time at each computer.)</description><applications><application><name>Time synchronization</name></application></applications></item><item><name>Chrony Stratum</name><type>ZABBIX_ACTIVE</type><key>system.run[chronyc tracking|grep &quot;Stratum&quot;|awk '{print $3}']</key><delay>1800</delay><description>The stratum indicates how many hops away from a computer with an attached reference clock we are. Such a computer is a stratum-1 computer, so the computer in the example is two hops away</description><applications><application><name>Time synchronization</name></application></applications></item><item><name>Chrony Update interval</name><type>ZABBIX_ACTIVE</type><key>system.run[chronyc tracking|grep &quot;Update interval&quot;|awk '{print $4}']</key><delay>1800</delay><value_type>FLOAT</value_type><units>s</units><description>This is the total dispersion accumulated through all the computers back to the stratum-1 computer from which the computer is ultimately synchronized. Dispersion is due to system clock resolution, statistical measurement variations etc.</description><applications><application><name>Time synchronization</name></application></applications></item><item><name>Version of chrony(d) running</name><type>ZABBIX_ACTIVE</type><key>system.run[chronyd --version]</key><delay>3600</delay><trends>0</trends><value_type>CHAR</value_type><applications><application><name>Time synchronization</name></application></applications></item></items></template></templates></zabbix_export>
