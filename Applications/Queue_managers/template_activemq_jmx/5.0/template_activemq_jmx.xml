<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:31:48Z</date><groups><group><name>Templates/Applications</name></group></groups><templates><template><template>App ActiveMQ JMX</template><name>App ActiveMQ JMX</name><description>## Overview

You can configure like the image;


![](http://prntscr.com/hk7sbu)



## Author

Armagan Yaman

</description><groups><group><name>Templates/Applications</name></group></groups><applications><application><name>Active MQ</name></application><application><name>Broker</name></application><application><name>Destination</name></application><application><name>Memory</name></application><application><name>Operating System</name></application><application><name>Runtime</name></application><application><name>Threads</name></application></applications><items><item><name>mem Heap Memory committed</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.committed]</key><history>1w</history><units>B</units><applications><application><name>Memory</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>mem Heap Memory max</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.max]</key><delay>1h</delay><history>1w</history><units>B</units><applications><application><name>Memory</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>mem Heap Memory used</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.used]</key><history>1w</history><units>B</units><applications><application><name>Memory</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>mem Non-Heap Memory committed</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.committed]</key><history>1w</history><units>B</units><applications><application><name>Memory</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>mem Non-Heap Memory max</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.max]</key><delay>1h</delay><history>1w</history><units>B</units><applications><application><name>Memory</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>mem Non-Heap Memory used</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.used]</key><history>1w</history><units>B</units><applications><application><name>Memory</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>mem Object Pending Finalization Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=Memory&quot;,ObjectPendingFinalizationCount]</key><history>1w</history><applications><application><name>Memory</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>os Max File Descriptor Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=OperatingSystem&quot;,MaxFileDescriptorCount]</key><delay>1h</delay><history>1w</history><applications><application><name>Operating System</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>os Open File Descriptor Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=OperatingSystem&quot;,OpenFileDescriptorCount]</key><history>1w</history><applications><application><name>Operating System</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>os Process CPU Load</name><type>JMX</type><key>jmx[&quot;java.lang:type=OperatingSystem&quot;,ProcessCpuLoad]</key><history>1w</history><value_type>FLOAT</value_type><units>%</units><applications><application><name>Operating System</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>100</params></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><triggers><trigger><expression>{last(0)}&gt;70</expression><name>70% os Process CPU Load on {HOST.NAME}</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>jvm Uptime</name><type>JMX</type><key>jmx[&quot;java.lang:type=Runtime&quot;,Uptime]</key><history>1w</history><units>uptime</units><applications><application><name>Runtime</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.001</params></step></preprocessing><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><triggers><trigger><expression>{nodata(5m)}=1</expression><name>{HOST.NAME} is not reachable</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>jvm Name</name><type>JMX</type><key>jmx[&quot;java.lang:type=Runtime&quot;,VmName]</key><delay>1h</delay><history>1w</history><trends>0</trends><value_type>CHAR</value_type><applications><application><name>Runtime</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><triggers><trigger><expression>{str(Server)}&lt;&gt;1</expression><name>{HOST.NAME} runs suboptimal VM type</name><priority>INFO</priority></trigger></triggers></item><item><name>jvm Version</name><type>JMX</type><key>jmx[&quot;java.lang:type=Runtime&quot;,VmVersion]</key><delay>1h</delay><history>1w</history><trends>0</trends><value_type>CHAR</value_type><applications><application><name>Runtime</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>th Daemon Thread Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=Threading&quot;,DaemonThreadCount]</key><history>1w</history><applications><application><name>Threads</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>th Peak Thread Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=Threading&quot;,PeakThreadCount]</key><history>1w</history><applications><application><name>Threads</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>th Thread Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=Threading&quot;,ThreadCount]</key><history>1w</history><applications><application><name>Threads</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>th Total Started Thread Count</name><type>JMX</type><key>jmx[&quot;java.lang:type=Threading&quot;,TotalStartedThreadCount]</key><history>1w</history><applications><application><name>Threads</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>MemoryLimit for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Broker,brokerName={$BRKNAME}&quot;,MemoryLimit]</key><delay>3600</delay><units>byte</units><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Broker</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>MemoryPercentUsage for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Broker,brokerName={$BRKNAME}&quot;,MemoryPercentUsage]</key><delay>60</delay><units>%</units><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Broker</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><triggers><trigger><expression>{last(0)}&gt;{$AMQ_BROKER_MEM_USAGE_THRESHOLD}</expression><name>MemoryPercentUsage &gt;{$AMQ_BROKER_MEM_USAGE_THRESHOLD}% for broker {$BRKNAME}</name><priority>HIGH</priority></trigger></triggers></item><item><name>StoreLimit for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Broker,brokerName={$BRKNAME}&quot;,StoreLimit]</key><delay>3600</delay><units>byte</units><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Broker</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>StorePercentUsage for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Broker,brokerName={$BRKNAME}&quot;,StorePercentUsage]</key><delay>60</delay><units>%</units><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Broker</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><triggers><trigger><expression>{last(0)}&gt;{$AMQ_BROKER_STORE_USAGE_THRESHOLD}</expression><name>StorePercentUsage &gt;{$AMQ_BROKER_STORE_USAGE_THRESHOLD}% for broker {$BRKNAME}</name><priority>HIGH</priority></trigger></triggers></item><item><name>TempLimit for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Broker,brokerName={$BRKNAME}&quot;,TempLimit]</key><delay>3600</delay><units>byte</units><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Broker</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>TempPercentUsage for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Broker,brokerName={$BRKNAME}&quot;,TempPercentUsage]</key><delay>60</delay><units>%</units><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Broker</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint><triggers><trigger><expression>{last(0)}&gt;{$AMQ_BROKER_TMP_USAGE_THRESHOLD}</expression><name>TempPercentUsage &gt;{$AMQ_BROKER_TMP_USAGE_THRESHOLD}% for broker {$BRKNAME}</name><priority>HIGH</priority></trigger></triggers></item><item><name>TotalConsumerCount for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Broker,brokerName={$BRKNAME}&quot;,TotalConsumerCount]</key><delay>60</delay><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Broker</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>TotalDequeueCount per minute for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Broker,brokerName={$BRKNAME}&quot;,TotalDequeueCount]</key><delay>30s</delay><value_type>FLOAT</value_type><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Broker</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>TotalEnqueueCount per minute for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Broker,brokerName={$BRKNAME}&quot;,TotalEnqueueCount]</key><delay>30s</delay><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Broker</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>TotalMessageCount per minute for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Broker,brokerName={$BRKNAME}&quot;,TotalMessageCount]</key><delay>30s</delay><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Broker</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>Size of {$BRKNAME} Kaha DB</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Broker,brokerName={$BRKNAME},service=PersistenceAdapter,instanceName=KahaDBPersistenceAdapter[/kahadb_Index_/kahadb]&quot;,Size]</key><delay>60</delay><units>byte</units><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>AverageEnqueueTime for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Destination,brokerName={$BRKNAME}&quot;,AverageEnqueueTime]</key><delay>300</delay><value_type>FLOAT</value_type><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Destination</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>ConsumerCount for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Destination,brokerName={$BRKNAME}&quot;,ConsumerCount]</key><delay>60</delay><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Destination</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>DequeueCount per minute for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Destination,brokerName={$BRKNAME}&quot;,DequeueCount]</key><delay>30s</delay><value_type>FLOAT</value_type><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Destination</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>EnqueueCount per minute for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Destination,brokerName={$BRKNAME}&quot;,EnqueueCount]</key><delay>30s</delay><value_type>FLOAT</value_type><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Destination</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>ExpiredCount per minute for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Destination,brokerName={$BRKNAME}&quot;,ExpiredCount]</key><delay>30s</delay><value_type>FLOAT</value_type><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Destination</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>ProducerCount for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Destination,brokerName={$BRKNAME}&quot;,ProducerCount]</key><delay>60</delay><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Destination</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item><item><name>QueueSize for {$BRKNAME}</name><type>JMX</type><key>jmx[&quot;org.apache.activemq:type=Destination,brokerName={$BRKNAME}&quot;,QueueSize]</key><delay>60</delay><username>{$JMX_USERNAME}</username><password>{$JMX_PASSWORD}</password><applications><application><name>Active MQ</name></application><application><name>Destination</name></application></applications><jmx_endpoint>service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi</jmx_endpoint></item></items><macros><macro><macro>{$AMQ_BROKER_MEM_USAGE_THRESHOLD}</macro><value>85</value></macro><macro><macro>{$AMQ_BROKER_STORE_USAGE_THRESHOLD}</macro><value>85</value></macro><macro><macro>{$AMQ_BROKER_TMP_USAGE_THRESHOLD}</macro><value>85</value></macro><macro><macro>{$BRKNAME}</macro><value>none</value></macro></macros></template></templates><triggers><trigger><expression>{App ActiveMQ JMX:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.used].last(0)}&gt;({App ActiveMQ JMX:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.max].last(0)}*0.7)</expression><name>70% mem Heap Memory used on {HOST.NAME}</name><priority>AVERAGE</priority></trigger><trigger><expression>{App ActiveMQ JMX:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.used].last(0)}&gt;({App ActiveMQ JMX:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.max].last(0)}*0.7)</expression><name>70% mem Non-Heap Memory used on {HOST.NAME}</name><priority>AVERAGE</priority></trigger><trigger><expression>{App ActiveMQ JMX:jmx[&quot;java.lang:type=OperatingSystem&quot;,OpenFileDescriptorCount].last(0)}&gt;({App ActiveMQ JMX:jmx[&quot;java.lang:type=OperatingSystem&quot;,MaxFileDescriptorCount].last(0)}*0.7)</expression><name>70% os Opened File Descriptor Count used on {HOST.NAME}</name><priority>AVERAGE</priority></trigger><trigger><expression>{App ActiveMQ JMX:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.committed].last(0)}={App ActiveMQ JMX:jmx[&quot;java.lang:type=Memory&quot;,HeapMemoryUsage.max].last(0)}</expression><name>mem Heap Memory fully committed on {HOST.NAME}</name><priority>WARNING</priority></trigger><trigger><expression>{App ActiveMQ JMX:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.committed].last(0)}={App ActiveMQ JMX:jmx[&quot;java.lang:type=Memory&quot;,NonHeapMemoryUsage.max].last(0)}</expression><name>mem Non-Heap Memory fully committed on {HOST.NAME}</name><priority>WARNING</priority></trigger></triggers><graphs><graph><name>File Descriptors</name><graph_items><graph_item><color>C80000</color><item><host>App ActiveMQ JMX</host><key>jmx[&quot;java.lang:type=OperatingSystem&quot;,MaxFileDescriptorCount]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>00C800</color><item><host>App ActiveMQ JMX</host><key>jmx[&quot;java.lang:type=OperatingSystem&quot;,OpenFileDescriptorCount]</key></item></graph_item></graph_items></graph><graph><name>Threads</name><graph_items><graph_item><color>C80000</color><item><host>App ActiveMQ JMX</host><key>jmx[&quot;java.lang:type=Threading&quot;,PeakThreadCount]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>00C800</color><item><host>App ActiveMQ JMX</host><key>jmx[&quot;java.lang:type=Threading&quot;,DaemonThreadCount]</key></item></graph_item><graph_item><sortorder>2</sortorder><color>0000C8</color><item><host>App ActiveMQ JMX</host><key>jmx[&quot;java.lang:type=Threading&quot;,ThreadCount]</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
