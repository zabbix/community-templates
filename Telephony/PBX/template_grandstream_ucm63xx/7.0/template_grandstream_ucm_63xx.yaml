zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: 1d12408342854fd5a4436dd6d5d1bd4a
      name: Templates/Telephony
  templates:
    - uuid: 953306b9d4ac42fab0e43c36a6beb612
      template: GrandstreamUCM63xx
      name: 'Grandstream UCM 63xx'
      description: |
        ## Description
        
        Grandstream UCM 63xx PBX template
        
        ## Overview
        
        ```
        Zabbix template for Asterisk IP PBX  
        ```

        ## Requirements

        GS-SNMP-MIB
        
        ## Author
        
        KMorwath
      
      groups:
        - name: Templates/Telephony
      items:
        - uuid: 15913f2a32e3494c93fc4e06b685e565
          name: 'Concurrent calls'
          type: SNMP_AGENT
          snmp_oid: 'get[GS-SNMP-MIB::gsobject.2.2.9.0]'
          key: gs.concurrentcalls
          delay: 10m
          value_type: CHAR
          trends: '0'
          description: 'Max concurrent calls setting'
        - uuid: 4e09aa6b6e464328ac1356c599d4f923
          name: 'CPU usage'
          type: SNMP_AGENT
          snmp_oid: 'get[GS-SNMP-MIB::gsobject.2.2.8.0]'
          key: gs.cpuusage
          value_type: CHAR
          trends: '0'
          description: 'CPU usage'
        - uuid: 6269b9366ee0444c9782c499f6dfe3f0
          name: 'Disk usage'
          type: SNMP_AGENT
          snmp_oid: 'get[GS-SNMP-MIB::gsobject.2.2.6.0]'
          key: gs.diskusage
          delay: 10m
          value_type: CHAR
          trends: '0'
        - uuid: 553a5507fb74475ca1a0fa72f70aca19
          name: 'Firmware version'
          type: SNMP_AGENT
          snmp_oid: 'get[GS-SNMP-MIB::gsobject.2.2.3.0]'
          key: gs.firmware
          delay: 1d
          value_type: CHAR
          trends: '0'
          description: 'Firmware version'
          inventory_link: SOFTWARE
        - uuid: e6d8c7b5f08c476e8c4b61bd9b7675e9
          name: Hostname
          type: SNMP_AGENT
          snmp_oid: 'get[GS-SNMP-MIB::gsobject.2.2.10.0]'
          key: gs.hostname
          delay: 10m
          value_type: CHAR
          trends: '0'
          inventory_link: ALIAS
        - uuid: 378a9ed9759545098fea058b48102e5c
          name: 'Hardware version'
          type: SNMP_AGENT
          snmp_oid: 'get[GS-SNMP-MIB::gsobject.2.2.2.0]'
          key: gs.hwversion
          delay: 1d
          value_type: CHAR
          trends: '0'
          description: 'UCM 63xx hardware version'
          inventory_link: HARDWARE
        - uuid: 42bad5f82c1f46f5aa5d7349103970e5
          name: 'Memory usage'
          type: SNMP_AGENT
          snmp_oid: 'get[GS-SNMP-MIB::gsobject.2.2.7.0 ]'
          key: gs.memoryusae
          value_type: CHAR
          trends: '0'
          description: 'Memory usage'
        - uuid: 7dcb6bb77795462aa27b8c74ccb4e40d
          name: Model
          type: SNMP_AGENT
          snmp_oid: 'get[GS-SNMP-MIB::gsobject.2.2.1.0]'
          key: gs.model
          delay: 1d
          value_type: CHAR
          trends: '0'
          description: 'UCM model'
          inventory_link: MODEL
        - uuid: 9a6a9c3723e14c5cbf7b0e59c2238070
          name: 'Serial number'
          type: SNMP_AGENT
          snmp_oid: 'get[GS-SNMP-MIB::gsobject.2.2.4.0]'
          key: gs.serialnumber
          delay: 1d
          value_type: CHAR
          trends: '0'
          description: 'Serial number'
          inventory_link: SERIALNO_A
        - uuid: 2c57083f4bca45c58b2de0350f948503
          name: Uptime
          type: SNMP_AGENT
          snmp_oid: 'get[GS-SNMP-MIB::gsobject.2.2.5.0]'
          key: gs.uptime
          delay: 10m
          value_type: CHAR
          trends: '0'
          description: 'System uptime'
        - uuid: 54d1ea1ea69e4a2ab7ea75d31fd810e1
          name: 'SNMP walk calls'
          type: SNMP_AGENT
          snmp_oid: 'walk[GS-SNMP-MIB::gsobject.2.1]'
          key: gs.walk.calls
          value_type: TEXT
          trends: '0'
          description: 'SNMP walk calls node'
        - uuid: 2aeb1a52ac514bd7a4ca18f7dac32f7c
          name: 'SNMP walk extensions'
          type: SNMP_AGENT
          snmp_oid: 'walk[GS-SNMP-MIB::gsobject.2.4.1.1]'
          key: gs.walk.ext
          value_type: TEXT
          trends: '0'
          description: 'Retrieve extensions data'
          timeout: 10s
        - uuid: 75405b8df531458f8ee9ce0bca83b4d2
          name: 'SNMP walk interfaces'
          type: SNMP_AGENT
          snmp_oid: 'walk[GS-SNMP-MIB::gsobject.2.3]'
          key: gs.walk.intf
          delay: 5m
          value_type: TEXT
          trends: '0'
          description: 'WAN/LAN settings'
        - uuid: f9a2fc5554df4e52aebeac528f39c4d2
          name: 'SNMP walk processes'
          type: SNMP_AGENT
          snmp_oid: 'walk[.1.3.6.1.4.1.12581.50]'
          key: gs.walk.processes
          value_type: TEXT
          trends: '0'
          description: 'Walk processes and their status'
        - uuid: 3bcfad2cabd3469593c1d2809687afc5
          name: 'SNMP walk trunks'
          type: SNMP_AGENT
          snmp_oid: 'walk[GS-SNMP-MIB::gsobject.2.5.1.1]'
          key: gs.walk.trunks
          value_type: TEXT
          trends: '0'
          description: 'SNMP walk SIP trunks'
      discovery_rules:
        - uuid: 1f9bf91330274b21abe4dfd38b88caeb
          name: 'Discovery calls'
          type: DEPENDENT
          key: gs.calls.discovery
          delay: '0'
          description: 'Calls data'
          item_prototypes:
            - uuid: 6384084fd9df4014a4bf633a0a7192c9
              name: 'Answered calls'
              type: DEPENDENT
              key: 'gs.answeredcalls[{#SNMPINDEX}]'
              delay: '0'
              description: 'Number of answered calls'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.1.5.0'
                    - '0'
              master_item:
                key: gs.walk.calls
            - uuid: 0ce8513123a64907895fb31776f04195
              name: 'Busy calls'
              type: DEPENDENT
              key: 'gs.busycalls[{#SNMPINDEX}]'
              delay: '0'
              description: 'Number of busy calls'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.1.7.0'
                    - '0'
              master_item:
                key: gs.walk.calls
            - uuid: 1b9abecbfd0f4f8093c12d3e860dd3a5
              name: 'Failed calls'
              type: DEPENDENT
              key: 'gs.failedcalls[{#SNMPINDEX}]'
              delay: '0'
              description: 'Number of failed calls'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.1.6.0'
                    - '0'
              master_item:
                key: gs.walk.calls
            - uuid: 6a1b977efc474542a159cb23e5e11d95
              name: 'Inbound calls'
              type: DEPENDENT
              key: 'gs.inboundcalls[{#SNMPINDEX}]'
              delay: '0'
              description: 'Number of inbound calls'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.1.4.0'
                    - '0'
              master_item:
                key: gs.walk.calls
            - uuid: 9085caa718b84284ae513564cb0589ec
              name: 'Internal calls'
              type: DEPENDENT
              key: 'gs.internalcalls[{#SNMPINDEX}]'
              delay: '0'
              description: 'Number of internal calls'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.1.2.0'
                    - '0'
              master_item:
                key: gs.walk.calls
            - uuid: c96bbf0050594d3c852ab21780738225
              name: 'No answer calls'
              type: DEPENDENT
              key: 'gs.noanswercalls[{#SNMPINDEX}]'
              delay: '0'
              description: 'Number of no answer calls'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.1.8.0'
                    - '0'
              master_item:
                key: gs.walk.calls
            - uuid: d59a73315aea476988ef78443d1dab42
              name: 'Outbound calls'
              type: DEPENDENT
              key: 'gs.outboundcalls[{#SNMPINDEX}]'
              delay: '0'
              description: 'Number of outbound calls'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.1.3.0'
                    - '0'
              master_item:
                key: gs.walk.calls
            - uuid: ede93dfe9bf5445f8faf7a4edbe4d7f1
              name: 'Total calls'
              type: DEPENDENT
              key: 'gs.totalcalls[{#SNMPINDEX}]'
              delay: '0'
              description: 'Total number of calls'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.1.1.0'
                    - '0'
              master_item:
                key: gs.walk.calls
          master_item:
            key: gs.walk.calls
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#TOTALCALLS}'
                - 'GS-SNMP-MIB::gsobject.2.1.1'
                - '0'
                - '{#INTERNALCALLS}'
                - 'GS-SNMP-MIB::gsobject.2.1.2'
                - '0'
                - '{#OUTBANDCALLS}'
                - 'GS-SNMP-MIB::gsobject.2.1.3'
                - '0'
                - '{#INBOUNDCALLs}'
                - 'GS-SNMP-MIB::gsobject.2.1.4'
                - '0'
                - '{#ANSWEREDCALLS}'
                - 'GS-SNMP-MIB::gsobject.2.1.5'
                - '0'
                - '{#FAILEDCALLS}'
                - 'GS-SNMP-MIB::gsobject.2.1.6'
                - '0'
                - '{#BUSYCALS}'
                - 'GS-SNMP-MIB::gsobject.2.1.7'
                - '0'
                - '{#NOANSWERCALL}'
                - 'GS-SNMP-MIB::gsobject.2.1.8'
                - '0'
        - uuid: f516607107aa48cfb101e1c57126f352
          name: 'Discovery extensions'
          type: DEPENDENT
          key: gs.ext.discovery
          delay: '0'
          description: 'Discover extensions data'
          item_prototypes:
            - uuid: 62b24279d5ec42a2920ba6c999eaae9a
              name: 'Ext {#EXTNAME} status'
              type: DEPENDENT
              key: 'gs.ext.status[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'Extension status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.4.1.1.3.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: gs.walk.ext
            - uuid: 541dd8d1a51149d598810cd4c240b86f
              name: 'Ext {#EXTNAME} type'
              type: DEPENDENT
              key: 'gs.ext.type[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'Extension type'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.4.1.1.5.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: gs.walk.ext
            - uuid: d389e75bfc0143b8b8953a9390a07098
              name: 'Ext {#EXTNAME} voicemail'
              type: DEPENDENT
              key: 'gs.ext.voicemail[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'Extension waiting messages'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.4.1.1.4.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: gs.walk.ext
          master_item:
            key: gs.walk.ext
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#EXTID}'
                - 'GS-SNMP-MIB::gsobject.2.4.1.1.1'
                - '0'
                - '{#EXTNAME}'
                - 'GS-SNMP-MIB::gsobject.2.4.1.1.2'
                - '0'
                - '{#EXTSTATUS}'
                - 'GS-SNMP-MIB::gsobject.2.4.1.1.3'
                - '0'
                - '{#EXTMESSAGES}'
                - 'GS-SNMP-MIB::gsobject.2.4.1.1.4'
                - '0'
                - '{#EXTTYPE}'
                - 'GS-SNMP-MIB::gsobject.2.4.1.1.5'
                - '0'
        - uuid: c9779e4e3e454dd087a6ed22abd37d7a
          name: 'Discovery LAN/WAN settings'
          type: DEPENDENT
          key: gs.intf.discovery
          delay: '0'
          description: 'Dicovery WAN/LAN interfaces settings'
          item_prototypes:
            - uuid: f4f1b271375c49ae85300e05a749f2f5
              name: 'LAN DNS'
              type: DEPENDENT
              key: 'gs.lan.dns[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'LAN interface DNS servers'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.7.0'
                    - '0'
              master_item:
                key: gs.walk.intf
            - uuid: a0917dd63910478c9719d15c7546e728
              name: 'LAN gateway'
              type: DEPENDENT
              key: 'gs.lan.gateway[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'LAN interface gateway address'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.5.0'
                    - '0'
              master_item:
                key: gs.walk.intf
            - uuid: e107bfd6f38e488db84b10ed03a78aac
              name: 'LAN IP address'
              type: DEPENDENT
              key: 'gs.lan.ip[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'LAN interface IP address'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.3.0'
                    - '0'
              master_item:
                key: gs.walk.intf
            - uuid: fa40e167468c45009a5a4399afdd241c
              name: 'LAN MAC address'
              type: DEPENDENT
              key: 'gs.lan.mac[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'LAN interface MAC address'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.2.0'
                    - '2'
              master_item:
                key: gs.walk.intf
            - uuid: 12806dc7800740a693bde00d0c3ce125
              name: 'LAN mode'
              type: DEPENDENT
              key: 'gs.lan.mode[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'LAN interface mode'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.6.0'
                    - '0'
              master_item:
                key: gs.walk.intf
            - uuid: e32161b51f8f443fbcd9c4282e897d8f
              name: 'LAN netmask'
              type: DEPENDENT
              key: 'gs.lan.netmask[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'LAN interface network mask address'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.4.0'
                    - '0'
              master_item:
                key: gs.walk.intf
            - uuid: 8d56a364c1ca41408b07a3da0646c1fb
              name: 'LAN status'
              type: DEPENDENT
              key: 'gs.lan.status[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'LAN interface status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.1.0'
                    - '0'
              master_item:
                key: gs.walk.intf
            - uuid: c03c9f5590d54501ad79cb65ef67ef02
              name: 'WAN DNS'
              type: DEPENDENT
              key: 'gs.wan.dns[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'WAN interface DNS servers'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.14.0'
                    - '0'
              master_item:
                key: gs.walk.intf
            - uuid: 023cc78e90ad4bec8cb61a3dad4ec60a
              name: 'WAN gateway'
              type: DEPENDENT
              key: 'gs.wan.gateway[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'WAN interface gateway address'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.12.0'
                    - '0'
              master_item:
                key: gs.walk.intf
            - uuid: b9d5c3db60eb40698d602c51b43e3da9
              name: 'WAN IP address'
              type: DEPENDENT
              key: 'gs.wan.ip[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'WAN interface IP address'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.10.0'
                    - '0'
              master_item:
                key: gs.walk.intf
            - uuid: 9939e55f59184ca68676576f04cc7a19
              name: 'WAN MAC address'
              type: DEPENDENT
              key: 'gs.wan.mac[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'WAN interface MAC address'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.9.0'
                    - '2'
              master_item:
                key: gs.walk.intf
            - uuid: 370b809c95b247f2b5df91c37b416150
              name: 'WAN mode'
              type: DEPENDENT
              key: 'gs.wan.mode[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'WAN interface mode'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.13.0'
                    - '0'
              master_item:
                key: gs.walk.intf
            - uuid: 183a100fa29a40899d6ca6d58381a035
              name: 'WAN netmask'
              type: DEPENDENT
              key: 'gs.wan.netmask[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'WAN interface network mask address'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.11.0'
                    - '0'
              master_item:
                key: gs.walk.intf
            - uuid: a5378ecee7764f13bb9970505b4b4553
              name: 'WAN status'
              type: DEPENDENT
              key: 'gs.wan.status[{#SNMPINDEX}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'WAN interface status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.3.8.0'
                    - '0'
              master_item:
                key: gs.walk.intf
              trigger_prototypes:
                - uuid: 4b88ab93f3ad44cab057637ccd5a4fe3
                  expression: 'last(/GrandstreamUCM63xx/gs.wan.status[{#SNMPINDEX}])<>"Connected"'
                  name: 'WAN interface not connected'
                  priority: HIGH
                  description: 'WAN interface is not connected'
                  manual_close: 'YES'
          master_item:
            key: gs.walk.intf
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#LANSTATUS}'
                - 'GS-SNMP-MIB::gsobject.2.3.1'
                - '0'
                - '{#LANMACADDR}'
                - 'GS-SNMP-MIB::gsobject.2.3.2.0'
                - '2'
                - '{#LANIP}'
                - 'GS-SNMP-MIB::gsobject.2.3.3'
                - '0'
                - '{#LANNETMASK}'
                - 'GS-SNMP-MIB::gsobject.2.3.4'
                - '0'
                - '{#LANGATEWAY}'
                - 'GS-SNMP-MIB::gsobject.2.3.5'
                - '0'
                - '{#LANMODE}'
                - 'GS-SNMP-MIB::gsobject.2.3.6'
                - '0'
                - '{#LANDNS}'
                - 'GS-SNMP-MIB::gsobject.2.3.7'
                - '0'
                - '{#WANSTATUS}'
                - 'GS-SNMP-MIB::gsobject.2.3.8'
                - '0'
                - '{#WANMACADDR}'
                - 'GS-SNMP-MIB::gsobject.2.3.9'
                - '2'
                - '{#WANIP}'
                - 'GS-SNMP-MIB::gsobject.2.3.10'
                - '0'
                - '{#WANNETMASK}'
                - 'GS-SNMP-MIB::gsobject.2.3.11'
                - '0'
                - '{#WANGATEWAY}'
                - 'GS-SNMP-MIB::gsobject.2.3.12'
                - '0'
                - '{#WANMODE}'
                - 'GS-SNMP-MIB::gsobject.2.3.13'
                - '0'
                - '{#WANDNS}'
                - 'GS-SNMP-MIB::gsobject.2.3.14'
                - '0'
        - uuid: eaa6787231fc4f0083280a78b5a05695
          name: 'Discovery processes'
          type: DEPENDENT
          key: gs.processes.discovery
          delay: '0'
          description: 'Discover processes'
          item_prototypes:
            - uuid: 7f72588a85e5447f80d78b965e2b8c56
              name: 'Process {#PROCESSNAME} status'
              type: DEPENDENT
              key: 'gs.process.status[{#SNMPINDEX}]'
              delay: '0'
              valuemap:
                name: ProcessStatus
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - '.1.3.6.1.4.1.12581.50.2.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: gs.walk.processes
              trigger_prototypes:
                - uuid: af5bc820809b453299704e5f6b73ad24
                  expression: 'last(/GrandstreamUCM63xx/gs.process.status[{#SNMPINDEX}])<>0'
                  name: 'Process {#PROCESSNAME} crashed'
                  priority: HIGH
                  description: 'Process crashed. Check the device.'
          master_item:
            key: gs.walk.processes
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#PROCESSNAME}'
                - .1.3.6.1.4.1.12581.50.1
                - '0'
                - '{#PROCESSSTATUS}'
                - .1.3.6.1.4.1.12581.50.2
                - '0'
                - '{#PROCESSDUMP}'
                - .1.3.6.1.4.1.12581.50.3
                - '0'
        - uuid: 3ab714c863ee427b99a2343739fcb3bc
          name: 'Discovery SIP Trunks'
          type: DEPENDENT
          key: gs.sip.trunk.discovery
          delay: '0'
          description: 'Discovery SIP trunks'
          item_prototypes:
            - uuid: 1c7290a6b27e47dbb506d75b03fe22f6
              name: 'Trunk {#TRUNKNAME} status'
              type: DEPENDENT
              key: 'gs.trunk[{#TRUNKID}]'
              delay: '0'
              value_type: CHAR
              trends: '0'
              description: 'Trunk status'
              preprocessing:
                - type: SNMP_WALK_VALUE
                  parameters:
                    - 'GS-SNMP-MIB::gsobject.2.5.1.1.4.{#SNMPINDEX}'
                    - '0'
              master_item:
                key: gs.walk.trunks
              trigger_prototypes:
                - uuid: f354e3ef8cb14257b41a81ef090dd373
                  expression: 'last(/GrandstreamUCM63xx/gs.trunk[{#TRUNKID}])<>"Registered"'
                  name: 'Trunk {#TRUNKNAME} unregistered'
                  priority: HIGH
                  description: 'Trunk is unregistred'
                  manual_close: 'YES'
          master_item:
            key: gs.walk.trunks
          preprocessing:
            - type: SNMP_WALK_TO_JSON
              parameters:
                - '{#TRUNKID}'
                - 'GS-SNMP-MIB::gsobject.2.5.1.1.1'
                - '0'
                - '{#TRUNKNAME}'
                - 'GS-SNMP-MIB::gsobject.2.5.1.1.2'
                - '0'
                - '{#TRUNKTYPE}'
                - 'GS-SNMP-MIB::gsobject.2.5.1.1.3'
                - '0'
                - '{#TRUNKSTATUS}'
                - 'GS-SNMP-MIB::gsobject.2.5.1.1.4'
                - '0'
                - '{#TRUNKHOST}'
                - 'GS-SNMP-MIB::gsobject.2.5.1.1.5'
                - '0'
                - '{#TRUNKCALLERID}'
                - 'GS-SNMP-MIB::gsobject.2.5.1.1.6'
                - '0'
      valuemaps:
        - uuid: a202b1278e884a9daad530d2c41eb6ee
          name: ProcessStatus
          mappings:
            - value: '0'
              newvalue: OK
            - value: '1'
              newvalue: Crashed
