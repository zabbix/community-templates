zabbix_export:
  version: '7.4'
  template_groups:
  - uuid: 8c0b7db3e7a245a8a6e12f2f9d13a4f2
    name: Templates/Power
  templates:
  - uuid: 7af93be5c8fd4b019a49ae2f6c0d9b41
    template: UPS_CS141_Modbus_Default
    name: UPS_CS141_Modbus_Default
    description: 'Piller (and other) UPS with CS141 card, OEM MODBUS Default address
      map.

      Registers 97–150 are implemented as Modbus items via Zabbix agent 2

      modbus.get[] key.

      '
    groups:
    - name: Templates/Power
    items:
    - uuid: e1a4bf930c0f4f9c9f3f734f0cf0fb0d
      name: Output voltage L1
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,97,1,uint16,be,0]
      value_type: FLOAT
      units: V
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 97: OUTPUT_VOLT0 – Output Voltage Phase 1 (scaled 0.1 V).'
      triggers:
      - uuid: 2c2a613ca2c14b67b7c6b4c95a7973de
        name: UPS output voltage deviation warning
        expression: abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,97,1,uint16,be,0])-{$UPS_VOLT_NOMINAL})>{$UPS_OUTPUT_VOLT_WARN_DEV}
          or abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,98,1,uint16,be,0])-{$UPS_VOLT_NOMINAL})>{$UPS_OUTPUT_VOLT_WARN_DEV}
          or abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,99,1,uint16,be,0])-{$UPS_VOLT_NOMINAL})>{$UPS_OUTPUT_VOLT_WARN_DEV}
        priority: WARNING
        tags:
        - tag: component
          value: voltage_output
        - tag: scope
          value: voltage
      - uuid: 3c2af10cee19407e9e46a2c2cb4a3a3d
        name: UPS output voltage deviation critical
        expression: abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,97,1,uint16,be,0])-{$UPS_VOLT_NOMINAL})>{$UPS_OUTPUT_VOLT_CRIT_DEV}
          or abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,98,1,uint16,be,0])-{$UPS_VOLT_NOMINAL})>{$UPS_OUTPUT_VOLT_CRIT_DEV}
          or abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,99,1,uint16,be,0])-{$UPS_VOLT_NOMINAL})>{$UPS_OUTPUT_VOLT_CRIT_DEV}
        priority: HIGH
        tags:
        - tag: component
          value: voltage_output
        - tag: scope
          value: voltage
      tags:
      - tag: component
        value: voltage_output
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: a6ef86c30d244a0b8f796166f44585b2
      name: Output voltage L2
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,98,1,uint16,be,0]
      value_type: FLOAT
      units: V
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 98: OUTPUT_VOLT1 – Output Voltage Phase 2 (scaled 0.1 V).'
      tags:
      - tag: component
        value: voltage_output
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 3f38dbd60b9142a58b8d37678e7c608f
      name: Output voltage L3
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,99,1,uint16,be,0]
      value_type: FLOAT
      units: V
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 99: OUTPUT_VOLT2 – Output Voltage Phase 3 (scaled 0.1 V).'
      tags:
      - tag: component
        value: voltage_output
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 916836ba0b004b8fb3370b2c7ae3d8bc
      name: Output load L1
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,100,1,uint16,be,0]
      value_type: UNSIGNED
      units: '%'
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 100: OUTPOWER0 – Outpower Phase 1 %.'
      triggers:
      - uuid: 7c3f53639bf8438180066717fba23e37
        name: UPS load high on any phase (>= {$UPS_LOAD_WARN}%)
        expression: max(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,100,1,uint16,be,0],5m)>=({$UPS_LOAD_WARN})
          or max(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,101,1,uint16,be,0],5m)>=({$UPS_LOAD_WARN})
          or max(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,102,1,uint16,be,0],5m)>=({$UPS_LOAD_WARN})
        priority: WARNING
        tags:
        - tag: component
          value: load
        - tag: scope
          value: state
      - uuid: b5318f2c6b7e4235bd0710e9d7787f75
        name: UPS overload on any phase (>= {$UPS_LOAD_CRIT}%)
        expression: max(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,100,1,uint16,be,0],1m)>=({$UPS_LOAD_CRIT})
          or max(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,101,1,uint16,be,0],1m)>=({$UPS_LOAD_CRIT})
          or max(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,102,1,uint16,be,0],1m)>=({$UPS_LOAD_CRIT})
        priority: DISASTER
        tags:
        - tag: component
          value: load
        - tag: scope
          value: capacity
      tags:
      - tag: component
        value: load
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 6e089afa6b9b43209fd2e32d740afdd6
      name: Output load L2
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,101,1,uint16,be,0]
      value_type: UNSIGNED
      units: '%'
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 101: OUTPOWER1 – Outpower Phase 2 %.'
      tags:
      - tag: component
        value: load
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 827fc7cf39a84ede8fa400a215fb7027
      name: Output load L3
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,102,1,uint16,be,0]
      value_type: UNSIGNED
      units: '%'
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 102: OUTPOWER2 – Outpower Phase 3 %.'
      tags:
      - tag: component
        value: load
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: fe4ce3b0fd084e3f9f846aad0d329302
      name: Battery capacity
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,103,1,uint16,be,0]
      value_type: UNSIGNED
      units: '%'
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 103: BATTCAP – Battery Capacity %.'
      triggers:
      - uuid: 0f52ece85c1547a4bcf069c3b348e3cf
        name: UPS battery capacity low
        event_name: UPS battery capacity low (<= {$UPS_BATT_CAP_WARN}%)
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,103,1,uint16,be,0])<=({$UPS_BATT_CAP_WARN})
        priority: WARNING
        tags:
        - tag: component
          value: battery
        - tag: scope
          value: battery
      tags:
      - tag: component
        value: battery
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 50eecceb4c6541fbb5450ebc9025244b
      name: Input voltage L1
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,104,1,int16,be,0]
      value_type: FLOAT
      units: V
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 104: INVOLT0 – Input Voltage Phase 1 (signed, scaled 0.1
        V).'
      triggers:
      - uuid: 0f7cb31dfc994dd199c0f45dc7e88fc7
        name: UPS input voltage deviation warning
        expression: abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,104,1,int16,be,0])-{$UPS_VOLT_NOMINAL})>{$UPS_INPUT_VOLT_WARN_DEV}
          or abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,105,1,int16,be,0])-{$UPS_VOLT_NOMINAL})>{$UPS_INPUT_VOLT_WARN_DEV}
          or abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,106,1,int16,be,0])-{$UPS_VOLT_NOMINAL})>{$UPS_INPUT_VOLT_WARN_DEV}
        priority: WARNING
        tags:
        - tag: component
          value: voltage_input
        - tag: scope
          value: voltage
      - uuid: 3a9dbe5d5b694b4fbbe0518d9a2cf0ce
        name: UPS input voltage deviation critical
        expression: abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,104,1,int16,be,0])-{$UPS_VOLT_NOMINAL})>{$UPS_INPUT_VOLT_CRIT_DEV}
          or abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,105,1,int16,be,0])-{$UPS_VOLT_NOMINAL})>{$UPS_INPUT_VOLT_CRIT_DEV}
          or abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,106,1,int16,be,0])-{$UPS_VOLT_NOMINAL})>{$UPS_INPUT_VOLT_CRIT_DEV}
        priority: HIGH
        tags:
        - tag: component
          value: voltage_input
        - tag: scope
          value: voltage
      tags:
      - tag: component
        value: voltage_input
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: a7ad1c3a8685478a9bdeca154b3b5993
      name: Input voltage L2
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,105,1,int16,be,0]
      value_type: FLOAT
      units: V
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 105: INVOLT1 – Input Voltage Phase 2 (signed, scaled 0.1
        V).'
      tags:
      - tag: component
        value: voltage_input
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 45dd6867342f4ab58aa5fadc766dc42c
      name: Input voltage L3
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,106,1,int16,be,0]
      value_type: FLOAT
      units: V
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 106: INVOLT2 – Input Voltage Phase 3 (signed, scaled 0.1
        V).'
      tags:
      - tag: component
        value: voltage_input
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 5f8b8ea52e7d4e42b9fe5115136728b7
      name: UPS internal temperature
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,107,1,int16,be,0]
      value_type: FLOAT
      units: °C
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 107: TEMPDEG – Temperature in °C (signed, scaled 0.1 °C).'
      triggers:
      - uuid: 4dd04afdc4e94819b86b7e028b7c3946
        name: UPS temperature is high (>= {$UPS_TEMP_MAX}°C)
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,107,1,int16,be,0])>=({$UPS_TEMP_MAX})
        priority: HIGH
        tags:
        - tag: component
          value: temperature
        - tag: scope
          value: temperature
      tags:
      - tag: component
        value: temperature
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: d094597b818945a98659a5f9b37aa65c
      name: Remaining runtime
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,108,1,int16,be,0]
      value_type: UNSIGNED
      units: min
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 108: AUTONOMTIME – Autonomy Time in minutes.'
      triggers:
      - uuid: 9d20ebf070b74057a0bbbc3f7b8f3ffe
        name: UPS runtime is low (<= {$UPS_RUNTIME_MIN_WARN} min)
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,108,1,int16,be,0])<=({$UPS_RUNTIME_MIN_WARN})
        priority: AVERAGE
        tags:
        - tag: component
          value: runtime
        - tag: scope
          value: runtime
      tags:
      - tag: component
        value: runtime
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 7c0eee531f8c453e886cd2aa8f3baf7e
      name: UPS status raw
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,109,1,uint16,be,0]
      value_type: UNSIGNED
      delay: 30s
      trends: 365d
      history: 30d
      description: 'Modbus 109: STATUS – UPS Status word (ASCII HEX / UPSMAN).'
      triggers:
      - uuid: 21d2a5e2a5a94af8a57765eeeb8d2ace
        name: No data from UPS Modbus items (10m)
        expression: nodata(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,109,1,uint16,be,0],10m)=1
        priority: WARNING
        tags:
        - tag: component
          value: communication
        - tag: scope
          value: communication
      tags:
      - tag: component
        value: status
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 1f379ddb7f304912aaf0ce76a82e6343
      name: Battery voltage
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,110,1,int16,be,0]
      value_type: FLOAT
      units: V
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 110: BATTVOLT – Battery Voltage (signed, scaled 0.1 V).'
      tags:
      - tag: component
        value: battery
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 65b41c2db6184d5f99f6c5d47734a714
      name: Input frequency L1
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,111,1,uint16,be,0]
      value_type: FLOAT
      units: Hz
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 111: INFREQ0 – Input Frequency Phase 1 (see manual for
        scaling).'
      triggers:
      - uuid: 591e4f9ebaf34c5e960d49ca8556c367
        name: UPS input frequency deviation warning
        expression: abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,111,1,uint16,be,0])-{$UPS_FREQ_NOMINAL})>{$UPS_INPUT_FREQ_WARN_DEV}
        priority: WARNING
        tags:
        - tag: component
          value: other
        - tag: scope
          value: state
      - uuid: 02dfc81661684c7987211970e09d40d6
        name: UPS input frequency deviation critical
        expression: abs(last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,111,1,uint16,be,0])-{$UPS_FREQ_NOMINAL})>{$UPS_INPUT_FREQ_CRIT_DEV}
        priority: HIGH
        tags:
        - tag: component
          value: other
        - tag: scope
          value: state
      tags:
      - tag: component
        value: frequency
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 56bde3b9d3714319a08cbd3d74b9b63f
      name: Input frequency L2
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,112,1,uint16,be,0]
      value_type: FLOAT
      units: Hz
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 112: INFREQ1 – Input Frequency Phase 2 (see manual for
        scaling).'
      tags:
      - tag: component
        value: frequency
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 867f2f94e3564a4c92367e0a27a1a539
      name: Input frequency L3
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,113,1,uint16,be,0]
      value_type: FLOAT
      units: Hz
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 113: INFREQ2 – Input Frequency Phase 3 (see manual for
        scaling).'
      tags:
      - tag: component
        value: frequency
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 4e42cad7619c4d369084ad966b646810
      name: Powerfail counter
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,114,1,uint16,be,0]
      value_type: UNSIGNED
      delay: 5m
      trends: 365d
      history: 365d
      description: 'Modbus 114: CNT_PF – Powerfail counter.'
      tags:
      - tag: component
        value: counter
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 7bb1e13bf9ad40d99f12f7f779cac5e7
      name: 'Alarm: Battery Bad'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,115,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 30s
      history: 30d
      description: 'Modbus 115: Alarm Battery Bad (1=active).'
      triggers:
      - uuid: a2d9d1d66fa64901a461069e84fbd4f4
        name: Alarm Battery Bad
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,115,1,uint16,be,0])=1
          and {$UPS_ALARM_BATTERY_BAD}=1
        priority: HIGH
        tags:
        - tag: component
          value: battery
        - tag: scope
          value: battery
      tags:
      - tag: component
        value: battery
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 253c8c15572d4a2cb8b53b85effb6051
      name: 'Alarm: On Battery'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,116,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 116: Alarm On Battery (1=active).'
      triggers:
      - uuid: 4f77eca9b5214e84b7509584ed7ebd6a
        name: Alarm On Battery
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,116,1,uint16,be,0])=1
          and {$UPS_ALARM_ON_BATTERY}=1
        priority: WARNING
        tags:
        - tag: component
          value: battery
        - tag: scope
          value: battery
      tags:
      - tag: component
        value: battery
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 051e1ef0a7b54b9ab9c8ef4ef1634f0f
      name: 'Alarm: Battery Low'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,117,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 117: Alarm Battery Low (1=active).'
      triggers:
      - uuid: 4f1a0fbced624b41a44bfdc7e2a9c45c
        name: Alarm Battery Low
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,117,1,uint16,be,0])=1
          and {$UPS_ALARM_BATTERY_LOW}=1
        priority: HIGH
        tags:
        - tag: component
          value: battery
        - tag: scope
          value: battery
      tags:
      - tag: component
        value: battery
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: b15a1ddad5bb4fd484d9e1f9247dcab5
      name: 'Alarm: Battery Depleted'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,118,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 118: Alarm Battery Depleted (1=active).'
      triggers:
      - uuid: 2f0b325457e34f6d8e282e54a91b6ee8
        name: Alarm Battery Depleted
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,118,1,uint16,be,0])=1
          and {$UPS_ALARM_BATTERY_DEPLETED}=1
        priority: HIGH
        tags:
        - tag: component
          value: battery
        - tag: scope
          value: battery
      tags:
      - tag: component
        value: battery
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 578e10d20a5e40918d5f0b8e3cf280a7
      name: 'Alarm: Over temperature'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,119,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 119: Alarm Over temperature (1=active).'
      triggers:
      - uuid: 5e3b7b9c7f0647b18f8e2b93fb41331a
        name: Alarm Over temperature
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,119,1,uint16,be,0])=1
          and {$UPS_ALARM_OVER_TEMP}=1
        priority: HIGH
        tags:
        - tag: component
          value: temperature
        - tag: scope
          value: temperature
      tags:
      - tag: component
        value: temperature
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 9e3ba8a3dbf44b2e9c9b1c1aaed8d96b
      name: 'Alarm: Input Bad'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,120,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 120: Alarm Input Bad (1=active).'
      triggers:
      - uuid: f0f638c88e1d4d4f9d5af8f5f8746be7
        name: Alarm Input Bad
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,120,1,uint16,be,0])=1
          and {$UPS_ALARM_INPUT_BAD}=1
        priority: AVERAGE
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: a7a20a5dd72e4a52adb57f6ee09a0867
      name: 'Alarm: Output Bad'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,121,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 121: Alarm Output Bad (1=active).'
      triggers:
      - uuid: 6b0e0afa46724b34b8a5cc9a7dbeabb4
        name: Alarm Output Bad
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,121,1,uint16,be,0])=1
          and {$UPS_ALARM_OUTPUT_BAD}=1
        priority: HIGH
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: a5b9b6aa59d842baa64291b23f582f17
      name: 'Alarm: Output Overload'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,122,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 122: Alarm Output Overload (1=active).'
      triggers:
      - uuid: 35a01e22b9bc43e78a6700aaf993ad32
        name: Alarm Output Overload
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,122,1,uint16,be,0])=1
          and {$UPS_ALARM_OUTPUT_OVERLOAD}=1
        priority: HIGH
        tags:
        - tag: component
          value: load
        - tag: scope
          value: capacity
      tags:
      - tag: component
        value: load
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: d59a7c6eb15c4c3fa8edb06767ef13c7
      name: 'Alarm: On Bypass'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,123,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 123: Alarm On Bypass (1=active).'
      triggers:
      - uuid: 203ed7a5ceec4a77a878bc37a2d79e0b
        name: Alarm On Bypass
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,123,1,uint16,be,0])=1
          and {$UPS_ALARM_ON_BYPASS}=1
        priority: AVERAGE
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 73afbbf4e9cb4e629bfeb1f3a3cd2fad
      name: 'Alarm: Bypass Bad'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,124,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 124: Alarm Bypass Bad (1=active).'
      triggers:
      - uuid: 6e318ae389f04689b049a0ca96e5eb03
        name: Alarm Bypass Bad
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,124,1,uint16,be,0])=1
          and {$UPS_ALARM_BYPASS_BAD}=1
        priority: HIGH
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: d3415cd63a40432a8c7f8bd0f1393d3f
      name: 'Alarm: Output Off as requested'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,125,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 125: Alarm Output Off as requested (1=active).'
      triggers:
      - uuid: 2399b08948e1422e8a3795bb44aac3d8
        name: Alarm Output Off as requested
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,125,1,uint16,be,0])=1
          and {$UPS_ALARM_OUTPUT_OFF_REQUEST}=1
        priority: INFO
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 5e00c0363bf04074810a8f421ea6bf0d
      name: 'Alarm: UPS Off as requested'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,126,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 126: Alarm UPS Off as requested (1=active).'
      triggers:
      - uuid: 1b5b2a3b19a74b7dbb7d3b9b820e92b7
        name: Alarm UPS Off as requested
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,126,1,uint16,be,0])=1
          and {$UPS_ALARM_UPS_OFF_REQUEST}=1
        priority: INFO
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 23a8f2794a894f0086a70306caab79cc
      name: 'Alarm: Charger Failed'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,127,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 127: Alarm Charger Failed (1=active).'
      triggers:
      - uuid: 3e2835e1d2914c1a92b439a8e4a7b671
        name: Alarm Charger Failed
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,127,1,uint16,be,0])=1
          and {$UPS_ALARM_CHARGER_FAILED}=1
        priority: HIGH
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 3719e239699243f18f641ecad0a406d7
      name: 'Alarm: UPS Output Off'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,128,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 128: Alarm UPS Output Off (1=active).'
      triggers:
      - uuid: 7e20eb504f874fae8905c0da8090f0aa
        name: Alarm UPS Output Off
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,128,1,uint16,be,0])=1
          and {$UPS_ALARM_UPS_OUTPUT_OFF}=1
        priority: AVERAGE
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: da3644bdc5a540cdb65261ff0acf7a4c
      name: 'Alarm: UPS System Off'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,129,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 129: Alarm UPS System Off (1=active).'
      triggers:
      - uuid: 4ce1cc76590c4ae89b5ef1afc4c9b036
        name: Alarm UPS System Off
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,129,1,uint16,be,0])=1
          and {$UPS_ALARM_UPS_SYSTEM_OFF}=1
        priority: HIGH
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 58b1b1c3a57a43cda8bf7809b5518672
      name: 'Alarm: Fan Failure'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,130,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 130: Alarm Fan Failure (1=active).'
      triggers:
      - uuid: 7e2b3d861ffa4f8fabd4a2043e7c3f0b
        name: Alarm Fan Failure
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,130,1,uint16,be,0])=1
          and {$UPS_ALARM_FAN_FAILURE}=1
        priority: HIGH
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 45b06a4c986c4c76a6e95f3ca5546c9b
      name: 'Alarm: Fuse failure'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,131,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 131: Alarm fuse failure (1=active).'
      triggers:
      - uuid: 8ae6e7f175424ae0b6394de96661b998
        name: Alarm fuse failure
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,131,1,uint16,be,0])=1
          and {$UPS_ALARM_FUSE_FAILURE}=1
        priority: HIGH
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 95e9206828e749168b4ba45f2fbc8a28
      name: 'Alarm: General fault'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,132,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 132: Alarm general fault (1=active).'
      triggers:
      - uuid: 7e20eb504f874fae8905c0da8090f0bb
        name: Alarm general fault
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,132,1,uint16,be,0])=1
          and {$UPS_ALARM_GENERAL_FAULT}=1
        priority: HIGH
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: e46605ac8c8b43b48d1a3fa3ddc7bf09
      name: 'Alarm: Diagnose test failed'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,133,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 133: Alarm diagnose test failed (1=active).'
      triggers:
      - uuid: 5f9f9e1a6c7c4c2f8d4a9a1c7b9c2d34
        name: Alarm diagnose test failed
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,133,1,uint16,be,0])=1
          and {$UPS_ALARM_DIAG_TEST_FAILED}=1
        priority: WARNING
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 6c6af84c880b474d8dab4673e3d9b9f8
      name: 'Alarm: Communication lost'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,134,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 134: Alarm communication lost (1=active).'
      triggers:
      - uuid: 9a0e290d51f44ba781af5b5f83ed9e42
        name: Alarm communication lost
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,134,1,uint16,be,0])=1
          and {$UPS_ALARM_COMM_LOST}=1
        priority: DISASTER
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: communication
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: d85c8372ee8b4722acc33bccf0a2d7d9
      name: 'Alarm: Awaiting power'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,135,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 135: Alarm awaiting power (1=active).'
      triggers:
      - uuid: 5b67ac7bbf3f4a0da8a266bcd0e57496
        name: Alarm awaiting power
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,135,1,uint16,be,0])=1
          and {$UPS_ALARM_AWAITING_POWER}=1
        priority: WARNING
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: f8c10b75b44e4fa7956fbd9a76c4f301
      name: 'Alarm: Shutdown pending'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,136,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 136: Alarm shutdown pending (1=active).'
      triggers:
      - uuid: 4a3a8d7d0f5944caa9d8a1e6ca7ff7f5
        name: Alarm shutdown pending
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,136,1,uint16,be,0])=1
          and {$UPS_ALARM_SHUTDOWN_PENDING}=1
        priority: HIGH
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 7e7ff9b262fc4f0f8f1b0ca641f926d1
      name: 'Alarm: Shutdown imminent'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,137,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 137: Alarm shutdown imminent (1=active).'
      triggers:
      - uuid: 5aa5e4c2b8c444f991c07498b7a3d69f
        name: Alarm shutdown imminent
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,137,1,uint16,be,0])=1
          and {$UPS_ALARM_SHUTDOWN_IMMINENT}=1
        priority: DISASTER
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 4d4f175450c24e8584acec3d9f25a5da
      name: 'Alarm: Test in progress'
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,138,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 10s
      history: 30d
      description: 'Modbus 138: Alarm test in progress (1=active).'
      triggers:
      - uuid: 3afd4f5b2a1341309c633a6f62a0b74e
        name: Alarm test in progress
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,138,1,uint16,be,0])=1
          and {$UPS_ALARM_TEST_IN_PROGRESS}=1
        priority: INFO
        tags:
        - tag: component
          value: alarm
        - tag: scope
          value: state
      tags:
      - tag: component
        value: alarm_flag
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 451d39d0da7f4e53ac1a453f6aa1d2af
      name: AUX Port 1 state
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,139,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 30s
      history: 30d
      description: 'Modbus 139: AUX Port 1 (1=active).'
      triggers:
      - uuid: 1a2b3c4d5e6f40718293a4b5c6d7e8f0
        name: AUX Port 1 active
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,139,1,uint16,be,0])=1
          and {$UPS_ALARM_AUX1}=1
        priority: WARNING
        tags:
        - tag: component
          value: aux_port
        - tag: scope
          value: state
      tags:
      - tag: component
        value: aux_port
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 41a85379d06c4ad2a72657b5a198972f
      name: AUX Port 2 state
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,140,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 30s
      history: 30d
      description: 'Modbus 140: AUX Port 2 (1=active).'
      triggers:
      - uuid: 2b3c4d5e6f70408192a3b4c5d6e7f801
        name: AUX Port 2 active
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,140,1,uint16,be,0])=1
          and {$UPS_ALARM_AUX2}=1
        priority: WARNING
        tags:
        - tag: component
          value: aux_port
        - tag: scope
          value: state
      tags:
      - tag: component
        value: aux_port
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 11fb4eae3fa3458790a3d3a0e3c90d14
      name: AUX Port 3 state
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,141,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 30s
      history: 30d
      description: 'Modbus 141: AUX Port 3 (1=active).'
      triggers:
      - uuid: 46257d39f2ba44d0acbc7aaf2273f000
        name: AUX Port 3 active
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,141,1,uint16,be,0])=1
          and {$UPS_ALARM_AUX3}=1
        priority: WARNING
        tags:
        - tag: component
          value: aux_port
        - tag: scope
          value: state
      tags:
      - tag: component
        value: aux_port
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 5f4c28ac6df24122b3b4c4d0fcd6f07c
      name: AUX Port 4 state
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,142,1,uint16,be,0]
      value_type: UNSIGNED
      valuemap:
        name: UPS alarm state
      delay: 30s
      history: 30d
      description: 'Modbus 142: AUX Port 4 (1=active).'
      triggers:
      - uuid: 22da3389fcdd4f9393a0b2fae3651f58
        name: AUX Port 4 active
        expression: last(/UPS_CS141_Modbus_Default/modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,142,1,uint16,be,0])=1
          and {$UPS_ALARM_AUX4}=1
        priority: WARNING
        tags:
        - tag: component
          value: aux_port
        - tag: scope
          value: state
      tags:
      - tag: component
        value: aux_port
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 41f26dc58465447ab5ef0b3a6dac1fdd
      name: Sensormanager/SMTCOM sensor 1
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,143,1,uint16,be,0]
      value_type: FLOAT
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 143: Sensormanager/SMTCOM sensor 1 (analog value).'
      tags:
      - tag: component
        value: sensor
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: d7abdff752e640c794b224e6a71f3a89
      name: Sensormanager/SMTHCOM sensor 2
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,144,1,uint16,be,0]
      value_type: FLOAT
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 144: Sensormanager/SMTHCOM sensor 2 (analog value).'
      tags:
      - tag: component
        value: sensor
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 18a7dd8970ad4555a8fa4dd61721ac5d
      name: Sensormanager sensor 3
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,145,1,uint16,be,0]
      value_type: FLOAT
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 145: Sensormanager sensor 3 (analog value).'
      tags:
      - tag: component
        value: sensor
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 8e2d3377c8db4f5a8a084fdad8e2e9d4
      name: Sensormanager sensor 4
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,146,1,uint16,be,0]
      value_type: FLOAT
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 146: Sensormanager sensor 4 (analog value).'
      tags:
      - tag: component
        value: sensor
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 69223ad6e1e64f5aa6e7fc63b516e189
      name: Sensormanager sensor 5
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,147,1,uint16,be,0]
      value_type: FLOAT
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 147: Sensormanager sensor 5 (analog value).'
      tags:
      - tag: component
        value: sensor
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 44528ad40b5d49e89fba785a1294e0d6
      name: Sensormanager sensor 6
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,148,1,uint16,be,0]
      value_type: FLOAT
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 148: Sensormanager sensor 6 (analog value).'
      tags:
      - tag: component
        value: sensor
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 5ee1a9729d4545f38a7b4d5b8d2c9814
      name: Sensormanager sensor 7
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,149,1,uint16,be,0]
      value_type: FLOAT
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 149: Sensormanager sensor 7 (analog value).'
      tags:
      - tag: component
        value: sensor
      - tag: template
        value: UPS_CS141_Modbus_Default
    - uuid: 9d1e0e93a03e4181bb496bf100c89a60
      name: Sensormanager sensor 8
      key: modbus.get["tcp://{$MODBUS_IP}:{$MODBUS_PORT}",{$MODBUS_SLAVE},3,150,1,uint16,be,0]
      value_type: FLOAT
      delay: 30s
      trends: 365d
      history: 7d
      description: 'Modbus 150: Sensormanager sensor 8 (analog value).'
      tags:
      - tag: component
        value: sensor
      - tag: template
        value: UPS_CS141_Modbus_Default
    macros:
    - macro: '{$MODBUS_IP}'
      value: ''
    - macro: '{$MODBUS_PORT}'
      value: '502'
    - macro: '{$MODBUS_SLAVE}'
      value: '1'
    - macro: '{$UPS_VOLT_NOMINAL}'
      value: '230'
      description: Nominal phase voltage (used for input/output deviation checks).
    - macro: '{$UPS_INPUT_VOLT_WARN_DEV}'
      value: '10'
      description: Input voltage warning deviation from nominal (V).
    - macro: '{$UPS_INPUT_VOLT_CRIT_DEV}'
      value: '20'
      description: Input voltage critical deviation from nominal (V).
    - macro: '{$UPS_OUTPUT_VOLT_WARN_DEV}'
      value: '10'
      description: Output voltage warning deviation from nominal (V).
    - macro: '{$UPS_FREQ_NOMINAL}'
      value: '50'
      description: Nominal input frequency (used for frequency deviation checks).
    - macro: '{$UPS_INPUT_FREQ_WARN_DEV}'
      value: '2'
      description: Input frequency warning deviation from nominal (Hz).
    - macro: '{$UPS_INPUT_FREQ_CRIT_DEV}'
      value: '3'
      description: Input frequency critical deviation from nominal (Hz).
    - macro: '{$UPS_OUTPUT_VOLT_CRIT_DEV}'
      value: '20'
      description: Output voltage critical deviation from nominal (V).
    - macro: '{$UPS_TEMP_MAX}'
      value: '40'
      description: Max allowed UPS internal temperature in °C.
    - macro: '{$UPS_BATT_CAP_WARN}'
      value: '30'
      description: Warning threshold for battery capacity (%).
    - macro: '{$UPS_RUNTIME_MIN_WARN}'
      value: '10'
      description: Warning threshold for minimal allowed runtime (minutes).
    - macro: '{$UPS_LOAD_WARN}'
      value: '85'
      description: High load threshold per phase (%).
    - macro: '{$UPS_LOAD_CRIT}'
      value: '95'
      description: Critical overload threshold per phase (%).
    - macro: '{$UPS_ALARM_BATTERY_BAD}'
      value: '1'
    - macro: '{$UPS_ALARM_ON_BATTERY}'
      value: '1'
    - macro: '{$UPS_ALARM_BATTERY_LOW}'
      value: '1'
    - macro: '{$UPS_ALARM_BATTERY_DEPLETED}'
      value: '1'
    - macro: '{$UPS_ALARM_OVER_TEMP}'
      value: '1'
    - macro: '{$UPS_ALARM_INPUT_BAD}'
      value: '1'
    - macro: '{$UPS_ALARM_OUTPUT_BAD}'
      value: '1'
    - macro: '{$UPS_ALARM_OUTPUT_OVERLOAD}'
      value: '1'
    - macro: '{$UPS_ALARM_ON_BYPASS}'
      value: '1'
    - macro: '{$UPS_ALARM_BYPASS_BAD}'
      value: '1'
    - macro: '{$UPS_ALARM_OUTPUT_OFF_REQUEST}'
      value: '1'
    - macro: '{$UPS_ALARM_UPS_OFF_REQUEST}'
      value: '1'
    - macro: '{$UPS_ALARM_CHARGER_FAILED}'
      value: '1'
    - macro: '{$UPS_ALARM_UPS_OUTPUT_OFF}'
      value: '1'
    - macro: '{$UPS_ALARM_UPS_SYSTEM_OFF}'
      value: '1'
    - macro: '{$UPS_ALARM_FAN_FAILURE}'
      value: '1'
    - macro: '{$UPS_ALARM_FUSE_FAILURE}'
      value: '1'
    - macro: '{$UPS_ALARM_GENERAL_FAULT}'
      value: '1'
    - macro: '{$UPS_ALARM_DIAG_TEST_FAILED}'
      value: '1'
    - macro: '{$UPS_ALARM_COMM_LOST}'
      value: '1'
    - macro: '{$UPS_ALARM_AWAITING_POWER}'
      value: '1'
    - macro: '{$UPS_ALARM_SHUTDOWN_PENDING}'
      value: '1'
    - macro: '{$UPS_ALARM_SHUTDOWN_IMMINENT}'
      value: '1'
    - macro: '{$UPS_ALARM_TEST_IN_PROGRESS}'
      value: '1'
    - macro: '{$UPS_ALARM_AUX1}'
      value: '1'
    - macro: '{$UPS_ALARM_AUX2}'
      value: '1'
    - macro: '{$UPS_ALARM_AUX3}'
      value: '1'
    - macro: '{$UPS_ALARM_AUX4}'
      value: '1'
    valuemaps:
    - uuid: 3e6bca9a8227406f9a94a2f1b7f4db7d
      name: UPS alarm state
      mappings:
      - value: '0'
        newvalue: OK
      - value: '1'
        newvalue: Alarm
    tags:
    - tag: class
      value: ups
    - tag: protocol
      value: modbus
    - tag: type
      value: cs141
