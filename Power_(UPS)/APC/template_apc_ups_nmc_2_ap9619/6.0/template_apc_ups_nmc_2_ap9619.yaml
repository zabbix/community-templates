zabbix_export:
  version: '6.0'
  date: '2021-11-21T21:33:02Z'
  groups:
    -
      uuid: 7df96b18c230490a9a0a9e2307226338
      name: Templates
  templates:
    -
      uuid: baec58aff2284e16ad3b07ba5701a8ec
      template: apc_nmc_2_ap9619
      name: 'APC NMC 2 AP9619'
      description: |
        ## Overview
        
        This template was originaly created for the AP9619 card, but in version 2 now support more UPS's.  
        Tested on:
        
        
        APC Symmetra PX40 3Phase UPS  
        APC Smart-UPS VT 20kVA 3Phase UPS  
        Smart-UPS RT 7500 RM XL  
        and more...
        
        
        It gathers input and output values from all three phases. I tried to make it as universal as i could so it can be used with single phase ups's as well. I have disable some of the items on the template for the reason that my ups didn't support them, feel free to try them if they are supported by your UPS.
        
        
        Changelog V2:
        
        
        Added more items for single phase ups's and triggers.
        
        
         
        
        
        thanks,  
        petroska
        
        
        
        ## Author
        
        petroska
        
        
      groups:
        -
          name: Templates
      items:
        -
          uuid: 654d3c07873f46a79230bebba0a4d40c
          name: 'Probe Humidity'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.10.2.3.2.1.6.1
          key: iemStatusProbeCurrentHumid
          delay: 30s
          status: DISABLED
          units: '%'
          description: |
            The current humidity reading from the probe in percent
             relative humidity.
          tags:
            -
              tag: Application
              value: 'UPS Information'
        -
          uuid: 722cd60c3d3e4772adf6f266a692a169
          name: 'Probe Temperature'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.10.2.3.2.1.4.1
          key: iemStatusProbeCurrentTemp
          delay: 30s
          units: C
          description: |
            The current temperature reading from the probe displayed
             in the units shown in the 'iemStatusProbeTempUnits' OID
             (Celsius or Fahrenheit).
          tags:
            -
              tag: Application
              value: 'UPS Information'
        -
          uuid: 50e00486b5f2476685c7b944321c59d8
          name: 'Probe Name'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.10.2.3.2.1.2.1
          key: iemStatusProbeName
          delay: '3600'
          trends: '0'
          value_type: CHAR
          description: 'A descriptive name for the probe set by the user.'
          tags:
            -
              tag: Application
              value: 'UPS Information'
        -
          uuid: 880b8861ce3c4d2fb2eb8ad215f116fa
          name: 'Probe Status'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.10.2.3.2.1.3.1
          key: iemStatusProbeStatus
          delay: '3600'
          valuemap:
            name: 'APC Probe Status'
          tags:
            -
              tag: Application
              value: 'UPS Information'
        -
          uuid: 51529c92aa01495d8d7ec011a28027a9
          name: Location
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.6.0
          key: sysLocation
          delay: '3600'
          trends: '0'
          value_type: CHAR
          tags:
            -
              tag: Application
              value: 'UPS Information'
        -
          uuid: f65b6e73bdd84b1b82b8a69cc9af2b32
          name: 'Battery actual Volts'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.2.8.0
          key: upsAdvBatteryActualVoltage
          delay: 30s
          units: V
          description: 'The actual battery bus voltage in Volts.'
          tags:
            -
              tag: Application
              value: 'UPS Battery'
        -
          uuid: d7b580543eae470dab8120e267b776c4
          name: 'Battery Capacity'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.2.1.0
          key: upsAdvBatteryCapacity
          delay: 30s
          units: '%'
          description: |
            The remaining battery capacity expressed in
             percent of full capacity.
          tags:
            -
              tag: Application
              value: 'UPS Battery'
        -
          uuid: eeb37a897ede4a51a1ba1c345e3d91ef
          name: 'Battery Amps'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.2.9.0
          key: upsAdvBatteryCurrent
          delay: 30s
          units: A
          description: 'The battery current in Amps.'
          tags:
            -
              tag: Application
              value: 'UPS Battery'
        -
          uuid: b680d7854699492b8f52ad7ebabc8cf1
          name: 'Battery nominal Volts'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.2.7.0
          key: upsAdvBatteryNominalVoltage
          delay: 30s
          units: V
          description: 'The nominal battery voltage in Volts.'
          tags:
            -
              tag: Application
              value: 'UPS Battery'
        -
          uuid: d5303cafe7294cbf8f1355e466986181
          name: 'Battery replace status'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.2.4.0
          key: upsAdvBatteryReplaceIndicator
          delay: '3600'
          description: 'Indicates whether the UPS batteries need replacing.'
          valuemap:
            name: 'APC Battery Replacement Status'
          tags:
            -
              tag: Application
              value: 'UPS Battery'
          triggers:
            -
              uuid: 97bd08f3902a40ac914aa4b308c807c8
              expression: last(/apc_nmc_2_ap9619/upsAdvBatteryReplaceIndicator)=4
              name: 'Battery failed'
              priority: DISASTER
            -
              uuid: d8a48261b72d4eaca586a7e320b57a95
              expression: last(/apc_nmc_2_ap9619/upsAdvBatteryReplaceIndicator)=6
              name: 'Battery needs replacement'
              priority: HIGH
            -
              uuid: eb53e00618044e8b89f73ad2cd801004
              expression: last(/apc_nmc_2_ap9619/upsAdvBatteryReplaceIndicator)=5
              name: 'Battery overheat'
              priority: DISASTER
            -
              uuid: 67f6720e1808441283c6530520f434c9
              expression: last(/apc_nmc_2_ap9619/upsAdvBatteryReplaceIndicator)=2
              name: 'No battery'
              priority: HIGH
        -
          uuid: 56891066b30645b687776ab7c17966b6
          name: 'Battery Runtime'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.2.3.0
          key: upsAdvBatteryRunTimeRemaining
          delay: 30s
          units: s
          description: |
            The UPS battery run time remaining before battery
             exhaustion.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            -
              tag: Application
              value: 'UPS Battery'
          triggers:
            -
              uuid: e813f1bf4c204341a719ff9b5fe8c927
              expression: last(/apc_nmc_2_ap9619/upsAdvBatteryRunTimeRemaining)<60
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsAdvBatteryRunTimeRemaining)>60
              name: 'UPS Runtime below 1 minute'
              priority: HIGH
        -
          uuid: 680ba71101c84a588fc8ea4fd11766e4
          name: 'Battery Temperature'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.2.2.0
          key: upsAdvBatteryTemperature
          delay: 30s
          units: C
          description: |
            The current internal UPS temperature expressed in
             Celsius.
          tags:
            -
              tag: Application
              value: 'UPS Battery'
          triggers:
            -
              uuid: 07c8ba85bd4f444291646ea1ecff55d1
              expression: last(/apc_nmc_2_ap9619/upsAdvBatteryTemperature)>40
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsAdvBatteryTemperature)<40
              name: 'Battery temp above 40C'
              priority: HIGH
        -
          uuid: 5ca0e6f55ac641e5a1f0fd80a28fe5c3
          name: 'Date of manufacture'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.1.2.2.0
          key: upsAdvIdentDateOfManufacture
          delay: '3600'
          trends: '0'
          value_type: CHAR
          description: 'The date when the UPS was manufactured in mm/dd/yy (or yyyy) format.'
          tags:
            -
              tag: Application
              value: 'UPS Information'
        -
          uuid: d1f12d9e28924da499b207fa36e1e9b9
          name: 'Firmware Revision'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.1.2.1.0
          key: upsAdvIdentFirmwareRevision
          delay: '3600'
          trends: '0'
          value_type: CHAR
          description: 'The firmware revision of the UPS system''s microprocessor.'
          tags:
            -
              tag: Application
              value: 'UPS Information'
        -
          uuid: 3f5b0424bbef4b44928ebf2f3fb99c74
          name: 'Input Frequency'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.3.2.4.0
          key: upsAdvInputFrequency
          delay: 30s
          units: Hz
          description: 'The current input frequency to the UPS system in Hz.'
          tags:
            -
              tag: Application
              value: 'UPS Input [1Phase]'
        -
          uuid: e96f9c06dad44076b109c1fcadee9613
          name: 'Latest cause for switching to battery power'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.3.2.5.0
          key: upsAdvInputLineFailCause
          delay: 60s
          description: |
            The reason for the occurrence of the last transfer to UPS
             battery power. The variable is set to:
             - noTransfer(1) -- if there is no transfer yet.
             - highLineVoltage(2) -- if the transfer to battery is caused
             by an over voltage greater than the high transfer voltage.
             - brownout(3) -- if the duration of the outage is greater than
             five seconds and the line voltage is between 40% of the
             rated output voltage and the low transfer voltage.
             - blackout(4) -- if the duration of the outage is greater than five
             seconds and the line voltage is between 40% of the rated
             output voltage and ground.
             - smallMomentarySag(5) -- if the duration of the outage is less
             than five seconds and the line voltage is between 40% of the
             rated output voltage and the low transfer voltage.
             - deepMomentarySag(6) -- if the duration of the outage is less
             than five seconds and the line voltage is between 40% of the
             rated output voltage and ground. The variable is set to
             - smallMomentarySpike(7) -- if the line failure is caused by a
             rate of change of input voltage less than ten volts per cycle.
             - largeMomentarySpike(8) -- if the line failure is caused by
             a rate of change of input voltage greater than ten volts per cycle.
             - selfTest(9) -- if the UPS was commanded to do a self test.
             - rateOfVoltageChange(10) -- if the failure is due to the rate of change of
             the line voltage.
          valuemap:
            name: 'APC Input Line Fail Cause'
          tags:
            -
              tag: Application
              value: 'UPS Input [1Phase]'
        -
          uuid: d6cfaff5d9fa4610b6d0de099fbab43c
          name: 'Input Voltage'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.318.1.1.1.3.2.1.0
          key: upsAdvInputLineVoltage
          delay: 30s
          units: V
          description: 'The current utility line voltage in VAC.'
          tags:
            -
              tag: Application
              value: 'UPS Input [1Phase]'
          triggers:
            -
              uuid: e2883107936c4044bd5621e5fbc7d75b
              expression: last(/apc_nmc_2_ap9619/upsAdvInputLineVoltage)<100
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsAdvInputLineVoltage)>220
              name: 'Input voltage failed'
              priority: DISASTER
        -
          uuid: f1af7551e4c24cebb15601eb4df03af1
          name: 'Output Load Current'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.318.1.1.1.4.2.4.0
          key: upsAdvOutputCurrent
          delay: 30s
          units: A
          tags:
            -
              tag: Application
              value: 'UPS Output [1Phase]'
        -
          uuid: 57db2b55d8ad47918ed28c009522a3db
          name: 'Output Load'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.4.2.3.0
          key: upsAdvOutputLoad
          delay: 30s
          units: '%'
          description: |
            The current UPS load expressed in percent
            of rated capacity.
          tags:
            -
              tag: Application
              value: 'UPS Output [1Phase]'
        -
          uuid: 7527170104ce45bea470d216b9011027
          name: 'Output Voltage'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.318.1.1.1.4.2.1.0
          key: upsAdvOutputVoltage
          delay: 30s
          units: V
          tags:
            -
              tag: Application
              value: 'UPS Output [1Phase]'
        -
          uuid: 2ab656441e46478d8bfdd0c763059df4
          name: 'Battery total DC current'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.2.10.0
          key: upsAdvTotalDCCurrent
          delay: 30s
          units: A
          description: 'The total DC current in Amps.'
          tags:
            -
              tag: Application
              value: 'UPS Battery'
        -
          uuid: e1cbfc197b254ca48140d38bb6f4677a
          name: 'Battery Status'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.1.1.0
          key: upsBasicBatteryStatus
          delay: 30s
          description: |
            The status of the UPS batteries. A batteryLow(3) value
             indicates the UPS will be unable to sustain the current
             load, and its services will be lost if power is not restored.
             The amount of run time in reserve at the time of low battery
             can be configured by the upsAdvConfigLowBatteryRunTime.
             A batteryInFaultCondition(4)value indicates that a battery
             installed has an internal error condition.
          valuemap:
            name: 'APC Battery Status'
          tags:
            -
              tag: Application
              value: 'UPS Battery'
          triggers:
            -
              uuid: 96e983054a0d459f9889c0ae97a90187
              expression: last(/apc_nmc_2_ap9619/upsBasicBatteryStatus)=3
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsBasicBatteryStatus)=2
              name: 'UPS batteries low'
              priority: DISASTER
            -
              uuid: 7c74e53e7f704bda9e0e1450ec513863
              expression: last(/apc_nmc_2_ap9619/upsBasicBatteryStatus)=4
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsBasicBatteryStatus)=2
              name: 'UPS battery fault condition'
              priority: HIGH
        -
          uuid: 37bbf479b841467aaa877d2a075fe72b
          name: 'Time on battery'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.1.2.0
          key: upsBasicBatteryTimeOnBattery
          delay: 30s
          trends: '0'
          value_type: TEXT
          description: |
            The elapsed time since the UPS has switched to battery
             power.
          tags:
            -
              tag: Application
              value: 'UPS Battery'
          triggers:
            -
              uuid: 010b34d355aa4097a5b9fbd3ba9ff0bf
              expression: last(/apc_nmc_2_ap9619/upsBasicBatteryTimeOnBattery)>60
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsBasicBatteryTimeOnBattery)<=0
              name: 'UPS on battery for 1 minute, H/Z should be on by now'
              priority: DISASTER
            -
              uuid: 521baf96134d4003a1187d0af4959e4d
              expression: last(/apc_nmc_2_ap9619/upsBasicBatteryTimeOnBattery)>120
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsBasicBatteryTimeOnBattery)<=0
              name: 'UPS on battery for 2 minutes, H/Z should be on by now'
              priority: DISASTER
            -
              uuid: 88e32939d41c44b2bca3d743bb3cf0e7
              expression: last(/apc_nmc_2_ap9619/upsBasicBatteryTimeOnBattery)>0
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsBasicBatteryTimeOnBattery)<=0
              name: 'UPS on battery power'
              priority: DISASTER
        -
          uuid: 75373bb19f5140e7b363b10716ae02a5
          name: Model
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.1.1.1.0
          key: upsBasicIdentModel
          delay: '3600'
          trends: '0'
          value_type: CHAR
          description: 'The UPS model name (e.g. ''APC Smart-UPS 600'').'
          tags:
            -
              tag: Application
              value: 'UPS Information'
        -
          uuid: 415f707cbe2145bc948229888d244d4d
          name: Name
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.1.1.2.0
          key: upsBasicIdentName
          delay: '3600'
          trends: '0'
          value_type: CHAR
          description: |
            An 8 byte ID string identifying the UPS. This object
             can be set by the administrator.
          tags:
            -
              tag: Application
              value: 'UPS Information'
        -
          uuid: b87a73e83e1e4835be2f83c063ad2edc
          name: 'Internal temperature'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.4.1.4
          key: upsBasicSystemInternalTemperature
          delay: 30s
          units: C
          description: 'The actual internal temperature of the UPS system in Celsius.'
          tags:
            -
              tag: Application
              value: 'UPS Information'
        -
          uuid: f7b37e22d2c04b2ebe53b9222d024e43
          name: 'Battery actual Volts [HighPrec]'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.3.4.0
          key: upsHighPrecBatteryActualVoltage
          delay: 30s
          value_type: FLOAT
          units: V
          description: 'The actual battery bus voltage in tenths of Volts.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: 'UPS Battery'
        -
          uuid: 16732d0ed28141ae8ff91695ed53cf44
          name: 'Battery Capacity [HighPrec]'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.3.1.0
          key: upsHighPrecBatteryCapacity
          delay: 30s
          value_type: FLOAT
          units: '%'
          description: |
            The remaining battery capacity expressed in
             tenths of percent of full capacity.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: 'UPS Battery'
          triggers:
            -
              uuid: 77df2fb05cbe41e48675ebf82b3380dc
              expression: last(/apc_nmc_2_ap9619/upsHighPrecBatteryCapacity)<10
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsHighPrecBatteryCapacity)>10
              name: 'Battery capacity below 10%'
              priority: HIGH
            -
              uuid: ae9cb18d78f4404bbb2e9dd057662128
              expression: last(/apc_nmc_2_ap9619/upsHighPrecBatteryCapacity)<20
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsHighPrecBatteryCapacity)>20
              name: 'Battery capacity below 20%'
              priority: HIGH
            -
              uuid: ae1a84c9433841758df22f92f1bec53a
              expression: last(/apc_nmc_2_ap9619/upsHighPrecBatteryCapacity)<30
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsHighPrecBatteryCapacity)>30
              name: 'Battery capacity below 30%'
              priority: HIGH
            -
              uuid: 52c117a9777e4dc4ac9c32d617304602
              expression: last(/apc_nmc_2_ap9619/upsHighPrecBatteryCapacity)<40
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsHighPrecBatteryCapacity)>40
              name: 'Battery capacity below 40%'
              priority: HIGH
            -
              uuid: c59a97181dd34cbabba9f8a6118527e4
              expression: last(/apc_nmc_2_ap9619/upsHighPrecBatteryCapacity)<50
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsHighPrecBatteryCapacity)>50
              name: 'Battery capacity below 50%'
              priority: HIGH
        -
          uuid: 0054e707865a4639a979d96ce7e3a984
          name: 'Battery Amps [HighPrec]'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.3.5.0
          key: upsHighPrecBatteryCurrent
          delay: 30s
          units: A
          description: 'The battery current in tenths of Amps.'
          tags:
            -
              tag: Application
              value: 'UPS Battery'
        -
          uuid: 69b36af24cdd463db5898e08207801fc
          name: 'Battery nominal Volts [HighPrec]'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.3.3.0
          key: upsHighPrecBatteryNominalVoltage
          delay: 30s
          value_type: FLOAT
          units: V
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: 'UPS Battery'
        -
          uuid: a49516d715514746a938616de9ba0a11
          name: 'Battery Temperature [HighPrec]'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.3.2.0
          key: upsHighPrecBatteryTemperature
          delay: 30s
          status: DISABLED
          value_type: FLOAT
          units: C
          description: |
            The current internal UPS temperature expressed in
             tenths of degrees Celsius.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: 'UPS Battery'
        -
          uuid: b3e0fae710614601bdaa25046ec5222d
          name: 'Input Frequency [HighPrec]'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.3.3.4.0
          key: upsHighPrecInputFrequency
          delay: 30s
          value_type: FLOAT
          units: Hz
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: 'UPS Input [1Phase]'
        -
          uuid: 6748a117ba864d10a496fb8141669ff2
          name: 'Input Voltage [HighPrec]'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.3.3.1.0
          key: upsHighPrecInputLineVoltage
          delay: 30s
          value_type: FLOAT
          units: V
          description: 'The current utility line voltage in tenths of VAC.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: 'UPS Input [1Phase]'
        -
          uuid: a3e30c1bf3c34b95a290466324a5764d
          name: 'Battery total DC current [HighPrec]'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.2.3.6.0
          key: upsHighPrecTotalDCCurrent
          delay: 30s
          units: A
          description: |
            The total DC current in tenths of Amps.
            not always supported
          tags:
            -
              tag: Application
              value: 'UPS Battery'
        -
          uuid: 457bba16c25b4118adfaf26a56add058
          name: 'Input Current L1'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.2.3.1.6.1.1.1
          key: upsPhaseInputCurrentL1
          delay: 30s
          units: A
          description: |
            The input current in 0.1 amperes, or -1 if it's
             unsupported by this UPS.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: 'UPS Input [3Phase]'
        -
          uuid: 047ca6fb73f34807b8ab59b1029b92d8
          name: 'Input Current L2'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.2.3.1.6.1.1.2
          key: upsPhaseInputCurrentL2
          delay: 30s
          units: A
          description: |
            The input current in 0.1 amperes, or -1 if it's
             unsupported by this UPS.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: 'UPS Input [3Phase]'
        -
          uuid: 3df3849dd89a4b6abc80bb54b44b1f4c
          name: 'Input Current L3'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.2.3.1.6.1.1.3
          key: upsPhaseInputCurrentL3
          delay: 30s
          units: A
          description: |
            The input current in 0.1 amperes, or -1 if it's
             unsupported by this UPS.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: 'UPS Input [3Phase]'
        -
          uuid: 1a2643a01a9448e8a6ff58a3f02a6438
          name: 'Input Voltage L1'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.2.3.1.3.1.1.1
          key: upsPhaseInputVoltageL1
          delay: 30s
          units: V
          description: |
            The input voltage in VAC, or -1 if it's unsupported
             by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Input [3Phase]'
          triggers:
            -
              uuid: d5447b00abdb487bb15ce52d3a34df26
              expression: last(/apc_nmc_2_ap9619/upsPhaseInputVoltageL1)<100
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsPhaseInputVoltageL1)>220
              name: 'Input voltage on phase 1 failed'
              priority: DISASTER
        -
          uuid: d8ea14275e7c46d3b9ef0d31425808da
          name: 'Input Voltage L2'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.2.3.1.3.1.1.2
          key: upsPhaseInputVoltageL2
          delay: 30s
          units: V
          description: |
            The input voltage in VAC, or -1 if it's unsupported
             by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Input [3Phase]'
          triggers:
            -
              uuid: a48c4c499a8f4cb0a4fb94f9477c0eca
              expression: last(/apc_nmc_2_ap9619/upsPhaseInputVoltageL2)<100
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsPhaseInputVoltageL2)>220
              name: 'Input voltage on phase 2 failed'
              priority: DISASTER
        -
          uuid: 5f403c2372b445eaa70b798ca7eacceb
          name: 'Input Voltage L3'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.2.3.1.3.1.1.3
          key: upsPhaseInputVoltageL3
          delay: 30s
          units: V
          description: |
            The input voltage in VAC, or -1 if it's unsupported
             by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Input [3Phase]'
          triggers:
            -
              uuid: 2f08da303ea843c9b50b4760fa831ce1
              expression: last(/apc_nmc_2_ap9619/upsPhaseInputVoltageL3)<100
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsPhaseInputVoltageL3)>220
              name: 'Input voltage on phase 3 failed'
              priority: DISASTER
        -
          uuid: be2e8635281c4578aa4404d02378e0ee
          name: 'Output Current L1'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.4.1.1.1
          key: upsPhaseOutputCurrentL1
          delay: 30s
          units: A
          description: |
            The output current in 0.1 amperes drawn
             by the load on the UPS, or -1 if it's unsupported
             by this UPS.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
        -
          uuid: 9c3bddf4b03544c498e34efc524774cf
          name: 'Output Current L2'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.4.1.1.2
          key: upsPhaseOutputCurrentL2
          delay: 30s
          units: A
          description: |
            The output current in 0.1 amperes drawn
             by the load on the UPS, or -1 if it's unsupported
             by this UPS.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
        -
          uuid: e6417fea11c24efe909862c7a249d17f
          name: 'Output Current L3'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.4.1.1.3
          key: upsPhaseOutputCurrentL3
          delay: 30s
          units: A
          description: |
            The output current in 0.1 amperes drawn
             by the load on the UPS, or -1 if it's unsupported
             by this UPS.
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
        -
          uuid: a03ba9a1977242a69d257fa818ec3dd5
          name: 'Output Load L1'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.7.1.1.1
          key: upsPhaseOutputLoadL1
          delay: 30s
          units: VA
          description: |
            The output load in VA, or -1 if it's unsupported
             by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
        -
          uuid: 45b4841e97204be287d76f4fef6e3909
          name: 'Output Load L2'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.7.1.1.2
          key: upsPhaseOutputLoadL2
          delay: 30s
          units: VA
          description: |
            The output load in VA, or -1 if it's unsupported
             by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
        -
          uuid: 072aea366d294cf69b1219ec0daa8b61
          name: 'Output Load L3'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.7.1.1.3
          key: upsPhaseOutputLoadL3
          delay: 30s
          units: VA
          description: |
            The output load in VA, or -1 if it's unsupported
             by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
        -
          uuid: 648fbab1b2d44f29989623f4d6bd1b69
          name: 'Output Phase capacity L1'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.16.1.1.1
          key: upsPhaseOutputPercentPowerL1
          delay: 30s
          units: '%'
          description: |
            The percentage of the UPS power capacity in Watts at
             redundancy @ (n + x) presently being used on this
             output phase, or -1 if it's unsupported by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
          triggers:
            -
              uuid: 953d5fba38ff470ca83302d8904a0c16
              expression: last(/apc_nmc_2_ap9619/upsPhaseOutputPercentPowerL1)>50
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsPhaseOutputPercentPowerL1)<50
              name: 'Phase 1 output capcity above 50%'
              priority: HIGH
        -
          uuid: a132d2564230478cbc2a7d3ae33f13dc
          name: 'Output Phase capacity L2'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.16.1.1.2
          key: upsPhaseOutputPercentPowerL2
          delay: 30s
          units: '%'
          description: |
            The percentage of the UPS power capacity in Watts at
             redundancy @ (n + x) presently being used on this
             output phase, or -1 if it's unsupported by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
          triggers:
            -
              uuid: 63e307a60e2e4dc5b3f220d09ada48c1
              expression: last(/apc_nmc_2_ap9619/upsPhaseOutputPercentPowerL2)>50
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsPhaseOutputPercentPowerL2)<50
              name: 'Phase 2 output capcity above 50%'
              priority: HIGH
        -
          uuid: 0ef8477a50944762b45637c3a0965f8b
          name: 'Output Phase capacity L3'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.16.1.1.3
          key: upsPhaseOutputPercentPowerL3
          delay: 30s
          units: '%'
          description: |
            The percentage of the UPS power capacity in Watts at
             redundancy @ (n + x) presently being used on this
             output phase, or -1 if it's unsupported by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
          triggers:
            -
              uuid: 87cab55374c145d6ae78c138c6f72ab3
              expression: last(/apc_nmc_2_ap9619/upsPhaseOutputPercentPowerL3)>50
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: last(/apc_nmc_2_ap9619/upsPhaseOutputPercentPowerL3)<50
              name: 'Phase 3 output capcity above 50%'
              priority: HIGH
        -
          uuid: ecb8a1cfc21644e98df50d5af85f5721
          name: 'Output Power L1'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.13.1.1.1
          key: upsPhaseOutputPowerL1
          delay: 30s
          status: DISABLED
          units: W
          description: |
            The output power in Watts, or -1 if it's
             unsupported by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
        -
          uuid: 656ced5372504600bb647719aebe7b5b
          name: 'Output Power L2'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.13.1.1.2
          key: upsPhaseOutputPowerL2
          delay: 30s
          status: DISABLED
          units: W
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
        -
          uuid: 99eabebac45d4d30bc498df1c75ba73c
          name: 'Output Power L3'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.13.1.1.3
          key: upsPhaseOutputPowerL3
          delay: 30s
          status: DISABLED
          units: W
          description: |
            The output power in Watts, or -1 if it's
             unsupported by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
        -
          uuid: 30dc20c874ee48d88f3c1e1baad79937
          name: 'Output Voltage L1'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.318.1.1.1.9.3.3.1.3.1.1.1
          key: upsPhaseOutputVoltageL1
          delay: 30s
          units: VAC
          description: |
            The output voltage in VAC, or -1 if it's unsupported
             by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
        -
          uuid: f88171bf48724d7f81e333a6d2ca2a53
          name: 'Output Voltage L2'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.3.1.1.2
          key: upsPhaseOutputVoltageL2
          delay: 30s
          units: VAC
          description: |
            The output voltage in VAC, or -1 if it's unsupported
             by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
        -
          uuid: 9c48b6e6e15b4f3194fa9a67cda970f2
          name: 'Output Voltage L3'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.318.1.1.1.9.3.3.1.3.1.1.3
          key: upsPhaseOutputVoltageL3
          delay: 30s
          units: VAC
          description: |
            The output voltage in VAC, or -1 if it's unsupported
             by this UPS.
          tags:
            -
              tag: Application
              value: 'UPS Output [3Phase]'
      valuemaps:
        -
          uuid: 9f6d111bfe5641e688a1ad4867bce008
          name: 'APC Battery Replacement Status'
          mappings:
            -
              value: '1'
              newvalue: unknown
            -
              value: '2'
              newvalue: notInstalled
            -
              value: '3'
              newvalue: ok
            -
              value: '4'
              newvalue: failed
            -
              value: '5'
              newvalue: highTemperature
            -
              value: '6'
              newvalue: replaceImmediately
            -
              value: '7'
              newvalue: lowCapacity
        -
          uuid: ec262fd1871847aea36ad90381f5efad
          name: 'APC Battery Status'
          mappings:
            -
              value: '1'
              newvalue: unknown
            -
              value: '2'
              newvalue: batteryNormal
            -
              value: '3'
              newvalue: batteryLow
            -
              value: '4'
              newvalue: batteryInFaultCondition
        -
          uuid: b17a4be8637e4e6ba9faeec6f0dc8353
          name: 'APC Input Line Fail Cause'
          mappings:
            -
              value: '1'
              newvalue: noTransfe
            -
              value: '2'
              newvalue: highLineVoltage
            -
              value: '3'
              newvalue: brownout
            -
              value: '4'
              newvalue: blackout
            -
              value: '5'
              newvalue: smallMomentarySag
            -
              value: '6'
              newvalue: deepMomentarySag
            -
              value: '7'
              newvalue: smallMomentarySpike
            -
              value: '8'
              newvalue: largeMomentarySpike
            -
              value: '9'
              newvalue: selfTest
            -
              value: '10'
              newvalue: rateOfVoltageChange
        -
          uuid: 56992ca754ac4d1385564e612ddbc83c
          name: 'APC Probe Status'
          mappings:
            -
              value: '1'
              newvalue: Disconnected
            -
              value: '2'
              newvalue: Connected
  graphs:
    -
      uuid: 75651068aea84e039d4ab17ecf8c13bf
      name: 'Input Volts and Frequency'
      width: '1200'
      graph_items:
        -
          color: 1A7C11
          item:
            host: apc_nmc_2_ap9619
            key: upsAdvInputFrequency
        -
          sortorder: '1'
          color: F63100
          item:
            host: apc_nmc_2_ap9619
            key: upsAdvInputLineVoltage
        -
          sortorder: '2'
          color: 2774A4
          item:
            host: apc_nmc_2_ap9619
            key: upsPhaseInputVoltageL1
        -
          sortorder: '3'
          color: A54F10
          item:
            host: apc_nmc_2_ap9619
            key: upsPhaseInputVoltageL2
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: apc_nmc_2_ap9619
            key: upsPhaseInputVoltageL3
    -
      uuid: a84e327ccb7346e7a97ff7ecb4e59c88
      name: 'Output Load and Runtime'
      width: '1200'
      graph_items:
        -
          color: 1A7C11
          item:
            host: apc_nmc_2_ap9619
            key: upsAdvBatteryRunTimeRemaining
        -
          sortorder: '1'
          color: F63100
          item:
            host: apc_nmc_2_ap9619
            key: upsAdvOutputLoad
