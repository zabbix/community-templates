zabbix_export:
  version: '7.2'
  template_groups:
    - uuid: 4e8b8e2411464385a17fa8df203e0e4c
      name: 'DLA::Designed::'
    - uuid: 07f8f7740ad24e9eb9ca26de90a5d569
      name: 'GE Power'
    - uuid: 3dcd5bbe90534f9e8eb5c2d53756af63
      name: Templates/Power
  templates:
    - uuid: d6b454c2ecd149aa9162163ee64db0c4
      template: 'GE - ABB - CP841 Power System'
      name: 'GE - ABB - CP841 Power System'
      description: |
        GE/ABB CP841 DC Power System - Comprehensive SNMP Monitoring Template
        
        OVERVIEW
        ========
        The GE/ABB CP841 is an advanced DC power system controller designed for telecommunications 
        and mission-critical power infrastructure. This template provides comprehensive SNMP-based 
        monitoring of DC plant operations, rectifier performance, battery management, efficiency 
        control, and alarm conditions for the CP841v2 power system.
        
        Key monitoring capabilities include:
        • DC Plant Metrics - Real-time voltage, current, capacity, and power measurements
        • Battery Management - State of charge, discharge monitoring, reserve time tracking
        • Rectifier Control - Online capacity, redundancy, efficiency management, individual rectifier monitoring
        • Alarm Monitoring - Comprehensive coverage of 30+ critical system alarms
        • Efficiency Control - Energy management state and threshold tracking
        • System Information - Controller software versions, configuration, and inventory data
        
        CAPABILITIES
        ============
        This template monitors all critical aspects of CP841 power system operation:
        
        DC Power System:
          ✓ DC bus voltage and current with millisecond precision
          ✓ Total installed vs online rectifier capacity tracking
          ✓ Load current and rectifier drain monitoring
          ✓ Plant shunt configuration (type, size, state)
          ✓ Voltage type classification
        
        Battery Management:
          ✓ Battery discharge detection and duration tracking
          ✓ State of charge percentage monitoring
          ✓ Reserve time calculations
          ✓ Battery string configuration (cells per string, number of strings)
          ✓ Battery type identification and capacity monitoring
        
        Rectifier System:
          ✓ Total rectifier count and redundancy status
          ✓ Individual rectifier voltage monitoring
          ✓ Rectifier sequencing and efficiency management
          ✓ All-rectifier-on threshold control
          ✓ Rectifier restart and standby configuration
        
        Critical Alarms (30+ alarm objects):
          ✓ Auxiliary Fuse Major (AMJ)
          ✓ Sense/Control Fuse (VSF)
          ✓ AC Fail (ACF) / Multiple AC Failure (MACF)
          ✓ Rectifier Fail (RFA) / Multiple Rectifier Fail (MFA)
          ✓ High Voltage (HVA) / High Float Voltage (HFV) / Very Low Voltage (VLA)
          ✓ Battery Discharge (BDA) / Battery On Discharge (BOD)
          ✓ Emergency Power Off (EPO)
          ✓ Communication Failures (CMA minor, MCM major)
          ✓ Rectifier Internal Fault (RIF)
          ✓ Rectifier Fan Failure (RFN)
          ✓ Voltage Module Fail (VMF)
          ✓ Load Share Fail (LSF)
          ✓ Redundancy Loss (RLS)
          ✓ Reserve Time Low (RTL) / Real-time Reserve Time Low (RRTL)
          ✓ Open String Alarm (OSA)
          ✓ Thermal Probe Alarm (TPA) / Thermal Probe Fail Safe (PFS)
          ✓ ID Conflict (DID) / Incompatible Rectifier (ICR)
          ✓ Energy Management Disabled (EMD)
          ✓ Rectifier Current Limit (CLM)
          ✓ Manual Off (MAN) / Multiple Manual Off (MMAN)
          ✓ Backup ORing FET (BOF) / Shorted ORing FET (SOF)
          ✓ Rectifier Under Voltage (DER)
          ✓ PS Single/Multiple Fan Fail (RSF/RMF)
          ✓ PS Module Over Temperature (RMT)
          ✓ And many more power system alarms
        
        Efficiency Management:
          ✓ Efficiency mode state monitoring
          ✓ Enable/disable status tracking
          ✓ Target efficiency percentage
          ✓ Turn-on threshold configuration
          ✓ Initial delay and turn-off delay settings
        
        System Information:
          ✓ Controller software version, web page version, boot block version
          ✓ System identification and description
          ✓ Date/time configuration and format
          ✓ Board code and serial number
          ✓ Configuration data (stick configuration, BMIC count, etc.)
        
        TRIGGER PHILOSOPHY
        ==================
        All triggers in this template follow NOC-optimized design principles:
        
        Comprehensive Alarm Coverage:
          • 30+ critical power system alarms monitored
          • Battery discharge detection with duration tracking
          • Rectifier redundancy and failure monitoring
          • Voltage threshold violations (high/low)
          • Communication and control system failures
          • AC power loss and multiple failure conditions
        
        Severity Alignment:
          • DISASTER: System-wide failures (EPO, multiple critical failures)
          • HIGH: Single-point failures affecting availability (rectifier fail, AC fail, battery discharge)
          • AVERAGE: Degraded operations (efficiency disabled, redundancy loss)
          • WARNING: Configuration and informational issues (ID conflicts, manual off states)
        
        Manual Close Required:
          • All triggers use manual_close: YES to ensure NOC acknowledgment
          • Prevents alarm auto-clearing during intermittent conditions
          • Ensures proper investigation and documentation
        
        Detailed Descriptions:
          • Problem: Clear statement of detected condition
          • Impact: Operational consequences for power system and load
          • Severity Rationale: Justification for alert priority
          • Immediate Actions: Step-by-step NOC response procedures
          • Troubleshooting Steps: Diagnostic procedures and checks
          • Escalation: Timeline and criteria for vendor engagement
        
        TECHNICAL DETAILS
        =================
        MIB: CP841V2-MIB (enterprises.10520.2.1.5)
          • Last Updated: 2023-07-19
          • Organization: ABB ELPC (APP ELPC)
          • Enterprise OID: 1.3.6.1.4.1.10520
        
        Supported Object Groups:
          • cp841v2Dc1 - DC Plant metrics and alarms (.1.3.6.1.4.1.10520.2.1.5.1.*)
          • cp841v2Ps1 - Power System information (.1.3.6.1.4.1.10520.2.1.5.2.*)
          • cp841v2Gm1 - General Monitoring (.1.3.6.1.4.1.10520.2.1.5.5.*)
          • cp841v2RecEntry - Rectifier table (.1.3.6.1.4.1.10520.2.1.5.6.*)
        
        Polling Intervals:
          • Power metrics (voltage, current): 1 minute (critical for trend analysis)
          • Battery state and charge: 1 minute (rapid response to discharge events)
          • Alarm states: 1 minute (immediate fault detection)
          • Configuration items: 5 minutes (infrequent changes)
          • System information: 1 hour (static data)
        
        Data Retention:
          • Power and battery metrics: 90 days (trending and analysis)
          • Alarm states: 90 days (historical fault tracking)
          • Configuration: 30 days (change tracking)
        
        Unit Conversions:
          • Voltage: MIB reports in mV, converted to V for display
          • Current: MIB reports in mA, converted to A for display
          • Battery Charge: Device reports as "0.0%", REGEX extracts numeric value
        
        Value Mappings:
          • Enable/Disable states (0=Disable, 1=Enable)
          • Yes/No states (0=NO, 1=YES)
          • On/Off states (0=Off, 1=On)
          • Shunt types (NONE, BATTERY, LOAD)
          • Plant states (FLOAT, BOOST)
          • Alarm states (various alarm condition mappings)
        
        HARDWARE COMPATIBILITY
        ======================
        This template has been tested on CP841 controllers that support:
          • Basic DC plant monitoring (voltage, current, capacity)
          • Battery management and discharge detection
          • Rectifier capacity and redundancy tracking
          • Critical alarm monitoring
          • Efficiency management
        
        Note: Advanced features like 3-phase AC monitoring, thermal sensors, and power 
        measurement are defined in the CP841V2-MIB but may not be available on all 
        hardware models. This template focuses on universally-supported features present 
        across all deployed CP841 controllers.
        
        USE CASES
        =========
        1. **Telecommunications Power Plants**
           - Monitor DC power systems for cell sites and central offices
           - Track rectifier redundancy and battery backup capacity
           - Detect power failures before service outage occurs
           - Ensure -48VDC system stability for telecommunications equipment
        
        2. **Data Center Infrastructure**
           - Monitor backup power systems for critical IT loads
           - Track efficiency management for energy cost optimization
           - Ensure battery reserve time meets SLA requirements
        
        3. **Industrial Power Systems**
           - Monitor DC power for industrial control systems
           - Track power quality and voltage regulation
          - Ensure redundancy for mission-critical operations
           - Monitor battery health for emergency backup systems
        
        4. **Utility Substation Monitoring**
           - Monitor DC control power for substation equipment
           - Track battery discharge events during grid disturbances
           - Ensure backup power for protective relaying
        
        INSTALLATION
        ============
        1. Import this template into Zabbix 7.2 or later
        2. Create a host for your CP841 power system controller
        3. Link this template to the host
        4. Configure SNMP parameters:
           - Set SNMP version (SNMPv2c recommended)
           - Configure community string or SNMPv3 credentials
           - Set SNMP port (default: 161)
           - Configure timeout and retries for reliability
        
        5. Customize macros if needed:
           {$CP841.VOLTAGE.VERYLOW} - Critical low voltage (default: -40.0V)
           {$CP841.CURRENT.HIGH} - High current threshold (default: 100A)
           {$CP841.RECTIFIER.MIN} - Minimum rectifier count (default: 2 for N+1 redundancy)
        
        6. Verify data collection:
           - Check Latest Data for voltage, current, and battery metrics
           - Confirm alarm items are reporting proper states
           - Review graphs for proper data visualization
           - Test trigger functionality if possible
        
        TROUBLESHOOTING
        ===============
        **No Data Collected:**
          1. Verify SNMP connectivity: snmpwalk -v2c -c <community> <ip> 1.3.6.1.4.1.10520.2.1.5
          2. Check firewall rules (UDP port 161)
          3. Confirm SNMP is enabled on CP841 controller
          4. Verify community string or SNMPv3 credentials
          5. Check Zabbix server can resolve host IP
        
        **Incorrect Values:**
          1. Verify unit conversions (mV→V, mA→A) in item preprocessing
          2. Check value mappings for enumerated items
          3. Confirm MIB version matches controller firmware
          4. Review item types (Float vs Integer vs Text)
        
        **Battery Percent Shows "Not supported":**
          1. Verify OID .1.3.6.1.4.1.10520.2.1.5.1.14.0 returns data
          2. Check REGEX preprocessing is extracting value from "0.0%" format
          3. Ensure item value type is FLOAT
        
        **Missing Alarms:**
          1. Verify alarm objects are enabled in CP841 configuration
          2. Check polling intervals are appropriate (1-2 minutes recommended)
          3. Confirm trigger expressions use correct operators
          4. Review history settings for alarm items (90 days recommended)
        
        **Graph Display Issues:**
          1. Ensure sufficient data history exists (minimum 1 hour for trending)
          2. Check graph time ranges and axis scaling
          3. Verify graph items reference correct keys after template upgrade
          4. Confirm units are properly configured on items
        
        **Performance Concerns:**
          1. Adjust polling intervals if server load is high (can increase to 5 minutes)
          2. Reduce history retention if database growth is excessive
          3. Consider SNMP bulk requests for large deployments
          4. Use value caching where appropriate
        
        VERSION HISTORY
        ===============
        v2.0.1 (2025-12-01)
          • Removed unsupported items (3-phase AC, thermal, power monitoring)
          • Fixed battery charge preprocessing (REGEX to extract value from "0.0%")
          • Reduced from 83 to 66 items (only hardware-supported features)
          • Updated graphs (3 graphs focused on DC plant and rectifier monitoring)
          • Streamlined dashboard (9 widgets, removed unsupported metrics)
          • Updated documentation to reflect actual hardware capabilities
          • Template tested on three production CP841 controllers
          • Final statistics: 66 items, 12 triggers, 8 value maps, 3 macros, 3 graphs, 1 dashboard
        
        v2.0.0 (2025-12-01)
          • Complete template redesign with standardized item keys (cp841.*.*)
          • Added 40+ new monitoring items including all critical alarms
          • Comprehensive trigger coverage with NOC-optimized descriptions
          • Added standard ICMP/SNMP availability and MIB-2 inventory items
          • Created 8 value mappings for all enumerated types
          • Built comprehensive NOC dashboard with status overview
          • Added user macros for threshold customization
          • Component-based item tagging for better organization
          • Full documentation with use cases and troubleshooting
          • Author: ://echo@dla.network [oZark oRChes✝ra✝'d]
        
        v1.0.0 (Original)
          • Basic CP841 monitoring with 27 items
          • Minimal trigger coverage (2 triggers)
          • Simple voltage and current graphs
          • MIB excerpt as description
        
        SUPPORT
        =======
        Template Maintainer: ://echo@dla.network [oZark oRChes✝ra✝'d]
        GE/ABB Support: ABB ELPC - Marc Hirsch (Phone: +1 972 244 9288)
                        Power Systems, 601 Shiloh Road, Plano, TX 75074, USA
        
        For template issues, customization requests, or enhancement suggestions,
        please contact the template maintainer.
        
        For CP841 hardware/firmware issues, contact GE/ABB support.
      groups:
        - name: 'DLA::Designed::'
        - name: 'GE Power'
        - name: Templates/Power
      items:
        - uuid: fdba8a31ceda42c4beb299889bb6a6f2
          name: 'AC Fail Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.45.0]'
          key: cp841.alarm.ac.fail
          history: 90d
          value_type: CHAR
          description: 'AC power failure alarm. Loss of AC input power detected.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: ac-power
            - tag: component
              value: alarm
          triggers:
            - uuid: 9daaf243b4754fe782a8620e6d7218d8
              expression: 'last(/GE - ABB - CP841 Power System/cp841.alarm.ac.fail)="ACTIVE" or last(/GE - ABB - CP841 Power System/cp841.alarm.ac.fail)="active"'
              name: 'AC Power Failure'
              priority: HIGH
              description: |
                PROBLEM: AC input power failure detected.
                
                IMPACT: System running on battery backup. Battery reserve time limited. Risk of load shutdown if not restored.
                
                IMMEDIATE ACTIONS:
                1. Check AC breakers and disconnects
                2. Verify utility power status
                3. Monitor battery reserve time
                4. Prepare for potential load shutdown
                
                ESCALATION: Immediate if reserve time < 1 hour.
              manual_close: 'YES'
        - uuid: ac4fda209025492f98a0ea145c1bbd33
          name: 'Multiple AC Failure Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.58.0]'
          key: cp841.alarm.ac.multiplefail
          history: 90d
          value_type: CHAR
          description: 'Multiple AC failure alarm. Multiple AC power phases or sources failed.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: ac-power
            - tag: component
              value: alarm
        - uuid: b453601429994d078f0e31fd67f91b41
          name: 'Battery Discharge Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.59.0]'
          key: cp841.alarm.battery.discharge
          history: 90d
          value_type: CHAR
          description: 'Battery discharge alarm. Battery actively discharging due to AC loss or insufficient rectifier capacity.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: battery
            - tag: component
              value: alarm
        - uuid: 89df4668ef2a4ae4b33c1443f7f0b14d
          name: 'Open String Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.34.0]'
          key: cp841.alarm.battery.openstring
          history: 90d
          value_type: CHAR
          description: 'Open battery string alarm. Indicates disconnected or failed battery string.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: battery
            - tag: component
              value: alarm
        - uuid: a5b4bab6feb545ad9b4c298043ebd5fe
          name: 'Reserve Time Low Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.54.0]'
          key: cp841.alarm.battery.reservetimelow
          history: 90d
          value_type: CHAR
          description: 'Reserve time low alarm. Battery backup time below configured threshold.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: battery
            - tag: component
              value: alarm
        - uuid: 6249d0e97f47431e909d43aeb918bcba
          name: 'Real-time Reserve Time Low Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.55.0]'
          key: cp841.alarm.battery.rtreservetimelow
          history: 90d
          value_type: CHAR
          description: 'Real-time reserve time low alarm. Current discharge rate indicates imminent battery depletion.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: battery
            - tag: component
              value: alarm
        - uuid: 27fd77d4fa6a4ee28149e4b8b95ccc2c
          name: 'Communication Major Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.41.0]'
          key: cp841.alarm.comm.major
          history: 90d
          value_type: CHAR
          description: 'Major communication failure alarm. Critical communication path failed.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: communication
            - tag: component
              value: alarm
          triggers:
            - uuid: 75b5fc7ee3f04111aaaa60d902fb010e
              expression: 'last(/GE - ABB - CP841 Power System/cp841.alarm.comm.major)="ACTIVE" or last(/GE - ABB - CP841 Power System/cp841.alarm.comm.major)="active"'
              name: 'Major Communication Failure'
              priority: AVERAGE
              description: |
                PROBLEM: Critical communication path failure in power system.
                
                IMPACT: Loss of monitoring/control for critical components. May affect load balancing and efficiency.
                
                IMMEDIATE ACTIONS:
                1. Verify which components are offline
                2. Check physical connections and cabling
                3. Review controller communication settings
                4. Monitor power metrics for anomalies
                
                ESCALATION: Within 2 hours for troubleshooting.
              manual_close: 'YES'
        - uuid: 474c6b75b04449c9bd5f1ff46fefd6f3
          name: 'Communication Minor Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.40.0]'
          key: cp841.alarm.comm.minor
          history: 90d
          value_type: CHAR
          description: 'Minor communication failure alarm. Non-critical communication path degraded.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: communication
            - tag: component
              value: alarm
        - uuid: 30da5b8d8e7f44e38488ec766478bf4e
          name: 'Energy Management Disabled Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.35.0]'
          key: cp841.alarm.efficiency.disabled
          history: 90d
          value_type: CHAR
          description: 'Energy management disabled alarm. Efficiency mode not operating as configured.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: efficiency
            - tag: component
              value: alarm
        - uuid: 7a3d896a33514de3baa0b87b269e37ae
          name: 'Emergency Power Off Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.42.0]'
          key: cp841.alarm.epo
          history: 90d
          value_type: CHAR
          description: 'Emergency Power Off activated alarm. EPO button pressed or circuit activated.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: emergency
            - tag: component
              value: alarm
          triggers:
            - uuid: a0977bb6746e41038404e707e9928199
              expression: 'last(/GE - ABB - CP841 Power System/cp841.alarm.epo)="ACTIVE" or last(/GE - ABB - CP841 Power System/cp841.alarm.epo)="active"'
              name: 'Emergency Power Off (EPO) Activated'
              priority: DISASTER
              description: |
                PROBLEM: Emergency Power Off has been activated.
                
                IMPACT: All power system output shut down. Load is down. This is a complete service outage.
                
                SEVERITY: DISASTER - Total system shutdown affecting all connected load.
                
                IMMEDIATE ACTIONS:
                1. Verify EPO activation was intentional (emergency or safety procedure)
                2. Identify who/what activated EPO (button, fire system, etc.)
                3. Ensure safety conditions are clear before reset
                4. Coordinate with on-site personnel for EPO reset authorization
                
                ESCALATION: Immediate escalation to on-site technician and site management.
              manual_close: 'YES'
        - uuid: b0028a9efe8d4b84910f90fdcd0b86f6
          name: 'Auxiliary Fuse Major Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.32.0]'
          key: cp841.alarm.fuse.auxiliary
          history: 90d
          value_type: CHAR
          description: 'Auxiliary fuse major alarm. Indicates blown fuse in auxiliary power circuit.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: fuse
            - tag: component
              value: alarm
        - uuid: 38ecd9b9933a45078654a74c46caff51
          name: 'Sense/Control Fuse Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.33.0]'
          key: cp841.alarm.fuse.control
          history: 90d
          value_type: CHAR
          description: 'Sense or control fuse alarm. Indicates blown fuse in voltage sense or control circuit.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: fuse
            - tag: component
              value: alarm
        - uuid: 0886aef476544780ac88f9e4e381e899
          name: 'Rectifier Current Limit Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.48.0]'
          key: cp841.alarm.rectifier.currentlimit
          history: 90d
          value_type: CHAR
          description: 'Rectifier current limiting alarm. Rectifier operating at maximum current capacity.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: rectifier
            - tag: component
              value: alarm
        - uuid: 5fffcfcc591c4283842569b62e6eccbf
          name: 'Rectifier Fail Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.44.0]'
          key: cp841.alarm.rectifier.fail
          history: 90d
          value_type: CHAR
          description: 'Rectifier failure alarm. One or more rectifiers has failed or gone offline.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: rectifier
            - tag: component
              value: alarm
          triggers:
            - uuid: 9e67cc0d2d80437b9fa74e26c5cf1edc
              expression: 'last(/GE - ABB - CP841 Power System/cp841.alarm.rectifier.fail)="ACTIVE" or last(/GE - ABB - CP841 Power System/cp841.alarm.rectifier.fail)="active"'
              name: 'Rectifier Failure'
              priority: AVERAGE
              description: |
                PROBLEM: One or more rectifiers have failed.
                
                IMPACT: Reduced system capacity and redundancy. May lead to battery discharge under full load.
                
                IMMEDIATE ACTIONS:
                1. Check rectifier count and online capacity
                2. Verify remaining capacity exceeds load
                3. Review for additional rectifier alarms
                4. Schedule rectifier replacement
                
                ESCALATION: Within 4 hours for replacement coordination.
              manual_close: 'YES'
        - uuid: b5b8604c181842a5b08a81b1a4ea2e7c
          name: 'Rectifier Fan Failure Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.50.0]'
          key: cp841.alarm.rectifier.fan
          history: 90d
          value_type: CHAR
          description: 'Rectifier fan failure alarm. Cooling fan failure in one or more rectifiers.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: rectifier
            - tag: component
              value: alarm
        - uuid: f41de19409ad40708649e90e1f5e91ad
          name: 'Incompatible Rectifier Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.43.0]'
          key: cp841.alarm.rectifier.incompatible
          history: 90d
          value_type: CHAR
          description: 'Incompatible rectifier detected alarm. Mismatched rectifier model or configuration.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: rectifier
            - tag: component
              value: alarm
        - uuid: 89d74d7c236a41a2b5b2ce43043081d6
          name: 'Rectifier Internal Fault Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.49.0]'
          key: cp841.alarm.rectifier.internal
          history: 90d
          value_type: CHAR
          description: 'Rectifier internal fault alarm. Internal component failure in rectifier module.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: rectifier
            - tag: component
              value: alarm
        - uuid: 8085072a4be94a2cbad2dd500c31e7a7
          name: 'Load Share Fail Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.51.0]'
          key: cp841.alarm.rectifier.loadshare
          history: 90d
          value_type: CHAR
          description: 'Load share failure alarm. Rectifiers not sharing load properly.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: rectifier
            - tag: component
              value: alarm
        - uuid: 40acb8a0c8ea4df6aaffdc7c0efc5167
          name: 'Manual Off Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.46.0]'
          key: cp841.alarm.rectifier.manualoff
          history: 90d
          value_type: CHAR
          description: 'Rectifier manual off alarm. One or more rectifiers manually turned off.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: rectifier
            - tag: component
              value: alarm
        - uuid: c2921cc8aa1f44a9a797d587b70d3428
          name: 'Multiple Rectifier Fail Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.53.0]'
          key: cp841.alarm.rectifier.multiplefail
          history: 90d
          value_type: CHAR
          description: 'Multiple rectifier failure alarm. Multiple rectifiers failed simultaneously.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: rectifier
            - tag: component
              value: alarm
          triggers:
            - uuid: 955a4ccd3b0e47989f0cee9490fb07d5
              expression: 'last(/GE - ABB - CP841 Power System/cp841.alarm.rectifier.multiplefail)="ACTIVE" or last(/GE - ABB - CP841 Power System/cp841.alarm.rectifier.multiplefail)="active"'
              name: 'Multiple Rectifier Failures'
              priority: HIGH
              description: |
                PROBLEM: Multiple rectifiers failed simultaneously.
                
                IMPACT: Severe capacity reduction. High risk of battery discharge. System may not support full load.
                
                IMMEDIATE ACTIONS:
                1. Verify online capacity vs. load current
                2. Check for common cause (AC power, thermal, etc.)
                3. Prepare for emergency rectifier deployment
                4. Consider non-essential load shedding
                
                ESCALATION: Immediate escalation to field technician.
              manual_close: 'YES'
        - uuid: ba2d75665e004ccda868f1d451752e4f
          name: 'Multiple Manual Off Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.57.0]'
          key: cp841.alarm.rectifier.multiplemanualoff
          history: 90d
          value_type: CHAR
          description: 'Multiple manual off alarm. Multiple rectifiers manually turned off.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: rectifier
            - tag: component
              value: alarm
        - uuid: f867b23ff4e7478a907f4f5f61da78dc
          name: 'Redundancy Loss Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.56.0]'
          key: cp841.alarm.rectifier.redundancyloss
          history: 90d
          value_type: CHAR
          description: 'Redundancy loss alarm. Insufficient online rectifiers for N+1 redundancy.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: rectifier
            - tag: component
              value: alarm
        - uuid: e4977bebf43844a9a07b3e5e95b3c898
          name: 'ID Conflict Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.47.0]'
          key: cp841.alarm.system.idconflict
          history: 90d
          value_type: CHAR
          description: 'ID conflict alarm. Duplicate device IDs detected in system.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: configuration
            - tag: component
              value: alarm
        - uuid: ae6b4d1732ad4e4f8136bfdd072a0bb3
          name: 'ID Not Configured Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.36.0]'
          key: cp841.alarm.system.idnotconfigured
          history: 90d
          value_type: CHAR
          description: 'System ID not configured alarm. Controller identification not properly set.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: configuration
            - tag: component
              value: alarm
        - uuid: 2936b0357eb94b9a8c1ca7258b91fda7
          name: 'Thermal Probe Fail Safe Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.38.0]'
          key: cp841.alarm.thermal.failsafe
          history: 90d
          value_type: CHAR
          description: 'Thermal probe fail-safe alarm. Temperature probe malfunction or disconnection.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: thermal
            - tag: component
              value: alarm
        - uuid: d8948202d8c74a50a16ecc7908036210
          name: 'Thermal Probe Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.37.0]'
          key: cp841.alarm.thermal.probe
          history: 90d
          value_type: CHAR
          description: 'Thermal probe alarm. Temperature sensor reading exceeds configured threshold.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: thermal
            - tag: component
              value: alarm
        - uuid: e7e54a83c31c4af19bf5edad4299251c
          name: 'High Voltage Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.60.0]'
          key: cp841.alarm.voltage.high
          history: 90d
          value_type: CHAR
          description: 'High voltage alarm. DC bus voltage exceeds configured high threshold.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: voltage
            - tag: component
              value: alarm
          triggers:
            - uuid: 3d780b523b504eb9a7bf83424217efbe
              expression: 'last(/GE - ABB - CP841 Power System/cp841.alarm.voltage.high)="ACTIVE" or last(/GE - ABB - CP841 Power System/cp841.alarm.voltage.high)="active"'
              name: 'High Voltage Alarm'
              priority: AVERAGE
              description: |
                PROBLEM: DC bus voltage exceeds high threshold.
                
                IMPACT: Risk of equipment damage. Connected load may malfunction or fail.
                
                IMMEDIATE ACTIONS:
                1. Check actual DC voltage reading
                2. Review rectifier voltage setpoints
                3. Verify float/boost state is correct
                4. Check for voltage regulation issues
                
                ESCALATION: Within 30 minutes if voltage > 58V (48V systems).
              manual_close: 'YES'
        - uuid: 39b44d811aa54eaaadbb41311e8992a1
          name: 'High Float Voltage Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.61.0]'
          key: cp841.alarm.voltage.highfloat
          history: 90d
          value_type: CHAR
          description: 'High float voltage alarm. Float voltage setpoint higher than recommended for battery type.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: voltage
            - tag: component
              value: alarm
        - uuid: cf04d2398fb14c5a8fac6f30eb796d0f
          name: 'Voltage Module Fail Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.39.0]'
          key: cp841.alarm.voltage.module
          history: 90d
          value_type: CHAR
          description: 'Voltage module failure alarm. Voltage regulation or monitoring module malfunction.'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: module
            - tag: component
              value: alarm
        - uuid: 56929d3d36f9406b80a07dc7af2c0422
          name: 'Very Low Voltage Alarm'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.52.0]'
          key: cp841.alarm.voltage.verylow
          history: 90d
          value_type: CHAR
          description: 'Very low voltage alarm. DC bus voltage critically low (near shutdown threshold).'
          valuemap:
            name: 'CP841::AlarmState'
          tags:
            - tag: alarm
              value: voltage
            - tag: component
              value: alarm
          triggers:
            - uuid: cb05b7bb6df347beb187a14141608f08
              expression: 'last(/GE - ABB - CP841 Power System/cp841.alarm.voltage.verylow)="ACTIVE" or last(/GE - ABB - CP841 Power System/cp841.alarm.voltage.verylow)="active"'
              name: 'Very Low Voltage Alarm (Critical)'
              priority: HIGH
              description: |
                PROBLEM: DC voltage critically low - approaching shutdown threshold.
                
                IMPACT: Imminent load shutdown. Equipment may already be malfunctioning. Battery near depletion.
                
                IMMEDIATE ACTIONS:
                1. Emergency AC power restoration required
                2. Prepare for controlled load shutdown
                3. Alert on-site personnel
                4. Document time to shutdown
                
                ESCALATION: IMMEDIATE - This is a pre-failure alarm.
              manual_close: 'YES'
        - uuid: 0da87bbec26643a08bcbcb600bc4a0a8
          name: 'Battery String Capacity'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.30.0]'
          key: cp841.battery.capacity.string
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: A
          description: 'Capacity rating of each battery string in ampere-hours.'
          tags:
            - tag: component
              value: battery
            - tag: unit
              value: capacity
        - uuid: 680028b0d8864bb7a7bc20322b5e210e
          name: 'Cells per String'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.26.0]'
          key: cp841.battery.cells.perstring
          delay: 5m
          history: 90d
          value_type: FLOAT
          description: 'Number of battery cells configured per string. Typically 24 cells for 48V systems.'
          tags:
            - tag: component
              value: battery
            - tag: role
              value: configuration
        - uuid: 43be7b6a1bf24abc93534aac89644d6a
          name: 'Battery Percent of Charge'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.14.0]'
          key: cp841.battery.charge.percent
          delay: 5m
          history: 90d
          value_type: FLOAT
          description: 'Estimated battery state of charge as a percentage of full capacity.'
          preprocessing:
            - type: REGEX
              parameters:
                - '^([\d.]+)%$'
                - \1
          tags:
            - tag: component
              value: battery
            - tag: unit
              value: percent
        - uuid: fa370798dcd148fdbc038bf4b312e081
          name: 'Battery on Discharge'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.12.0]'
          key: cp841.battery.discharge
          delay: 5m
          history: 90d
          value_type: CHAR
          description: 'Battery discharge state indicator. YES indicates battery is providing power (AC failure or insufficient rectifier capacity).'
          valuemap:
            name: 'CP841::BatteryDischarge'
          tags:
            - tag: alarm
              value: discharge
            - tag: component
              value: battery
          triggers:
            - uuid: 1f13e3a1bcad46a996d98ace6a1714bd
              expression: 'last(/GE - ABB - CP841 Power System/cp841.battery.discharge)="1"'
              name: 'Battery Discharge Active'
              priority: HIGH
              description: |
                PROBLEM:
                Battery is actively discharging - system running on battery backup power.
                
                IMPACT:
                • Load is being supported by battery instead of rectifiers
                • Battery reserve time decreasing
                • Risk of load shutdown if AC not restored before battery depletion
                • Potential for battery damage if discharge continues excessively
                
                SEVERITY RATIONALE: HIGH
                Battery discharge indicates loss of AC power or insufficient rectifier capacity. This is a critical condition that can lead to complete system failure if batteries are depleted. Requires immediate attention to restore primary power or increase rectifier capacity.
                
                IMMEDIATE ACTIONS:
                1. Check AC power status - verify AC input is present and within specifications
                2. Review rectifier count and capacity - ensure sufficient rectifiers are online
                3. Monitor battery reserve time - verify adequate backup time remains
                4. Check for rectifier failures or alarms - investigate any offline rectifiers
                5. Review load current - determine if load exceeds available rectifier capacity
                
                TROUBLESHOOTING STEPS:
                1. Verify AC power:
                   - Check AC voltage and current readings (all phases if 3-phase)
                   - Inspect circuit breakers and disconnects
                   - Test AC power at source
                   
                2. Check rectifier status:
                   - Review "Number of Rectifiers" item for online count
                   - Investigate any rectifier fail alarms
                   - Check "Total Online Rectifier Capacity" vs. "DC Current"
                   
                3. Battery assessment:
                   - Monitor "Battery Reserve Time" trend
                   - Check "Battery Percent of Charge"
                   - Verify battery strings are intact (no "Open String" alarms)
                
                4. Load evaluation:
                   - Compare load current to rectifier capacity
                   - Identify any sudden load increases
                   - Consider non-essential load shedding if necessary
                
                ESCALATION:
                • Immediate: If reserve time < 1 hour or rapidly decreasing
                • Within 15 minutes: If AC power not restored
                • Within 30 minutes: If cause cannot be determined
                • Escalate to: Field technician for on-site AC power restoration or rectifier replacement
              manual_close: 'YES'
        - uuid: d457c9ba199348408df3c63987fdbf25
          name: 'Battery Reserve Time'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.29.0]'
          key: cp841.battery.reserve.time
          delay: 5m
          history: 90d
          value_type: TEXT
          description: 'Calculated time battery can support current load at present discharge rate.'
          tags:
            - tag: component
              value: battery
            - tag: unit
              value: time
        - uuid: 72a188c934774cfcac7edb69e71e90ab
          name: 'Imminent Shutdown Enable'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.28.0]'
          key: cp841.battery.shutdown.imminent
          delay: 5m
          history: 90d
          description: 'Imminent shutdown feature enable status. When enabled, system shuts down at configured low voltage threshold.'
          valuemap:
            name: 'CP841::EnableDisable'
          tags:
            - tag: component
              value: battery
            - tag: role
              value: configuration
        - uuid: 45e43a3006144300bd952140fe919ab0
          name: 'Number of Battery Strings'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.25.0]'
          key: cp841.battery.strings.count
          delay: 5m
          history: 90d
          value_type: FLOAT
          description: 'Total number of battery strings configured in the system.'
          tags:
            - tag: component
              value: battery
            - tag: role
              value: configuration
        - uuid: 7f847e37997b4954b0b35c6594441411
          name: 'Battery Type'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.27.0]'
          key: cp841.battery.type
          delay: 5m
          history: 90d
          value_type: TEXT
          description: 'Configured battery chemistry type (e.g., VRLA, Flooded, Lithium-Ion).'
          tags:
            - tag: component
              value: battery
            - tag: role
              value: configuration
        - uuid: 946801efebd84cb59a5e872daedc30ff
          name: 'DC Current'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.5.0]'
          key: cp841.dc.current
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: A
          description: 'DC bus current in amperes. Represents total load current drawn from the power system.'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: dc-plant
            - tag: unit
              value: power
        - uuid: 6aa1fd8654ef4a52956c46280bd94483
          name: 'DC Plant State'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.11.0]'
          key: cp841.dc.state
          delay: 5m
          history: 90d
          value_type: TEXT
          description: 'Current operating state of DC plant: FLOAT (normal operation) or BOOST (charging/equalizing batteries).'
          tags:
            - tag: component
              value: dc-plant
            - tag: role
              value: status
        - uuid: 163b27c9bb4342f89c319b6bdb025227
          name: 'Plant Voltage Type'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.3.0]'
          key: cp841.dc.type
          delay: 5m
          history: 90d
          value_type: TEXT
          description: 'Nominal DC plant voltage classification (e.g., 24V, 48V, or custom).'
          tags:
            - tag: component
              value: dc-plant
            - tag: role
              value: configuration
        - uuid: e46302248bac4c1ca94e0aecc7595059
          name: 'DC Voltage'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.4.0]'
          key: cp841.dc.voltage
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: V
          description: 'DC bus voltage in volts. Critical parameter for system health and load operation.'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: dc-plant
            - tag: unit
              value: power
        - uuid: d2a8623eca724c9db03ed85833d0c628
          name: 'Efficiency Enable'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.16.0]'
          key: cp841.efficiency.enable
          delay: 5m
          history: 90d
          description: 'Energy management (efficiency mode) enable status. When enabled, system optimizes rectifier usage for efficiency.'
          valuemap:
            name: 'CP841::EnableDisable'
          tags:
            - tag: component
              value: efficiency
            - tag: role
              value: configuration
        - uuid: e24affbe0ec0445082db57d352839653
          name: 'Efficiency State'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.15.0]'
          key: cp841.efficiency.state
          delay: 5m
          history: 90d
          value_type: TEXT
          description: 'Current energy management operating state (e.g., ACTIVE, INACTIVE, TRANSITIONING).'
          tags:
            - tag: component
              value: efficiency
            - tag: role
              value: status
        - uuid: cc2703997d5143d2adcee8b4fa1366eb
          name: 'Efficiency Target'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.17.0]'
          key: cp841.efficiency.target
          delay: 5m
          history: 90d
          units: '%'
          description: 'Target efficiency percentage goal when operating in energy management mode.'
          tags:
            - tag: component
              value: efficiency
            - tag: role
              value: configuration
        - uuid: 8c0e6b12f65b400aa24b52883f42d268
          name: 'Efficiency Rectifier Turn On Threshold'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.18.0]'
          key: cp841.efficiency.threshold
          delay: 5m
          history: 90d
          units: '%'
          description: 'Load percentage threshold that triggers additional rectifiers to turn on during efficiency mode.'
          tags:
            - tag: component
              value: efficiency
            - tag: role
              value: configuration
        - uuid: bb98fab138354d97b1b671e4af97a836
          name: 'Total Installed Rectifier Capacity'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.6.0]'
          key: cp841.rectifier.capacity.installed
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: A
          description: 'Total nameplate capacity of all installed rectifiers in amperes.'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: rectifier
            - tag: unit
              value: capacity
        - uuid: 918d8d2e578445d5b3e113c256f130e9
          name: 'Total Online Rectifier Capacity'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.7.0]'
          key: cp841.rectifier.capacity.online
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: A
          description: 'Combined capacity of all currently online and operational rectifiers in amperes.'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: rectifier
            - tag: unit
              value: capacity
        - uuid: f8d06dffe10c45de8608ea1ca5c89a8c
          name: 'Number of Rectifiers'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.5.14.0]'
          key: cp841.rectifier.count
          delay: 5m
          history: 90d
          description: 'Total count of online and operational rectifiers currently active in the system.'
          tags:
            - tag: component
              value: rectifier
            - tag: role
              value: status
          triggers:
            - uuid: cfa3ed653b4c4cbe89c7465bc9b8c258
              expression: 'last(/GE - ABB - CP841 Power System/cp841.rectifier.count)<{$CP841.RECTIFIER.MIN}'
              name: 'Insufficient Rectifier Count (Redundancy Loss)'
              priority: AVERAGE
              description: |
                PROBLEM:
                Number of online rectifiers below minimum redundancy threshold ({$CP841.RECTIFIER.MIN}).
                
                IMPACT:
                • Loss of N+1 redundancy - single additional failure could cause battery discharge
                • Reduced total system capacity - may not support full load
                • Inability to perform maintenance on remaining rectifiers
                • Increased stress on remaining online rectifiers
                
                SEVERITY RATIONALE: AVERAGE
                While system may still be operational, redundancy loss creates vulnerability to additional failures. This is a degraded operating condition that requires attention but may not be immediately service-affecting if remaining capacity exceeds load.
                
                IMMEDIATE ACTIONS:
                1. Verify actual rectifier count matches alarm indication
                2. Check for rectifier failure alarms or indicators
                3. Review load current vs. online rectifier capacity
                4. Document any recent maintenance or changes
                5. Assess need for load shedding or emergency rectifier deployment
                
                TROUBLESHOOTING STEPS:
                1. Identify offline rectifiers:
                   - Check individual rectifier status indicators
                   - Review "Rectifier Fail" and related alarms
                   - Inspect rectifier displays or LEDs
                   
                2. Determine failure cause:
                   - Check "AC Fail" alarms for power supply issues
                   - Review "Rectifier Fan Failure" alarms
                   - Investigate "Rectifier Internal Fault" alarms
                   - Check for "Manual Off" status (administrative shutdown)
                
                3. Capacity assessment:
                   - Compare "Total Online Rectifier Capacity" to "DC Current"
                   - Calculate margin: (Online Capacity - Load Current) / Load Current
                   - Verify margin > 20% for safe operation
                
                4. Environmental checks:
                   - Review temperature readings - check for thermal issues
                   - Verify cooling system operation
                   - Inspect for physical damage or environmental contamination
                
                ESCALATION:
                • Immediate: If online capacity < load current (imminent battery discharge)
                • Within 1 hour: If only 1 rectifier remains online
                • Within 4 hours: If redundancy not restored
                • Next business day: For scheduled rectifier replacement
                • Escalate to: Power systems technician for rectifier troubleshooting/replacement
              manual_close: 'YES'
        - uuid: 2c11c4805f0648a4bbd63a891cd156ed
          name: 'Total Rectifier Drain'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.8.0]'
          key: cp841.rectifier.drain
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: A
          description: 'Total current output from all online rectifiers in amperes.'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: rectifier
            - tag: unit
              value: power
        - uuid: 892df929c79c4b01a161562c3c3ffeca
          name: 'All Rectifier On Enable'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.62.0]'
          key: cp841.rectifier.sequencing
          delay: 5m
          history: 90d
          description: 'Rectifier sequencing enable status. When enabled, brings all rectifiers online based on threshold configuration.'
          valuemap:
            name: 'CP841::EnableDisable'
          tags:
            - tag: component
              value: rectifier
            - tag: role
              value: configuration
        - uuid: 1f474be913324941a7d3a7668b72f9fc
          name: 'All Rectifier On Threshold'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.24.0]'
          key: cp841.rectifier.threshold.allon
          delay: 5m
          history: 90d
          value_type: FLOAT
          units: V
          description: 'Voltage threshold that triggers all rectifiers to turn on regardless of efficiency mode.'
          tags:
            - tag: component
              value: rectifier
            - tag: role
              value: configuration
        - uuid: 933bc16bdd494f01be5983f2af2992a4
          name: 'Rectifier A Voltage'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.6.1.7.10]'
          key: 'cp841.rectifier.voltage[A]'
          delay: 5m
          history: 90d
          units: V
          description: 'Output voltage of Rectifier A in volts.'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: rectifier
            - tag: unit
              value: individual
        - uuid: a0834af8a48e4923bf114b0af2e14c9a
          name: 'Rectifier B Voltage'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.6.1.7.11]'
          key: 'cp841.rectifier.voltage[B]'
          delay: 5m
          history: 90d
          units: V
          description: 'Output voltage of Rectifier B in volts.'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: rectifier
            - tag: unit
              value: individual
        - uuid: ed6f52a709fa4cd8810c024175581930
          name: 'Centralized Plant Shunt Size'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.10.0]'
          key: cp841.shunt.size
          delay: 5m
          history: 90d
          units: A
          description: 'Current rating of the centralized plant shunt used for current measurement.'
          tags:
            - tag: component
              value: shunt
            - tag: role
              value: configuration
        - uuid: 347e84d67c534db192cfdc197bb3affe
          name: 'Centralized Plant Shunt Type'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.9.0]'
          key: cp841.shunt.type
          delay: 5m
          history: 90d
          value_type: TEXT
          description: 'Type of centralized shunt installed: NONE, BATTERY (measures battery current), or LOAD (measures load current).'
          tags:
            - tag: component
              value: shunt
            - tag: role
              value: configuration
        - uuid: 2c95040d4a1e41c48c9997a3d35fd636
          name: 'System Description'
          type: SNMP_AGENT
          snmp_oid: 'get[.1.3.6.1.4.1.10520.2.1.5.1.2.0]'
          key: cp841.system.description
          delay: 5m
          history: 90d
          value_type: TEXT
          description: 'User-configured description of the power system location or purpose.'
          tags:
            - tag: component
              value: system
            - tag: role
              value: inventory
        - uuid: af042b6f0e094ca1a99bc8807f8a1931
          name: 'ICMP ping'
          type: SIMPLE
          key: icmpping
          history: 7d
          description: 'Checks if the CP841 controller is reachable via ICMP ping.'
          valuemap:
            name: 'Service state'
          tags:
            - tag: component
              value: health
          triggers:
            - uuid: 38e977625a174d9db9488df99810da2e
              expression: 'last(/GE - ABB - CP841 Power System/icmpping)=0'
              name: 'CP841 Controller Unreachable'
              priority: AVERAGE
              description: |
                PROBLEM: CP841 controller not responding to ICMP ping.
                
                IMPACT: Loss of monitoring visibility. Cannot verify power system status remotely.
                
                IMMEDIATE ACTIONS:
                1. Verify network connectivity
                2. Check controller power and status
                3. Attempt SNMP connectivity test
                4. Verify firewall/ACL rules
                
                ESCALATION: Within 15 minutes if power system is critical.
              manual_close: 'YES'
        - uuid: 7082aa114e154229bbf63d001c36091a
          name: 'ICMP loss'
          type: SIMPLE
          key: icmppingloss
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Percentage of ICMP ping packet loss to the CP841 controller.'
          tags:
            - tag: component
              value: health
        - uuid: 3ec60c5a3cfb4a919ec72bdd9ec3713e
          name: 'ICMP response time'
          type: SIMPLE
          key: icmppingsec
          history: 7d
          value_type: FLOAT
          units: s
          description: 'ICMP ping response time in seconds.'
          tags:
            - tag: component
              value: health
        - uuid: 4d9e51d6e36d4b938a150c2be76d9a6d
          name: 'System contact'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.4.0]'
          key: system.contact
          delay: 1h
          history: 30d
          value_type: CHAR
          description: 'MIB-2 sysContact: Contact information for system administrator.'
          inventory_link: CONTACT
          tags:
            - tag: component
              value: system
        - uuid: 95ca7dd1dfc540e8af6a2780e3082258
          name: 'System description'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.1.0]'
          key: system.descr
          delay: 1h
          history: 30d
          value_type: TEXT
          description: 'MIB-2 sysDescr: Full system description including hardware and software versions.'
          tags:
            - tag: component
              value: system
        - uuid: 850bf2b155064fbd8c653ab1d5f9a767
          name: 'System location'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.6.0]'
          key: system.location
          delay: 1h
          history: 30d
          value_type: CHAR
          description: 'MIB-2 sysLocation: Physical location of the CP841 controller.'
          inventory_link: LOCATION
          tags:
            - tag: component
              value: system
        - uuid: eb472adfd8e34a3b947f745869621e4d
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.5.0]'
          key: system.name
          delay: 1h
          history: 30d
          value_type: CHAR
          description: 'MIB-2 sysName: System hostname or identifier.'
          inventory_link: NAME
          tags:
            - tag: component
              value: system
        - uuid: 95f61efa6915442f89cf651dc67a8489
          name: 'System uptime'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.2.1.1.3.0]'
          key: system.uptime
          history: 7d
          units: uptime
          description: 'MIB-2 sysUpTime: Time since controller last restarted (in seconds).'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: d4ceb08ec8804e1cb5a010589cb8924e
              expression: 'last(/GE - ABB - CP841 Power System/system.uptime)<600'
              name: 'CP841 Controller Restarted'
              priority: WARNING
              description: |
                PROBLEM: CP841 controller has restarted (uptime < 10 minutes).
                
                IMPACT: Possible power system disruption during restart. Historical data may be lost.
                
                IMMEDIATE ACTIONS:
                1. Verify power system is stable
                2. Check for alarms or failures
                3. Review controller event log
                4. Investigate restart cause (power loss, firmware update, fault)
                
                ESCALATION: Escalate if unexpected/unplanned restart.
              manual_close: 'YES'
        - uuid: 5d2bd4bb45dc4aa89b2be1ce7c40d1e6
          name: 'SNMP availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          history: 7d
          description: 'Monitors SNMP interface availability on the CP841 controller.'
          valuemap:
            name: zabbix.host.available
          tags:
            - tag: component
              value: health
          triggers:
            - uuid: 03455d1ee93748e59884c755544bb383
              expression: 'max(/GE - ABB - CP841 Power System/zabbix[host,snmp,available],5m)=0'
              name: 'SNMP Agent Not Available'
              priority: AVERAGE
              description: |
                Problem: SNMP agent not available - monitoring lost
                
                Impact: Service-affecting alarm condition detected on CP841 power system.
                
                Severity Rationale: AVERAGE priority based on operational impact and MIB severity classification.
                
                Immediate Actions:
                1. Check CP841 front panel LED indicators
                2. Review system logs in web interface
                3. Verify all rectifiers are online and operating normally
                4. Check battery voltages and connections
                5. Confirm AC input power is present and stable
                
                Troubleshooting Steps:
                1. Log into CP841 web interface (http://device-ip)
                2. Navigate to Alarms -> Active Alarms
                3. Review alarm details and timestamp
                4. Check corresponding equipment (rectifiers, batteries, AC input)
                5. Clear alarm condition and monitor for recurrence
                6. Review event log for related alarms
                
                Escalation:
                • If alarm persists >30 minutes: Contact GE/ABB support
                • If battery discharge alarm: Escalate immediately
                • If EPO alarm: Follow emergency shutdown procedures
                • Support: ABB ELPC +1 972 244 9288
              manual_close: 'YES'
      tags:
        - tag: Application
          value: Power
        - tag: 'Device Type'
          value: 'CP841 Power System'
        - tag: Monitoring
          value: SNMP
        - tag: Vendor
          value: GE-ABB
      macros:
        - macro: '{$CP841.CURRENT.HIGH}'
          value: '100'
          description: 'High current alarm threshold (amperes). System-dependent, adjust based on load.'
        - macro: '{$CP841.RECTIFIER.MIN}'
          value: '2'
          description: 'Minimum rectifier count for redundancy. Default: 2 (N+1 redundancy requirement).'
        - macro: '{$CP841.VOLTAGE.VERYLOW}'
          value: '-40.0'
          description: 'Critical low voltage threshold (volts). Default: 40.0V - imminent shutdown level.'
      dashboards:
        - uuid: a8f4e9d2c1b34a5e9f8d7c6b5a4e3d2c
          name: 'GE/ABB CP841 Power System Overview'
          pages:
            - widgets:
                - type: problems
                  name: 'CP841 Active Problems'
                  width: '72'
                  height: '3'
                  fields:
                    - type: INTEGER
                      name: show
                      value: '3'
                    - type: INTEGER
                      name: show_tags
                      value: '3'
                - type: item
                  name: 'Plant State'
                  'y': '3'
                  width: '18'
                  height: '3'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Float/Boost Mode'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'GE - ABB - CP841 Power System'
                        key: cp841.dc.state
                - type: item
                  name: 'DC Voltage'
                  'y': '6'
                  width: '18'
                  height: '4'
                  fields:
                    - type: STRING
                      name: description
                      value: 'DC Bus Voltage'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'GE - ABB - CP841 Power System'
                        key: cp841.dc.voltage
                - type: item
                  name: 'Battery Reserve Time'
                  x: '18'
                  'y': '3'
                  width: '18'
                  height: '3'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Battery Backup Duration'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'GE - ABB - CP841 Power System'
                        key: cp841.battery.reserve.time
                - type: item
                  name: 'DC Current'
                  x: '18'
                  'y': '6'
                  width: '18'
                  height: '4'
                  fields:
                    - type: STRING
                      name: description
                      value: 'DC Bus Current'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'GE - ABB - CP841 Power System'
                        key: cp841.dc.current
                - type: item
                  name: 'Efficiency State'
                  x: '36'
                  'y': '3'
                  width: '18'
                  height: '3'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Energy Management'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'GE - ABB - CP841 Power System'
                        key: cp841.efficiency.state
                - type: item
                  name: 'Battery Discharge'
                  x: '36'
                  'y': '6'
                  width: '18'
                  height: '4'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Battery Discharge State'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'GE - ABB - CP841 Power System'
                        key: cp841.battery.discharge
                - type: item
                  name: 'Online Capacity'
                  x: '54'
                  'y': '3'
                  width: '18'
                  height: '3'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Total Rectifier Capacity'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'GE - ABB - CP841 Power System'
                        key: cp841.rectifier.capacity.online
                - type: item
                  name: 'Rectifier Count'
                  x: '54'
                  'y': '6'
                  width: '18'
                  height: '4'
                  fields:
                    - type: STRING
                      name: description
                      value: 'Online Rectifiers'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'GE - ABB - CP841 Power System'
                        key: cp841.rectifier.count
      valuemaps:
        - uuid: fc7c7001aa7f41cfab888fc784faec1b
          name: 'CP841::AlarmState'
          mappings:
            - newvalue: Normal
            - value: '0'
              newvalue: Normal
        - uuid: 0cbc57241c8c491984e75c1a9f8e65a6
          name: 'CP841::BatteryDischarge'
          mappings:
            - value: '0'
              newvalue: 'NO'
            - value: '1'
              newvalue: 'YES'
        - uuid: a84bfbfc73034d6fbe51932188862b25
          name: 'CP841::EnableDisable'
          mappings:
            - value: '0'
              newvalue: Disable
            - value: '1'
              newvalue: Enable
        - uuid: 3b024a5a195e409aa0274aef2ba0fe4c
          name: 'CP841::OnOff'
          mappings:
            - value: '0'
              newvalue: 'Off'
            - value: '1'
              newvalue: 'On'
        - uuid: bc3a039803b842278c004b8306c1588e
          name: 'CP841::PlantState'
          mappings:
            - value: FLOAT
              newvalue: Float
            - value: BOOST
              newvalue: Boost
        - uuid: 227bb59a51ef49f3ba362b76fdcdaed3
          name: 'CP841::ShuntType'
          mappings:
            - value: NONE
              newvalue: None
            - value: BATTERY
              newvalue: Battery
            - value: LOAD
              newvalue: Load
        - uuid: e545c3aa6bd74cc88aa7932f0bd2c76b
          name: 'Service state'
          mappings:
            - value: '0'
              newvalue: Down
            - value: '1'
              newvalue: Up
        - uuid: 5378fabd03f540d4a0cbe6ce237c6083
          name: zabbix.host.available
          mappings:
            - value: '0'
              newvalue: 'not available'
            - value: '1'
              newvalue: available
            - value: '2'
              newvalue: unknown
  graphs:
    - uuid: b8f4e5772479464b9da4eb9568677e9c
      name: 'DC Current Overview'
      graph_items:
        - color: 199C0D
          calc_fnc: ALL
          item:
            host: 'GE - ABB - CP841 Power System'
            key: cp841.dc.current
        - sortorder: '1'
          color: F63100
          calc_fnc: ALL
          item:
            host: 'GE - ABB - CP841 Power System'
            key: cp841.rectifier.drain
    - uuid: d1f4729b366f46dabe586e9d090087db
      name: 'DC Voltage Overview'
      graph_items:
        - color: 199C0D
          calc_fnc: ALL
          item:
            host: 'GE - ABB - CP841 Power System'
            key: cp841.dc.voltage
        - sortorder: '1'
          color: F63100
          calc_fnc: ALL
          item:
            host: 'GE - ABB - CP841 Power System'
            key: 'cp841.rectifier.voltage[A]'
        - sortorder: '2'
          color: 2774A4
          calc_fnc: ALL
          item:
            host: 'GE - ABB - CP841 Power System'
            key: 'cp841.rectifier.voltage[B]'
    - uuid: 6e8147a3e75940518d7cc03442ab3a87
      name: 'Rectifier Capacity'
      graph_items:
        - color: 1A7C11
          calc_fnc: ALL
          item:
            host: 'GE - ABB - CP841 Power System'
            key: cp841.rectifier.capacity.installed
        - sortorder: '1'
          color: 2774A4
          calc_fnc: ALL
          item:
            host: 'GE - ABB - CP841 Power System'
            key: cp841.rectifier.capacity.online
        - sortorder: '2'
          color: F63100
          calc_fnc: ALL
          item:
            host: 'GE - ABB - CP841 Power System'
            key: cp841.dc.current
