zabbix_export:
  version: '7.0'
  templates:
    - uuid: fb9284ea79864d478aad91eb73253517
      template: 'Template_SNMP_Lenovo_XCC_SR250'
      name: 'Template SNMP Lenovo XCC (SR250 tuned)'
      description: 'SNMP monitoring for Lenovo XClarity Controller (XCC) tuned for SR250: overall health + inventory (VPD) + sensors with LLD and graph prototypes.'
      groups:
        - name: 'Templates'
      items:
        - uuid: 3a4ee4402e424e838368d46c9b32214c
          name: 'XCC System health status'
          type: SNMP_AGENT
          key: 'lenovo.xcc.systemHealthStat'
          delay: 1m
          history: 90d
          trends: 365d
          value_type: UNSIGNED
          snmp_oid: '1.3.6.1.4.1.19046.11.1.1.4.1.0'
          description: 'Values: nonRecoverable(0), critical(2), nonCritical(4), normal(255)'
          tags:
            - tag: component
              value: health
          triggers:
            - uuid: b5e6990747a94a4495d13d26aa5b20a6
              name: 'XCC system health is NON-RECOVERABLE'
              expression: 'last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.systemHealthStat)=0'
              priority: DISASTER
            - uuid: eac1af793e1a457287fe9f96be4d23c2
              name: 'XCC system health is CRITICAL'
              expression: 'last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.systemHealthStat)=2'
              priority: HIGH
            - uuid: 546d627932a44099881b101fea8e4a61
              name: 'XCC system health is NON-CRITICAL'
              expression: 'last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.systemHealthStat)=4'
              priority: WARNING

        - uuid: 3dc8236b95774570ba5513df1ea51c95
          name: 'System description (sysDescr)'
          type: SNMP_AGENT
          key: 'snmp.sysDescr'
          delay: 6h
          history: 90d
          trends: 365d
          value_type: TEXT
          snmp_oid: '1.3.6.1.2.1.1.1.0'
          tags:
            - tag: component
              value: system

        - uuid: fd36588cf9a14ba3b02750db109c673c
          name: 'System uptime (sysUpTime)'
          type: SNMP_AGENT
          key: 'snmp.sysUpTime'
          delay: 5m
          history: 90d
          trends: 365d
          value_type: UNSIGNED
          units: uptime
          snmp_oid: '1.3.6.1.2.1.1.3.0'
          tags:
            - tag: component
              value: system

        - uuid: 3eba3f060fb540409a3fafbe9e0fc300
          name: 'Machine product name'
          type: SNMP_AGENT
          key: 'lenovo.xcc.vpd.productName'
          delay: 6h
          history: 90d
          trends: 365d
          value_type: TEXT
          snmp_oid: '1.3.6.1.4.1.19046.11.1.1.5.2.1.5.0'
          tags:
            - tag: component
              value: inventory

        - uuid: 5b2896503adf47deb8ebd1d11f282506
          name: 'Machine type'
          type: SNMP_AGENT
          key: 'lenovo.xcc.vpd.machineType'
          delay: 6h
          history: 90d
          trends: 365d
          value_type: TEXT
          snmp_oid: '1.3.6.1.4.1.19046.11.1.1.5.2.1.1.0'
          tags:
            - tag: component
              value: inventory

        - uuid: 4928da19ab854144b4b4fe24354c5277
          name: 'Machine model'
          type: SNMP_AGENT
          key: 'lenovo.xcc.vpd.machineModel'
          delay: 6h
          history: 90d
          trends: 365d
          value_type: TEXT
          snmp_oid: '1.3.6.1.4.1.19046.11.1.1.5.2.1.2.0'
          tags:
            - tag: component
              value: inventory

        - uuid: 512f0eaf132b4ae18925145e33e90b37
          name: 'Machine serial number'
          type: SNMP_AGENT
          key: 'lenovo.xcc.vpd.serial'
          delay: 6h
          history: 90d
          trends: 365d
          value_type: TEXT
          snmp_oid: '1.3.6.1.4.1.19046.11.1.1.5.2.1.3.0'
          tags:
            - tag: component
              value: inventory

        - uuid: a381ff8f0fc74d0799c7b43fb6489170
          name: 'Machine UUID'
          type: SNMP_AGENT
          key: 'lenovo.xcc.vpd.uuid'
          delay: 6h
          history: 90d
          trends: 365d
          value_type: TEXT
          snmp_oid: '1.3.6.1.4.1.19046.11.1.1.5.2.1.4.0'
          tags:
            - tag: component
              value: inventory

      discovery_rules:
        - uuid: a2be32477af94f8a814411b8a76a4d90
          name: 'Temperature sensors discovery (Lenovo XCC)'
          type: SNMP_AGENT
          key: 'lenovo.xcc.temp.discovery'
          delay: 1h
          lifetime: 30d
          snmp_oid: 'discovery[{#IDX},1.3.6.1.4.1.19046.11.1.1.1.2.1.1,{#NAME},1.3.6.1.4.1.19046.11.1.1.1.2.1.2]'
          graph_prototypes:
            - uuid: 83cad6ae321c4d6485e04b242d15442f
              name: 'Temp {#NAME}: Reading & CritHigh'
              graph_items:
                - sortorder: '0'
                  color: '00A0B0'
                  item:
                    host: 'Template_SNMP_Lenovo_XCC_SR250'
                    key: 'lenovo.xcc.temp.reading[{#IDX}]'
                - sortorder: '1'
                  color: 'CC0000'
                  item:
                    host: 'Template_SNMP_Lenovo_XCC_SR250'
                    key: 'lenovo.xcc.temp.critHigh[{#IDX}]'
          item_prototypes:
            - uuid: 1894d9f042824a65b9bfbe58ad5fee6c
              name: 'Temp {#NAME}: Reading'
              type: SNMP_AGENT
              key: 'lenovo.xcc.temp.reading[{#IDX}]'
              delay: 1m
              history: 90d
              trends: 365d
              value_type: FLOAT
              units: '°C'
              snmp_oid: '1.3.6.1.4.1.19046.11.1.1.1.2.1.3.{#IDX}'
              tags:
                - tag: component
                  value: temperature
            - uuid: c8ab664bbfbe45d5a6901ecbe7eb4ed7
              name: 'Temp {#NAME}: Critical high limit'
              type: SNMP_AGENT
              key: 'lenovo.xcc.temp.critHigh[{#IDX}]'
              delay: 1h
              history: 90d
              trends: 365d
              value_type: FLOAT
              units: '°C'
              snmp_oid: '1.3.6.1.4.1.19046.11.1.1.1.2.1.6.{#IDX}'
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 006909cedb2d456f9a73e7069cc7be6c
                  name: 'Temperature {#NAME} is above critical high limit'
                  expression: 'last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.temp.reading[{#IDX}])>last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.temp.critHigh[{#IDX}])'
                  priority: HIGH

        - uuid: 77da0c1163424b7ca246ce2cd82d3496
          name: 'Fan sensors discovery (Lenovo XCC)'
          type: SNMP_AGENT
          key: 'lenovo.xcc.fan.discovery'
          delay: 1h
          lifetime: 30d
          snmp_oid: 'discovery[{#IDX},1.3.6.1.4.1.19046.11.1.1.3.2.1.1,{#NAME},1.3.6.1.4.1.19046.11.1.1.3.2.1.2]'
          graph_prototypes:
            - uuid: 41a28e389e024e1e937a90f79134c04c
              name: 'Fan {#NAME}: Speed & CritLow'
              graph_items:
                - sortorder: '0'
                  color: '2774A4'
                  item:
                    host: 'Template_SNMP_Lenovo_XCC_SR250'
                    key: 'lenovo.xcc.fan.speed[{#IDX}]'
                - sortorder: '1'
                  color: 'FF9900'
                  item:
                    host: 'Template_SNMP_Lenovo_XCC_SR250'
                    key: 'lenovo.xcc.fan.critLow[{#IDX}]'
          item_prototypes:
            - uuid: 0b60e476c1d94c92bf17b79cdec4f8fe
              name: 'Fan {#NAME}: Speed'
              type: SNMP_AGENT
              key: 'lenovo.xcc.fan.speed[{#IDX}]'
              delay: 1m
              history: 90d
              trends: 365d
              value_type: UNSIGNED
              units: rpm
              snmp_oid: '1.3.6.1.4.1.19046.11.1.1.3.2.1.3.{#IDX}'
              tags:
                - tag: component
                  value: fan
            - uuid: 2bd2bcade52848e4a6fb5db02f5bf97a
              name: 'Fan {#NAME}: Critical low limit'
              type: SNMP_AGENT
              key: 'lenovo.xcc.fan.critLow[{#IDX}]'
              delay: 1h
              history: 90d
              trends: 365d
              value_type: UNSIGNED
              units: rpm
              snmp_oid: '1.3.6.1.4.1.19046.11.1.1.3.2.1.8.{#IDX}'
              tags:
                - tag: component
                  value: fan
              trigger_prototypes:
                - uuid: 2bcb1a4f634948fda785469d627753f7
                  name: 'Fan {#NAME} speed is below critical low limit'
                  expression: 'last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.fan.speed[{#IDX}])<last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.fan.critLow[{#IDX}])'
                  priority: HIGH

        - uuid: 5135f9ee49854ccbbbddc3213efa593d
          name: 'Voltage sensors discovery (Lenovo XCC)'
          type: SNMP_AGENT
          key: 'lenovo.xcc.volt.discovery'
          delay: 6h
          lifetime: 30d
          snmp_oid: 'discovery[{#IDX},1.3.6.1.4.1.19046.11.1.1.2.2.1.1,{#NAME},1.3.6.1.4.1.19046.11.1.1.2.2.1.2]'
          graph_prototypes:
            - uuid: 62e59a0a2285408c9268cf57428616d0
              name: 'Voltage {#NAME}: Reading & Limits'
              graph_items:
                - sortorder: '0'
                  color: '00A0B0'
                  item:
                    host: 'Template_SNMP_Lenovo_XCC_SR250'
                    key: 'lenovo.xcc.volt.reading[{#IDX}]'
                - sortorder: '1'
                  color: 'CC0000'
                  item:
                    host: 'Template_SNMP_Lenovo_XCC_SR250'
                    key: 'lenovo.xcc.volt.critHigh[{#IDX}]'
                - sortorder: '2'
                  color: 'FF9900'
                  item:
                    host: 'Template_SNMP_Lenovo_XCC_SR250'
                    key: 'lenovo.xcc.volt.critLow[{#IDX}]'
          item_prototypes:
            - uuid: 8a5e51fc013c49a9a240e723865bea25
              name: 'Voltage {#NAME}: Reading'
              type: SNMP_AGENT
              key: 'lenovo.xcc.volt.reading[{#IDX}]'
              delay: 5m
              history: 90d
              trends: 365d
              value_type: FLOAT
              units: V
              snmp_oid: '1.3.6.1.4.1.19046.11.1.1.2.2.1.3.{#IDX}'
              tags:
                - tag: component
                  value: voltage
            - uuid: b9e0b1a6d56743f69909687c1a3af5a3
              name: 'Voltage {#NAME}: Critical high limit'
              type: SNMP_AGENT
              key: 'lenovo.xcc.volt.critHigh[{#IDX}]'
              delay: 6h
              history: 90d
              trends: 365d
              value_type: FLOAT
              units: V
              snmp_oid: '1.3.6.1.4.1.19046.11.1.1.2.2.1.6.{#IDX}'
              tags:
                - tag: component
                  value: voltage
            - uuid: 0a410b983639494ba76caaed173014a6
              name: 'Voltage {#NAME}: Critical low limit'
              type: SNMP_AGENT
              key: 'lenovo.xcc.volt.critLow[{#IDX}]'
              delay: 6h
              history: 90d
              trends: 365d
              value_type: FLOAT
              units: V
              snmp_oid: '1.3.6.1.4.1.19046.11.1.1.2.2.1.9.{#IDX}'
              tags:
                - tag: component
                  value: voltage
              trigger_prototypes:
                - uuid: 637eba1001f34fbcabb7b105734c02c1
                  name: 'Voltage {#NAME} is above critical high limit'
                  expression: 'last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.volt.reading[{#IDX}])>last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.volt.critHigh[{#IDX}])'
                  priority: HIGH
                - uuid: 90b06f74d59846489e95455dc7e1f2c7
                  name: 'Voltage {#NAME} is below critical low limit'
                  expression: 'last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.volt.reading[{#IDX}])<last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.volt.critLow[{#IDX}])'
                  priority: HIGH

        - uuid: bbbf06d7727f4f4c8b6cf36372658cd8
          name: 'Power modules discovery (Lenovo XCC)'
          type: SNMP_AGENT
          key: 'lenovo.xcc.psu.discovery'
          delay: 6h
          lifetime: 30d
          snmp_oid: 'discovery[{#IDX},1.3.6.1.4.1.19046.11.1.1.11.2.1.1,{#NAME},1.3.6.1.4.1.19046.11.1.1.11.2.1.2]'
          item_prototypes:
            - uuid: 1e485871277b4ea5a81ad492d4590c28
              name: 'PSU {#NAME}: Health status'
              type: SNMP_AGENT
              key: 'lenovo.xcc.psu.health[{#IDX}]'
              delay: 5m
              history: 90d
              trends: 365d
              value_type: TEXT
              snmp_oid: '1.3.6.1.4.1.19046.11.1.1.11.2.1.6.{#IDX}'
              tags:
                - tag: component
                  value: psu

        - uuid: f5ec16d741a4435bbc0dbe45f6349e1a
          name: 'System health summary discovery (Lenovo XCC)'
          type: SNMP_AGENT
          key: 'lenovo.xcc.healthsum.discovery'
          delay: 6h
          lifetime: 30d
          snmp_oid: 'discovery[{#IDX},1.3.6.1.4.1.19046.11.1.1.4.2.1.1,{#DESC},1.3.6.1.4.1.19046.11.1.1.4.2.1.3]'
          item_prototypes:
            - uuid: 098031177c904587b4a3f2641b60c54f
              name: 'Health summary {#DESC}: Severity'
              type: SNMP_AGENT
              key: 'lenovo.xcc.healthsum.sev[{#IDX}]'
              delay: 5m
              history: 90d
              trends: 365d
              value_type: UNSIGNED
              snmp_oid: '1.3.6.1.4.1.19046.11.1.1.4.2.1.2.{#IDX}'
              tags:
                - tag: component
                  value: health
              trigger_prototypes:
                - uuid: 21c8daf725a7432c84eb9e6ad1db30bc
                  name: 'Health summary {#DESC} is non-recoverable'
                  expression: 'last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.healthsum.sev[{#IDX}])=0'
                  priority: DISASTER
                - uuid: 75c2aaeb28f6487dace4df61bc4c0766
                  name: 'Health summary {#DESC} is critical'
                  expression: 'last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.healthsum.sev[{#IDX}])=2'
                  priority: HIGH
                - uuid: 556c912e2d924f21b6633bd404035ac8
                  name: 'Health summary {#DESC} is non-critical'
                  expression: 'last(/Template_SNMP_Lenovo_XCC_SR250/lenovo.xcc.healthsum.sev[{#IDX}])=4'
                  priority: WARNING
  graphs:
    - uuid: 7746163e0c8e47d78a98622c5a67b30e
      name: 'XCC Overview: Health & Uptime (SR250)'
      graph_items:
        - sortorder: '0'
          color: '1A7C11'
          item:
            host: 'Template_SNMP_Lenovo_XCC_SR250'
            key: 'lenovo.xcc.systemHealthStat'
        - sortorder: '1'
          color: '2774A4'
          item:
            host: 'Template_SNMP_Lenovo_XCC_SR250'
            key: 'snmp.sysUpTime'
  triggers: []
