<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:46:57Z</date><groups><group><name>Adaptec RAID</name></group></groups><templates><template><template>Adaptec PS</template><name>Adaptec PS</name><description>## Overview

Description
-----------


This template is for discovering and monitoring adaptec storage controllers by using outputs of arcconf cli tool. Useful only if you have one adaptec adapter in server (i don't have servers with more fore testing). Now it works only with zabbix 4.2


Main features
-------------


* Discovery of controllers, logical discs, physical discs, batteries
* Monitoring controllers, logical, physical discs, batteries
* Comfortable changing of time intervals by macroses.


</description><groups><group><name>Adaptec RAID</name></group></groups><applications><application><name>Adadptec controller</name></application><application><name>Adaptec Internal items</name></application><application><name>Adaptec logical disks</name></application><application><name>Adaptec physical disks</name></application></applications><items><item><name>Controller model</name><type>DEPENDENT</type><key>adaptec.ctl.model</key><delay>0</delay><history>{$ADAP_HISTORY_PERIOD}</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Adadptec controller</name></application></applications><preprocessing><step><type>JSONPATH</type><params>$['adapter1']['Model']</params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><params>{$ADAP_THROTTLING_HB_PERIOD}</params></step></preprocessing><master_item><key>adaptec.raid[info,ad]</key></master_item></item><item><name>Controller serial number</name><type>DEPENDENT</type><key>adaptec.ctl.sn</key><delay>0</delay><history>{$ADAP_HISTORY_PERIOD}</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Adadptec controller</name></application></applications><preprocessing><step><type>JSONPATH</type><params>$['adapter1']['SN']</params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><params>{$ADAP_THROTTLING_HB_PERIOD}</params></step></preprocessing><master_item><key>adaptec.raid[info,ad]</key></master_item><triggers><trigger><expression>{diff()}=1 and {strlen()}&gt;0</expression><recovery_mode>NONE</recovery_mode><name>Adaptec controller was replaced by sn: {ITEM.LASTVALUE}</name><priority>INFO</priority><manual_close>YES</manual_close></trigger></triggers></item><item><name>Controller state</name><type>DEPENDENT</type><key>adaptec.ctl.state</key><delay>0</delay><history>{$ADAP_HISTORY_PERIOD}</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Adadptec controller</name></application></applications><preprocessing><step><type>JSONPATH</type><params>$['adapter1']['State']</params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><params>{$ADAP_THROTTLING_HB_PERIOD}</params></step></preprocessing><master_item><key>adaptec.raid[info,ad]</key></master_item><triggers><trigger><expression>{str(Optimal)}=0</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{str(Optimal)}=1</recovery_expression><name>Adaptec controller state is &quot;{ITEM.LASTVALUE}&quot;</name><priority>AVERAGE</priority><manual_close>YES</manual_close></trigger></triggers></item><item><name>All Ctls info</name><key>adaptec.raid[info,ad]</key><delay>{$ADAP_REQUEST_PERIOD}</delay><history>{$INTERNAL_ITEMS_HISTORY_PEIOD}</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Adaptec Internal items</name></application></applications></item><item><name>All Lds info</name><key>adaptec.raid[info,ld]</key><delay>{$LD_REQUEST_PERIOD}</delay><history>{$INTERNAL_ITEMS_HISTORY_PEIOD}</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Adaptec Internal items</name></application></applications></item><item><name>All Pds info</name><key>adaptec.raid[info,pd]</key><delay>{$PD_REQUEST_PERIOD}</delay><history>{$INTERNAL_ITEMS_HISTORY_PEIOD}</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Adaptec Internal items</name></application></applications></item><item><name>Controller battery state</name><type>DEPENDENT</type><key>adaptec.zmm.state</key><delay>0</delay><history>{$ADAP_HISTORY_PERIOD}</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Adadptec controller</name></application></applications><preprocessing><step><type>JSONPATH</type><params>$['adapter1']['Battery state']</params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><params>{$ADAP_THROTTLING_HB_PERIOD}</params></step></preprocessing><master_item><key>adaptec.raid[info,ad]</key></master_item><triggers><trigger><expression>{regexp(&quot;(.*Optimal.*)&quot;)}=0 and {regexp(.*no.*installed.*)}=0</expression><name>Adaptec controller battery state is &quot;{ITEM.LASTVALUE}&quot;</name><priority>AVERAGE</priority><manual_close>YES</manual_close></trigger></triggers></item></items><discovery_rules><discovery_rule><name>Logical disks discovery</name><key>adaptec.raid[lld,ld]</key><delay>{$LD_DISCOVERY_PERIOD}</delay><item_prototypes><item_prototype><name>Logical disk &quot;{#LDNAME}&quot; level</name><type>DEPENDENT</type><key>adaptec.raid.level.[{#LDNAME}]</key><delay>0</delay><history>{$LD_HISTORY_PERIOD}</history><trends>{$LD_TRENDS_PERIOD}</trends><applications><application><name>Adaptec logical disks</name></application></applications><preprocessing><step><type>JSONPATH</type><params>$['{#LDNAME}']['Raid Level']</params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><params>{$LD_THROTTLING_HB_PERIOD}</params></step></preprocessing><master_item><key>adaptec.raid[info,ld]</key></master_item></item_prototype><item_prototype><name>Logical disk &quot;{#LDNAME}&quot; state</name><type>DEPENDENT</type><key>adaptec.raid.state.[{#LDNAME}]</key><delay>0</delay><history>{$LD_HISTORY_PERIOD}</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Adaptec logical disks</name></application></applications><preprocessing><step><type>JSONPATH</type><params>$['{#LDNAME}']['State']</params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><params>{$LD_THROTTLING_HB_PERIOD}</params></step></preprocessing><master_item><key>adaptec.raid[info,ld]</key></master_item><trigger_prototypes><trigger_prototype><expression>{str(Optimal)}=0</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{str(Optimal)}=1</recovery_expression><name>Adaptec logical disk &quot;{#LDNAME}&quot;  is {ITEM.LASTVALUE}</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Physical disks discovery</name><key>adaptec.raid[lld,pd]</key><delay>{$PD_DISCOVERY_PERIOD}</delay><item_prototypes><item_prototype><name>Physical disk &quot;{#SLOT}&quot; model</name><type>DEPENDENT</type><key>adaptec.pd.model.[&quot;{#SLOT}&quot;]</key><delay>0</delay><history>{$PD_HISTORY_PERIOD}</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Adaptec physical disks</name></application></applications><preprocessing><step><type>JSONPATH</type><params>$['{#SLOT}']['Model']</params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><params>{$PD_THROTTLING_HB_PERIOD}</params></step></preprocessing><master_item><key>adaptec.raid[info,pd]</key></master_item></item_prototype><item_prototype><name>Physical disk &quot;{#SLOT}&quot; SMART warnings</name><type>DEPENDENT</type><key>adaptec.pd.smartwarn.[&quot;{#SLOT}&quot;]</key><delay>0</delay><history>{$PD_HISTORY_PERIOD}</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Adaptec physical disks</name></application></applications><preprocessing><step><type>JSONPATH</type><params>$['{#SLOT}']['SMART warnings']</params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><params>{$PD_THROTTLING_HB_PERIOD}</params></step></preprocessing><master_item><key>adaptec.raid[info,pd]</key></master_item><trigger_prototypes><trigger_prototype><expression>{last()}&gt;0</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{last()}=0</recovery_expression><name>Adaptec physical disk &quot;{#SLOT}&quot; has {ITEM.LASTVALUE} smart warnings</name><priority>AVERAGE</priority><manual_close>YES</manual_close></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Physical disk &quot;{#SLOT}&quot; serial number</name><type>DEPENDENT</type><key>adaptec.pd.sn.[&quot;{#SLOT}&quot;]</key><delay>0</delay><history>{$PD_HISTORY_PERIOD}</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Adaptec physical disks</name></application></applications><preprocessing><step><type>JSONPATH</type><params>$['{#SLOT}']['Serial number']</params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><params>{$PD_THROTTLING_HB_PERIOD}</params></step></preprocessing><master_item><key>adaptec.raid[info,pd]</key></master_item><trigger_prototypes><trigger_prototype><expression>{diff()}=1 and {strlen()}&gt;0</expression><recovery_mode>NONE</recovery_mode><name>Adaptec physical disk &quot;{#SLOT}&quot; was replaced by: {ITEM.LASTVALUE}</name><priority>INFO</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Physical disk &quot;{#SLOT}&quot; state</name><type>DEPENDENT</type><key>adaptec.pd.state.[&quot;{#SLOT}&quot;]</key><delay>0</delay><history>{$PD_HISTORY_PERIOD}</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Adaptec physical disks</name></application></applications><preprocessing><step><type>JSONPATH</type><params>$['{#SLOT}']['State']</params></step><step><type>DISCARD_UNCHANGED_HEARTBEAT</type><params>{$PD_THROTTLING_HB_PERIOD}</params></step></preprocessing><master_item><key>adaptec.raid[info,pd]</key></master_item><trigger_prototypes><trigger_prototype><expression>{str(Online)}=0 and {str(Global Hot-Spare)}=0</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{str(Online)}=1 or  {str(Global Hot-Spare)}=1</recovery_expression><name>Adaptec physical disk &quot;{#SLOT}&quot; state is {ITEM.LASTVALUE}</name><priority>AVERAGE</priority><manual_close>YES</manual_close></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes></discovery_rule></discovery_rules></template></templates></zabbix_export>
